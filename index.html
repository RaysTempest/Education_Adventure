<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Petualangan Pengetahuan Ultimate - Edisi Sempurna</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.7.77/Tone.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Fredoka+One&display=swap" rel="stylesheet">
    <style>
        /* --- Root Variables for Theming --- */
        :root {
            --bg-color: #f0f9ff;
            --text-color: #0c4a6e;
            --card-bg-color: #ffffff;
            --modal-bg-color: #ffffff;
            --border-color: #e0e7ff;
            --header-bg: rgba(255, 255, 255, 0.7);
            --locked-filter: grayscale(1);
            --pattern-url: url('data:image/svg+xml;utf8,<svg width="100" height="100" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><g fill="%23a8c5ff" fill-opacity="0.1"><circle cx="50" cy="50" r="5" /><circle cx="10" cy="10" r="2" /><circle cx="90" cy="90" r="3" /><circle cx="10" cy="90" r="4" /><circle cx="90" cy="10" r="2" /></g></svg>');
        }
        /* --- Dark Theme --- */
        body.dark {
            --bg-color: #0b1120;
            --text-color: #d1d5db;
            --card-bg-color: #1f2937;
            --modal-bg-color: #111827;
            --border-color: #374151;
            --header-bg: rgba(31, 41, 55, 0.8);
            --locked-filter: grayscale(1) invert(0.75);
            --pattern-url: url('data:image/svg+xml;utf8,<svg width="100" height="100" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><g fill="%234b5563" fill-opacity="0.2"><circle cx="50" cy="50" r="5" /><circle cx="10" cy="10" r="2" /><circle cx="90" cy="90" r="3" /><circle cx="10" cy="90" r="4" /><circle cx="90" cy="10" r="2" /></g></svg>');
        }
        /* --- High Contrast Theme --- */
        body.high-contrast {
             --bg-color: #000000;
             --text-color: #ffffff;
             --card-bg-color: #1a1a1a;
             --modal-bg-color: #000000;
             --border-color: #ffffff;
             --header-bg: rgba(0, 0, 0, 0.8);
        }

        /* --- General Styling --- */
        body { 
            font-family: 'Inter', sans-serif; 
            background-color: var(--bg-color); 
            color: var(--text-color); 
            transition: background-color 0.5s, color 0.5s;
            background-image: var(--pattern-url);
        }
        .font-brand { font-family: 'Fredoka One', cursive; }
        .card-hover { transition: transform 0.3s ease, box-shadow 0.3s ease; }
        .card-hover:hover { transform: translateY(-10px) scale(1.05); box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1); }
        .screen, .modal-overlay { display: none; }
        .screen.active, .modal-overlay.active { display: flex; }
        
        /* --- Animations --- */
        .screen.active { animation: fadeIn 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards; }
        .modal-overlay.active > .modal-content { animation: scaleUp 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) forwards; }
        .star-animation { animation: star-pop 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94); }
        .point-animation { 
            position: fixed; top: 50%; left: 50%; 
            font-size: 2.5rem; font-weight: bold; color: #f59e0b; 
            z-index: 100; pointer-events: none; 
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            animation: floatUpAndFade 1.5s ease-out forwards;
        }
        .mascot-tip { position: fixed; bottom: 20px; left: 20px; background-color: var(--modal-bg-color); padding: 15px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.2); z-index: 100; display: flex; align-items: center; max-width: 300px; animation: slideInLeft 0.5s ease-out; }
        .event-banner { background: linear-gradient(45deg, #f87171, #fb923c); color: white; text-shadow: 1px 1px 2px rgba(0,0,0,0.3); animation: pulse-bg 3s infinite; }
        .animate-shake { animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both; }

        /* --- Keyframes --- */
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes slideInLeft { from { transform: translateX(-100px); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
        @keyframes scaleUp { from { transform: scale(0.7); opacity: 0; } to { transform: scale(1); opacity: 1; } }
        @keyframes floatUpAndFade { from { opacity: 1; transform: translate(-50%, -50%) scale(1); } to { opacity: 0; transform: translate(-50%, -250%) scale(1.5); } }
        @keyframes star-pop { 0% { transform: scale(0) rotate(-180deg); opacity: 0; } 60% { transform: scale(1.5) rotate(15deg); } 100% { transform: scale(1) rotate(0deg); opacity: 1; } }
        @keyframes pulse-bg { 0% { opacity: 0.8; } 50% { opacity: 1; } 100% { opacity: 0.8; } }
        @keyframes shake { 10%, 90% { transform: translate3d(-1px, 0, 0); } 20%, 80% { transform: translate3d(2px, 0, 0); } 30%, 50%, 70% { transform: translate3d(-4px, 0, 0); } 40%, 60% { transform: translate3d(4px, 0, 0); } }

        /* --- Component Specific Styles --- */
        .avatar { width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 2rem; color: white; transition: transform 0.3s; }
        .avatar:hover { transform: scale(1.1); }
        .avatar-selection { cursor: pointer; border: 4px solid transparent; border-radius: 50%; transition: all 0.2s ease; position: relative; }
        .avatar-selection.selected { border-color: #2563eb; transform: scale(1.1); box-shadow: 0 0 15px rgba(37, 99, 235, 0.5); }
        .shop-item { cursor: pointer; border: 4px solid var(--border-color); border-radius: 1.5rem; transition: all 0.2s ease; position: relative; background-color: var(--card-bg-color); }
        .shop-item:hover { transform: scale(1.05); box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
        .shop-item.owned { border-color: #16a34a; }
        .shop-item.equipped { border-color: #2563eb; box-shadow: 0 0 20px rgba(37, 99, 235, 0.6); }
        .shop-item.locked::after { content: '🔒'; position: absolute; top: 8px; right: 8px; font-size: 1.5rem; background: rgba(0,0,0,0.4); color: white; border-radius: 50%; width: 30px; height: 30px; display: flex; align-items: center; justify-content: center; }
        .price-tag { position: absolute; bottom: -10px; left: 50%; transform: translateX(-50%); background: #fbbf24; color: #78350f; font-weight: bold; padding: 2px 10px; border-radius: 99px; font-size: 0.9rem; border: 2px solid white; }
        .bonus-world-badge { position: absolute; top: -10px; right: -10px; background-color: #ef4444; color: white; font-weight: bold; font-size: 0.75rem; padding: 2px 8px; border-radius: 99px; transform: rotate(15deg); animation: pulse 1.5s infinite; }
        @keyframes pulse { 0%, 100% { transform: scale(1) rotate(15deg); } 50% { transform: scale(1.1) rotate(15deg); } }
        /* Toggle Switch Style */
        .toggle-checkbox { transition: all 0.2s ease; }
        .toggle-checkbox:checked { transform: translateX(100%); border-color: #2563eb; }
        .toggle-checkbox:checked + .toggle-label { background-color: #2563eb; }
        .zen-mode #points-display, .zen-mode #streak-display { display: none; }
        .favorite-btn.favorited svg { fill: #facc15; stroke: #f59e0b; }
    </style>
</head>
<body class="text-gray-800">
    <audio id="background-music" loop>
        <source src="https://www.chosic.com/wp-content/uploads/2021/04/purrple-cat-wondering.mp3" type="audio/mpeg">
    </audio>

    <div id="app" class="min-h-screen flex flex-col items-center justify-center p-4 overflow-hidden">

        <!-- ===== SCREENS ===== -->
        <div id="loading-screen" class="screen active text-center flex-col w-full">
            <h1 class="font-brand text-5xl md:text-7xl text-sky-700 mb-4">Petualangan Pengetahuan</h1>
            <div class="animate-pulse text-2xl" style="color: var(--text-color);">Mempersiapkan Petualangan...</div>
        </div>
        
        <div id="user-selection-screen" class="screen text-center flex-col w-full max-w-4xl">
            <h1 class="font-brand text-5xl md:text-7xl text-sky-700 mb-4">Petualangan Pengetahuan</h1>
            <p class="text-lg md:text-xl mb-8" style="color: var(--text-color);">Siapa yang akan berpetualang hari ini?</p>
            <div id="user-list-container" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 mb-8"></div>
            <button id="add-new-user-btn" class="bg-green-500 hover:bg-green-600 text-white font-bold py-4 px-8 rounded-full shadow-lg transform hover:scale-110 transition-transform duration-300 text-xl">+ Tambah Pengguna Baru</button>
        </div>

        <div id="name-entry-screen" class="screen flex-col w-full max-w-lg">
            <div class="p-8 rounded-3xl shadow-2xl w-full text-center" style="background-color: var(--card-bg-color);">
                 <h1 class="font-brand text-4xl text-sky-700 mb-2">Buat Profil Baru</h1>
                 <p class="mb-6" style="color: var(--text-color);">Masukkan nama dan pilih avatarmu!</p>
                 <input type="text" id="player-name-input" placeholder="Contoh: Budi" class="text-center text-2xl p-4 border-2 rounded-xl shadow-inner focus:border-orange-500 focus:ring-orange-500 mb-6 w-full" style="border-color: var(--border-color); background-color: var(--bg-color);">
                 <p class="font-semibold mb-4">Pilih Avatar:</p>
                 <div id="avatar-selection-container" class="flex justify-center gap-4 mb-8"></div>
                 <div class="flex gap-4">
                    <button id="cancel-new-user-btn" class="w-full bg-gray-200 hover:bg-gray-300 text-gray-700 font-bold py-3 px-6 rounded-xl shadow-md transition-transform duration-300">Batal</button>
                    <button id="next-to-level-btn" class="w-full bg-orange-500 hover:bg-orange-600 text-white font-bold py-3 px-6 rounded-xl shadow-lg transition-transform duration-300 disabled:bg-gray-400" disabled>Lanjut</button>
                 </div>
            </div>
        </div>
        
        <div id="jenjang-screen" class="screen text-center flex-col w-full max-w-3xl">
            <h1 class="font-brand text-4xl md:text-6xl text-sky-700 mb-2">Pilih Jenjangmu</h1>
            <p class="text-lg md:text-xl mb-8" id="jenjang-prompt-name" style="color: var(--text-color);"></p>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 w-full max-w-2xl">
                <button data-jenjang="sd" class="jenjang-btn bg-green-500 hover:bg-green-600 text-white font-bold py-6 px-8 rounded-2xl shadow-lg transform hover:scale-105 transition-transform duration-300 text-2xl"><span class="text-4xl block mb-2">🎓</span> SD</button>
                <button data-jenjang="smp" class="jenjang-btn bg-blue-500 hover:bg-blue-600 text-white font-bold py-6 px-8 rounded-2xl shadow-lg transform hover:scale-105 transition-transform duration-300 text-2xl"><span class="text-4xl block mb-2">📚</span> SMP</button>
                <button data-jenjang="sma" class="jenjang-btn bg-purple-500 hover:bg-purple-600 text-white font-bold py-6 px-8 rounded-2xl shadow-lg transform hover:scale-105 transition-transform duration-300 text-2xl"><span class="text-4xl block mb-2">🔬</span> SMA</button>
                <button data-jenjang="kuliah" class="jenjang-btn bg-red-500 hover:bg-red-600 text-white font-bold py-6 px-8 rounded-2xl shadow-lg transform hover:scale-105 transition-transform duration-300 text-2xl"><span class="text-4xl block mb-2">💼</span> Mahasiswa</button>
            </div>
        </div>

        <div id="map-screen" class="screen w-full max-w-7xl mx-auto flex-col">
            <header class="flex flex-wrap justify-between items-center mb-6 px-4 gap-4 w-full backdrop-blur-sm p-4 rounded-2xl shadow" style="background-color: var(--header-bg)">
                 <div class="flex items-center gap-4">
                    <div id="user-avatar-header" class="avatar w-16 h-16 cursor-pointer" title="Ganti Pengguna"></div>
                    <div>
                        <h2 class="font-brand text-2xl md:text-4xl" style="color: var(--text-color);" id="welcome-message"></h2>
                        <h3 class="font-semibold text-lg text-amber-700" id="user-title-display"></h3>
                        <div class="flex items-center gap-4">
                            <p class="text-md md:text-lg font-bold text-amber-600" id="points-display"></p>
                            <p class="text-md md:text-lg font-bold text-red-500" id="streak-display" title="Bonus login beruntun!"></p>
                        </div>
                    </div>
                 </div>
                 <div class="flex items-center gap-2 flex-wrap justify-center">
                    <button id="shop-hub-btn" class="bg-violet-500 hover:bg-violet-600 text-white font-semibold py-2 px-4 rounded-lg shadow-md transition-transform hover:scale-105">🛍️ Toko</button>
                    <button id="daily-mission-btn" class="bg-cyan-500 hover:bg-cyan-600 text-white font-semibold py-2 px-4 rounded-lg shadow-md transition-transform hover:scale-105">🎯 Misi</button>
                    <button id="leaderboard-btn" class="bg-yellow-500 hover:bg-yellow-600 text-white font-semibold py-2 px-4 rounded-lg shadow-md transition-transform hover:scale-105">🥇 Peringkat</button>
                    <button id="achievements-btn" class="bg-amber-500 hover:bg-amber-600 text-white font-semibold py-2 px-4 rounded-lg shadow-md transition-transform hover:scale-105">🏆 Prestasi</button>
                    <button id="settings-btn" class="bg-gray-700 hover:bg-gray-800 text-white font-semibold py-2 px-4 rounded-lg shadow-md transition-transform hover:scale-105">⚙️</button>
                </div>
            </header>
            <div id="event-banner-container" class="w-full mb-4 px-2"></div>
            <div class="w-full mb-4 px-2">
                 <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                    <div class="p-3 rounded-lg shadow" style="background-color: var(--card-bg-color);">
                         <h3 class="font-bold text-center" style="color: var(--text-color);">📚 Kata Hari Ini</h3>
                         <p id="word-of-the-day" class="text-center text-sm"></p>
                    </div>
                    <div class="p-3 rounded-lg shadow flex items-center justify-around" style="background-color: var(--card-bg-color);">
                        <button id="review-mode-btn" class="bg-teal-500 hover:bg-teal-600 text-white font-semibold py-2 px-3 rounded-lg text-sm transition-transform hover:scale-105">🔁 Favorit</button>
                        <button id="timed-challenge-btn" class="bg-rose-500 hover:bg-rose-600 text-white font-semibold py-2 px-3 rounded-lg text-sm transition-transform hover:scale-105">⏱️ Tantangan Waktu</button>
                    </div>
                </div>
                <input type="text" id="search-bar" placeholder="🔍 Cari dunia atau topik..." class="w-full p-3 rounded-lg border-2 shadow-sm" style="border-color: var(--border-color); background-color: var(--card-bg-color);">
            </div>
            <div id="dunia-container" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6 md:gap-8 w-full p-2 overflow-y-auto"></div>
        </div>
        
        <div id="submateri-screen" class="screen w-full max-w-5xl mx-auto flex-col">
             <div class="flex justify-between items-center w-full mb-10">
                <button id="back-to-worlds-btn" class="bg-gray-500 hover:bg-gray-600 text-white font-bold p-3 rounded-full shadow-lg transform hover:scale-105 transition-transform">&larr;</button>
                <h2 id="submateri-title" class="font-brand text-4xl md:text-5xl text-center"></h2>
                <div class="flex items-center gap-2 p-2 rounded-full" style="background-color: var(--card-bg-color);">
                    <label for="progress-tree-toggle" class="text-sm font-semibold hidden sm:inline">Pohon Progres</label>
                    <div class="relative inline-block w-10 mr-2 align-middle select-none transition duration-200 ease-in">
                        <input type="checkbox" name="progress-tree-toggle" id="progress-tree-toggle" class="toggle-checkbox absolute block w-6 h-6 rounded-full bg-white border-4 appearance-none cursor-pointer" style="border-color: var(--border-color);"/>
                        <label for="progress-tree-toggle" class="toggle-label block overflow-hidden h-6 rounded-full bg-gray-300 cursor-pointer"></label>
                    </div>
                </div>
            </div>
             <div id="submateri-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full p-2 overflow-y-auto"></div>
       </div>

       <div id="materi-screen" class="screen w-full max-w-4xl mx-auto p-6 md:p-10 rounded-2xl shadow-2xl flex-col" style="background-color: var(--card-bg-color);">
           <div id="materi-content" class="w-full"></div>
            <div class="text-center mt-8 w-full"><button id="back-to-submateri-btn" class="bg-gray-500 hover:bg-gray-600 text-white font-bold py-3 px-6 rounded-full shadow-lg transform hover:scale-105 transition-transform">&larr; Kembali Pilih Materi</button></div>
       </div>
    </div>

    <!-- ===== MODALS ===== -->
    <div id="shop-hub-modal" class="modal-overlay fixed inset-0 bg-black bg-opacity-70 items-center justify-center p-4 z-50">
        <div class="modal-content p-8 shadow-2xl w-full max-w-2xl rounded-2xl" style="background-color: var(--modal-bg-color);">
            <h3 class="font-brand text-4xl text-violet-600 text-center mb-6">Pusat Perbelanjaan</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 text-center">
                <div id="open-avatar-shop" class="p-6 bg-rose-100 rounded-2xl cursor-pointer card-hover border-2 border-rose-300">
                    <div class="text-5xl mb-2">👕</div>
                    <h4 class="font-bold text-xl text-rose-800">Toko Avatar</h4>
                    <p class="text-sm text-rose-600">Ganti penampilanmu!</p>
                </div>
                <div id="open-customization-shop" class="p-6 bg-sky-100 rounded-2xl cursor-pointer card-hover border-2 border-sky-300">
                    <div class="text-5xl mb-2">🎨</div>
                    <h4 class="font-bold text-xl text-sky-800">Warung Kustomisasi</h4>
                    <p class="text-sm text-sky-600">Ubah tema & warna.</p>
                </div>
            </div>
            <button id="close-shop-hub-btn" class="mt-8 bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-6 rounded-full w-full transition-transform hover:scale-105">Tutup</button>
        </div>
    </div>
    
    <div id="avatar-shop-modal" class="modal-overlay fixed inset-0 bg-black bg-opacity-70 items-center justify-center p-4 z-50">
        <div class="modal-content p-8 shadow-2xl w-full max-w-3xl rounded-2xl" style="background-color: var(--modal-bg-color);">
            <div class="flex justify-between items-center mb-6">
                <h3 class="font-brand text-3xl text-violet-600">👕 Toko Avatar 👕</h3>
                <div class="font-bold text-amber-600 text-xl bg-amber-100 px-4 py-2 rounded-full" id="shop-points-display"></div>
            </div>
            <div id="avatar-shop-container" class="grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-6 max-h-80 overflow-y-auto p-4 bg-gray-50 rounded-lg" style="background-color: var(--bg-color);"></div>
            <button id="close-avatar-shop-btn" class="mt-6 bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-6 rounded-full shadow-lg w-full transition-transform hover:scale-105">Tutup</button>
        </div>
    </div>
    
    <div id="generic-shop-modal" class="modal-overlay fixed inset-0 bg-black bg-opacity-70 items-center justify-center p-4 z-50">
        <div class="modal-content p-8 shadow-2xl w-full max-w-3xl rounded-2xl" style="background-color: var(--modal-bg-color);">
            <div class="flex justify-between items-center mb-6">
                <h3 id="generic-shop-title" class="font-brand text-3xl">Nama Toko</h3>
                <div class="font-bold text-amber-600 text-xl bg-amber-100 px-4 py-2 rounded-full" id="generic-shop-points"></div>
            </div>
            <div id="generic-shop-container" class="grid grid-cols-2 md:grid-cols-3 gap-4 max-h-80 overflow-y-auto p-4 rounded-lg" style="background-color: var(--bg-color);"></div>
            <button class="generic-shop-close-btn mt-6 bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-6 rounded-full shadow-lg w-full transition-transform hover:scale-105">Tutup</button>
        </div>
    </div>
    
    <div id="settings-modal" class="modal-overlay fixed inset-0 bg-black bg-opacity-70 items-center justify-center p-4 z-50">
        <div class="modal-content p-6 shadow-2xl w-full max-w-md rounded-2xl" style="background-color: var(--modal-bg-color);">
            <h3 class="font-brand text-3xl text-sky-800 text-center mb-4">Pengaturan</h3>
            <div class="w-full">
                <div class="border-b" style="border-color: var(--border-color);">
                    <nav class="-mb-px flex space-x-4" aria-label="Tabs">
                        <button class="settings-tab whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm border-sky-500 text-sky-600" data-tab="general">Umum</button>
                        <button class="settings-tab whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300" data-tab="appearance">Tampilan</button>
                        <button class="settings-tab whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300" data-tab="account">Akun</button>
                    </nav>
                </div>
                <div id="settings-tab-content" class="py-4">
                    <div class="settings-tab-pane active" id="tab-general">
                        <div class="flex justify-between items-center p-3 rounded-lg mb-3" style="background-color: var(--bg-color);">
                            <label for="sound-toggle" class="font-semibold">Efek Suara</label>
                            <button id="sound-toggle" class="text-2xl">🔊</button>
                        </div>
                         <div class="flex justify-between items-center p-3 rounded-lg mb-3" style="background-color: var(--bg-color);">
                            <label for="music-toggle" class="font-semibold">Musik Latar</label>
                            <button id="music-toggle" class="text-2xl">🎵</button>
                        </div>
                        <div class="flex justify-between items-center p-3 rounded-lg" style="background-color: var(--bg-color);">
                            <label for="zen-mode-toggle" class="font-semibold">Mode Zen (Tanpa Skor)</label>
                            <div class="relative inline-block w-10 mr-2 align-middle select-none">
                                <input type="checkbox" name="zen-mode-toggle" id="zen-mode-toggle" class="toggle-checkbox absolute block w-6 h-6 rounded-full bg-white border-4 appearance-none cursor-pointer" style="border-color: var(--border-color);"/>
                                <label for="zen-mode-toggle" class="toggle-label block overflow-hidden h-6 rounded-full bg-gray-300 cursor-pointer"></label>
                            </div>
                        </div>
                    </div>
                    <div class="settings-tab-pane" id="tab-appearance" style="display: none;">
                         <span class="block font-semibold mb-2">Tema Tampilan</span>
                         <div class="grid grid-cols-2 gap-2" id="theme-selector">
                             <button data-theme="light" class="w-full p-2 border-2 rounded-lg font-semibold">☀️ Terang</button>
                             <button data-theme="dark" class="w-full p-2 border-2 rounded-lg font-semibold">🌙 Gelap</button>
                             <button data-theme="high-contrast" class="col-span-2 w-full p-2 border-2 rounded-lg font-semibold">Kontras Tinggi</button>
                         </div>
                    </div>
                    <div class="settings-tab-pane" id="tab-account" style="display: none;">
                        <div class="space-y-4">
                             <div>
                                <label for="edit-name-input" class="block font-semibold mb-2">Ganti Nama</label>
                                <div class="flex gap-2">
                                    <input type="text" id="edit-name-input" class="w-full p-2 border-2 rounded-lg" style="border-color: var(--border-color); background-color: var(--bg-color);">
                                    <button id="save-name-btn" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-lg">Simpan</button>
                                </div>
                            </div>
                             <div>
                                <label for="change-jenjang-select" class="block font-semibold mb-2">Ganti Jenjang</label>
                                <select id="change-jenjang-select" class="w-full p-2 border-2 rounded-lg" style="border-color: var(--border-color); background-color: var(--bg-color); color: var(--text-color);">
                                    <option value="sd">SD</option><option value="smp">SMP</option><option value="sma">SMA</option><option value="kuliah">Mahasiswa</option>
                                </select>
                            </div>
                             <hr style="border-color: var(--border-color);"/>
                            <button id="reset-progress-btn" class="w-full text-left p-3 bg-red-100 hover:bg-red-200 text-red-700 rounded-lg font-bold">🗑️ Reset Progres Pengguna Ini</button>
                        </div>
                    </div>
                </div>
            </div>
            <button id="close-settings-btn" class="mt-4 bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-6 rounded-full w-full transition-transform hover:scale-105">Tutup</button>
        </div>
    </div>
    
    <div id="daily-bonus-modal" class="modal-overlay fixed inset-0 bg-black bg-opacity-70 items-center justify-center p-4 z-50">
        <div class="modal-content p-8 shadow-2xl w-full max-w-sm text-center rounded-2xl" style="background-color: var(--modal-bg-color);">
            <h3 class="font-brand text-3xl text-yellow-500">Bonus Login Harian!</h3>
            <div class="text-7xl my-4 animate-bounce">💰</div>
            <p class="text-lg mb-2">Kamu mendapatkan <strong class="text-amber-600" id="daily-bonus-amount">50 Poin</strong>!</p>
            <p class="text-lg mb-4" id="daily-streak-bonus-text"></p>
            <button id="close-daily-bonus-btn" class="bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-6 rounded-full w-full">Asyik!</button>
        </div>
    </div>

    <div id="confirm-reset-modal" class="modal-overlay fixed inset-0 bg-black bg-opacity-70 items-center justify-center p-4 z-50">
        <div class="modal-content p-8 shadow-2xl w-full max-w-sm text-center rounded-2xl" style="background-color: var(--modal-bg-color);">
            <h3 class="font-bold text-2xl text-red-700">PERINGATAN!</h3>
            <p class="my-4">Yakin ingin mereset progres untuk <strong id="reset-username-confirm"></strong>? Semua poin & lencana akan hilang.</p>
            <div class="flex justify-center gap-4 mt-6">
                <button id="cancel-reset-btn" class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-6 rounded-full">Batal</button>
                <button id="confirm-reset-btn" class="bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-6 rounded-full">Ya, Yakin</button>
            </div>
        </div>
    </div>

    <div id="fun-fact-modal" class="modal-overlay fixed inset-0 bg-black bg-opacity-60 items-center justify-center p-4 z-50">
        <div class="modal-content p-8 shadow-2xl w-full max-w-md text-center rounded-2xl" style="background-color: var(--modal-bg-color);">
            <div id="mascot-container" class="w-24 h-24 mx-auto mb-4"></div>
            <h3 class="font-brand text-2xl text-sky-700">Fakta Seru!</h3>
            <p id="fun-fact-text" class="my-4"></p>
            <button id="close-fun-fact-btn" class="bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-6 rounded-full shadow-lg">Lanjut!</button>
        </div>
    </div>
    
    <div id="achievements-modal" class="modal-overlay fixed inset-0 bg-black bg-opacity-60 items-center justify-center p-4 z-50">
        <div class="modal-content p-8 shadow-2xl w-full max-w-lg rounded-2xl" style="background-color: var(--modal-bg-color);">
             <h3 class="font-brand text-3xl text-amber-600 text-center">🏆 Prestasiku 🏆</h3>
            <div id="achievements-list" class="space-y-3 max-h-80 overflow-y-auto mt-4"></div>
            <button id="close-achievements-btn" class="mt-6 bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-6 rounded-full shadow-lg w-full">Tutup</button>
        </div>
    </div>

    <div id="leaderboard-modal" class="modal-overlay fixed inset-0 bg-black bg-opacity-60 items-center justify-center p-4 z-50">
        <div class="modal-content p-8 shadow-2xl w-full max-w-lg rounded-2xl" style="background-color: var(--modal-bg-color);">
            <h3 class="font-brand text-3xl text-yellow-600 text-center mb-4">🥇 Papan Peringkat 🥇</h3>
            <div id="leaderboard-list" class="space-y-2 max-h-80 overflow-y-auto"></div>
            <button id="close-leaderboard-btn" class="mt-6 bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-6 rounded-full shadow-lg w-full">Tutup</button>
        </div>
    </div>
    
    <div id="stats-modal" class="modal-overlay fixed inset-0 bg-black bg-opacity-60 items-center justify-center p-4 z-50">
        <div class="modal-content bg-white rounded-2xl p-8 shadow-2xl w-full max-w-md scale-up">
            <h3 class="font-brand text-3xl text-sky-800 text-center mb-4" id="stats-username">Statistik Budi</h3>
            <div id="stats-content" class="space-y-3"></div>
            <button id="close-stats-btn" class="mt-6 bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-6 rounded-full w-full">Tutup</button>
        </div>
    </div>

    <div id="daily-mission-modal" class="modal-overlay fixed inset-0 bg-black bg-opacity-60 items-center justify-center p-4 z-50">
        <div class="modal-content p-8 shadow-2xl w-full max-w-md text-center rounded-2xl" style="background-color: var(--modal-bg-color);">
            <h3 class="font-brand text-3xl text-cyan-600 text-center mb-4">🎯 Misi Harian 🎯</h3>
            <p id="daily-mission-text" class="text-lg my-4"></p>
            <div id="mission-progress-container" class="w-full bg-gray-200 rounded-full h-6 my-4">
                <div id="mission-progress-bar" class="bg-cyan-500 h-6 rounded-full text-white flex items-center justify-center text-sm font-bold transition-all duration-500" style="width: 0%;">0%</div>
            </div>
            <button id="claim-mission-reward-btn" class="bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-6 rounded-full shadow-lg w-full disabled:bg-gray-400 disabled:cursor-not-allowed">Klaim Hadiah</button>
            <button id="close-daily-mission-btn" class="mt-4 bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-6 rounded-full shadow-lg w-full">Tutup</button>
        </div>
    </div>

    <div id="timed-challenge-modal" class="modal-overlay fixed inset-0 bg-black bg-opacity-70 items-center justify-center p-4 z-50">
        <div class="modal-content p-8 shadow-2xl w-full max-w-xl text-center rounded-2xl" style="background-color: var(--modal-bg-color);">
            <h3 class="font-brand text-3xl text-rose-600">⏱️ Tantangan Waktu ⏱️</h3>
            <div id="challenge-timer" class="my-4 text-2xl font-bold"></div>
            <div id="challenge-question-area"></div>
            <div id="challenge-feedback" class="mt-4 font-bold h-6"></div>
            <button id="close-timed-challenge-btn" class="hidden mt-4 bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-6 rounded-full w-full">Tutup</button>
        </div>
    </div>

     <div id="favorites-modal" class="modal-overlay fixed inset-0 bg-black bg-opacity-60 items-center justify-center p-4 z-50">
        <div class="modal-content p-8 shadow-2xl w-full max-w-lg rounded-2xl" style="background-color: var(--modal-bg-color);">
            <h3 class="font-brand text-3xl text-teal-600 text-center mb-4">🔁 Latihan Favorit 🔁</h3>
            <div id="favorites-list" class="space-y-2 max-h-80 overflow-y-auto"></div>
            <button id="close-favorites-btn" class="mt-6 bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-6 rounded-full shadow-lg w-full">Tutup</button>
        </div>
    </div>

    <!-- ===== Container for Animations ===== -->
    <div id="animation-container" class="pointer-events-none"></div>
    <div id="mascot-tip-container"></div>

    <script>
        // --- DATA APLIKASI ---

        const avatarData = {
            'avatar1': { svg: `<svg viewBox="0 0 36 36" fill="none" role="img" xmlns="http://www.w3.org/2000/svg" width="80" height="80"><mask id="mask__beam" maskUnits="userSpaceOnUse" x="0" y="0" width="36" height="36"><rect width="36" height="36" fill="#FFFFFF" rx="72"></rect></mask><g mask="url(#mask__beam)"><rect width="36" height="36" fill="#75d475"></rect><rect x="0" y="0" width="36" height="36" transform="translate(4 4) rotate(268 18 18) scale(1.2)" fill="#248038" rx="36"></rect><g transform="translate(-4 -1) rotate(8 18 18)"><path d="M15 21c2 1 4 1 6 0" stroke="#000000" fill="none" stroke-linecap="round"></path><rect x="10" y="14" width="1.5" height="2" rx="1" stroke="none" fill="#000000"></rect><rect x="24" y="14" width="1.5" height="2" rx="1" stroke="none" fill="#000000"></rect></g></g></svg>`, price: 0, isStarter: true },
            'avatar2': { svg: `<svg viewBox="0 0 36 36" fill="none" role="img" xmlns="http://www.w3.org/2000/svg" width="80" height="80"><mask id="mask__beam" maskUnits="userSpaceOnUse" x="0" y="0" width="36" height="36"><rect width="36" height="36" fill="#FFFFFF" rx="72"></rect></mask><g mask="url(#mask__beam)"><rect width="36" height="36" fill="#84b6e0"></rect><rect x="0" y="0" width="36" height="36" transform="translate(0 0) rotate(329 18 18) scale(1.2)" fill="#25648a" rx="36"></rect><g transform="translate(0 5) rotate(-9 18 18)"><path d="M15 21c2 1 4 1 6 0" stroke="#FFFFFF" fill="none" stroke-linecap="round"></path><rect x="14" y="14" width="1.5" height="2" rx="1" stroke="none" fill="#FFFFFF"></rect><rect x="20" y="14" width="1.5" height="2" rx="1" stroke="none" fill="#FFFFFF"></rect></g></g></svg>`, price: 0, isStarter: true },
            'avatar3': { svg: `<svg viewBox="0 0 36 36" fill="none" role="img" xmlns="http://www.w3.org/2000/svg" width="80" height="80"><mask id="mask__beam" maskUnits="userSpaceOnUse" x="0" y="0" width="36" height="36"><rect width="36" height="36" fill="#f0c38e"></rect></mask><g mask="url(#mask__beam)"><rect width="36" height="36" fill="#f0c38e"></rect><rect x="0" y="0" width="36" height="36" transform="translate(8 -6) rotate(114 18 18) scale(1.2)" fill="#a07d58" rx="36"></rect><g transform="translate(4 -4) rotate(-4 18 18)"><path d="M13,21 a8,8 0 0,0 10,0" fill="#000000"></path><rect x="14" y="14" width="1.5" height="2" rx="1" stroke="none" fill="#000000"></rect><rect x="20" y="14" width="1.5" height="2" rx="1" stroke="none" fill="#000000"></rect></g></g></svg>`, price: 0, isStarter: true },
            'avatar4': { svg: `<svg viewBox="0 0 36 36" fill="none" role="img" xmlns="http://www.w3.org/2000/svg" width="80" height="80"><mask id="mask__beam" maskUnits="userSpaceOnUse" x="0" y="0" width="36" height="36"><rect width="36" height="36" fill="#FFFFFF" rx="72"></rect></mask><g mask="url(#mask__beam)"><rect width="36" height="36" fill="#e0a3a3"></rect><rect x="0" y="0" width="36" height="36" transform="translate(-4 -4) rotate(278 18 18) scale(1.1)" fill="#9c5656" rx="64"></rect><g transform="translate(-4 0) rotate(8 18 18)"><path d="M15 19c2 1 4 1 6 0" stroke="#FFFFFF" fill="none" stroke-linecap="round"></path><rect x="11" y="14" width="1.5" height="2" rx="1" stroke="none" fill="#FFFFFF"></rect><rect x="23" y="14" width="1.5" height="2" rx="1" stroke="none" fill="#FFFFFF"></rect></g></g></svg>`, price: 0, isStarter: true },
            'avatar5': { name: "Kucing Lucu", svg: `<svg width="80" height="80" viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg"><mask id="mask0_33_33" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="36" height="36"><circle cx="18" cy="18" r="18" fill="#D9D9D9"/></mask><g mask="url(#mask0_33_33)"><rect width="36" height="36" fill="#F2D4A7"/><ellipse cx="18" cy="33.5" rx="18" ry="13.5" fill="#3B2219"/><path d="M-5 13C-5 5.8203 0.8203 -1.13379e-06 8 -1.13379e-06V13H-5Z" fill="#6A463A"/><path d="M41 13C41 5.8203 35.1797 -1.13379e-06 28 -1.13379e-06V13H41Z" fill="#6A463A"/><rect x="11" y="16" width="3" height="4" rx="1.5" fill="white"/><rect x="22" y="16" width="3" height="4" rx="1.5" fill="white"/><path d="M13 23C13 23 15 25 18 25C21 25 23 23 23 23" stroke="white" stroke-width="2" stroke-linecap="round"/></g></svg>`, price: 200 },
        };
        const shopData = {
            customization: {
                title: "Warung Kustomisasi",
                items: {
                    'theme_light': { name: "Tema Terang", icon: "☀️", price: 0, type: "theme", isDefault: true },
                    'theme_dark': { name: "Tema Gelap", icon: "🌙", price: 250, type: "theme" },
                    'theme_high-contrast': { name: "Kontras Tinggi", icon: " контрас", price: 300, type: "theme" },
                }
            }
        };

        const mascotSVG = `<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><g><path d="M50,15 C25,15 10,35 10,55 C10,80 25,95 50,95 C75,95 90,80 90,55 C90,35 75,15 50,15 Z" fill="#4CAF50"/><path d="M35,45 C40,40 50,40 55,45 C60,50 60,60 55,65 L45,65 C40,60 40,50 35,45 Z" fill="#388E3C" transform="translate(-15, 0)"/><path d="M65,45 C60,40 50,40 45,45 C40,50 40,60 45,65 L55,65 C60,60 60,50 65,45 Z" fill="#388E3C" transform="translate(15, 0)"/><circle cx="32" cy="52" r="18" fill="white"/><circle cx="68" cy="52" r="18" fill="white"/><circle cx="33" cy="53" r="8" fill="black"/><circle cx="67" cy="53" r="8" fill="black"/><path d="M50,65 C55,75 45,75 50,65 L52,70 L48,70 Z" fill="#FFC107"/><path d="M20,15 Q30,5 40,15" stroke="#388E3C" stroke-width="4" fill="none" stroke-linecap="round"/><path d="M80,15 Q70,5 60,15" stroke="#388E3C" stroke-width="4" fill="none" stroke-linecap="round"/></g></svg>`;

        // --- DATABASE LENGKAP MATERI ---
       const edukasiData = {
            sd: {
                dunia: {
                    matematika_dasar: { 
                        namaDunia: "Kerajaan Angka", warna: "blue", icon: "🔢", deskripsi: "Jelajahi dunia angka, penjumlahan, dan perkalian yang seru!", 
                        subMateri: { 
                            penjumlahan: { judul: "Berhitung Cepat", konten: "<p>Penjumlahan adalah cara menggabungkan dua angka atau lebih. Contoh: 2 apel ditambah 3 apel menjadi 5 apel.</p>", funFact: "Simbol tambah (+) sudah digunakan selama lebih dari 500 tahun!", kuis: [{ type: "pilihan-ganda", pertanyaan: "7 + 8 = ?", pilihan: ["14", "15", "16", "13"], jawaban: "15", hint:"Hitung maju 8 langkah dari 7." }] },
                            pengurangan: { judul: "Ambil dan Sisakan", konten: "<p>Pengurangan adalah mengambil sejumlah angka dari angka lain. Contoh: Punya 5 kue, dimakan 2, sisa 3 kue.</p>", funFact: "Kata 'selisih' adalah nama lain untuk hasil dari pengurangan.", kuis: [{ type: "pilihan-ganda", pertanyaan: "12 - 5 = ?", pilihan: ["6", "7", "8", "9"], jawaban: "7", hint:"Hitung mundur 5 langkah dari 12." }] },
                            perkalian: { judul: "Lompatan Ajaib", konten: "<p>Perkalian adalah penjumlahan berulang. 3 x 4 sama dengan menjumlahkan 4 sebanyak 3 kali.</p>", funFact: "Tabel perkalian modern pertama kali dibuat oleh matematikawan Skotlandia, John Napier.", kuis: [{ type: "pilihan-ganda", pertanyaan: "6 x 3 = ?", pilihan: ["18", "15", "24", "12"], jawaban: "18", hint:"Jumlahkan 6 sebanyak 3 kali." }] },
                            pembagian: { judul: "Bagi Rata", konten: "<p>Pembagian adalah membagi sama rata. 10 permen dibagi untuk 2 anak, masing-masing dapat 5.</p>", funFact: "Simbol bagi (÷) disebut obelus, yang dalam bahasa Yunani berarti 'tusuk sate'.", kuis: [{ type: "pilihan-ganda", pertanyaan: "15 / 3 = ?", pilihan: ["4", "5", "6", "3"], jawaban: "5", hint:"Berapa kali 3 muat dalam 15?" }] },
                            pecahan: { judul: "Potongan Pizza", konten: "<p>Pecahan adalah bagian dari keseluruhan. 1/2 berarti satu dari dua bagian yang sama besar.</p>", funFact: "Orang Mesir kuno menulis semua pecahan sebagai penjumlahan dari pecahan satuan (pembilang 1).", kuis: [{ type: "pilihan-ganda", pertanyaan: "Setengah dari 8 adalah...", pilihan: ["2", "4", "6", "8"], jawaban: "4", hint:"Sama dengan 8 dibagi 2." }] },
                            ganjil_genap: { judul: "Pasukan Ganjil & Genap", konten: "<p>Bilangan genap bisa berpasangan (2, 4, 6), bilangan ganjil selalu ada yang sendirian (1, 3, 5).</p>", funFact: "Menjumlahkan dua bilangan ganjil selalu menghasilkan bilangan genap.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Manakah yang bilangan ganjil?", pilihan: ["10", "17", "22", "8"], jawaban: "17", hint:"Angka yang tidak bisa dibagi 2." }] },
                            pengukuran: { judul: "Mengukur Dunia", konten: "<p>Kita mengukur panjang dengan sentimeter (cm) dan berat dengan kilogram (kg).</p>", funFact: "Satu kilogram awalnya didefinisikan berdasarkan berat satu liter air.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Alat untuk mengukur panjang buku adalah...", pilihan: ["Timbangan", "Penggaris", "Jam", "Gelas Ukur"], jawaban: "Penggaris", hint:"Ada di kotak pensilmu." }] },
                            bangun_datar_ruang: { judul: "Berburu Bentuk", konten: "<p>Ada bentuk datar (persegi, lingkaran) dan bentuk ruang (kubus, bola).</p>", funFact: "Sarang lebah menggunakan bentuk segienam karena itu cara paling efisien untuk mengisi ruang.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Benda yang bentuknya seperti dadu adalah...", pilihan: ["Bola", "Kubus", "Piramida", "Kerucut"], jawaban: "Kubus", hint:"Memiliki 6 sisi yang sama." }] },
                            waktu: { judul: "Waktu Berpetualang", konten: "<p>Jarum pendek jam menunjuk jam, jarum panjang menunjuk menit.</p>", funFact: "Pembagian jam menjadi 60 menit berasal dari sistem angka bangsa Babilonia kuno.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Jika jarum pendek di angka 3 dan panjang di 12, pukul berapa itu?", pilihan: ["12:03", "03:12", "03:00", "03:30"], jawaban: "03:00", hint:"Angka 12 pada jarum panjang berarti menit ke-0." }] },
                            pola_bilangan: { judul: "Pola Rahasia", konten: "<p>Pola adalah urutan yang berulang dengan aturan. Contoh: 2, 4, 6, 8, ... (ditambah 2).</p>", funFact: "Pola bilangan sering ditemukan di alam, seperti pada kelopak bunga dan cangkang siput.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Lanjutkan pola ini: 5, 10, 15, ...?", pilihan: ["16", "20", "25", "30"], jawaban: "20", hint:"Ini adalah pola ditambah 5." }] }
                        } 
                    },
                    bahasa_indonesia_sd: { 
                        namaDunia: "Pulau Kata", warna: "green", icon: "✍️", deskripsi: "Belajar membaca, menulis, dan menyusun kalimat dengan benar.", 
                        subMateri: {
                            alfabet: { judul: "Pasukan Alfabet", konten: "<p>Alfabet adalah kumpulan huruf dari A sampai Z. Setiap huruf memiliki bunyinya sendiri.</p>", funFact: "Bahasa Indonesia menggunakan 26 huruf alfabet Latin, sama seperti Bahasa Inggris.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Huruf apa yang datang setelah huruf 'G'?", pilihan: ["F", "H", "I", "J"], jawaban: "H", hint:"E, F, G, ..." }] },
                            merangkai_kata: { judul: "Merangkai Kata Ajaib", konten: "<p>Menggabungkan huruf vokal (a, i, u, e, o) dan konsonan akan membentuk kata yang punya arti.</p>", funFact: "Kata terpanjang dalam kamus bahasa Indonesia adalah 'mempertanggungjawabkannya'.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Susun huruf 'k-u-b-u' menjadi nama benda.", pilihan: ["kuub", "buku", "kibu", "ubuk"], jawaban: "buku", hint:"Digunakan untuk membaca." }] },
                            tanda_baca: { judul: "Tuan Tanda Baca", konten: "<p>Tanda baca membantu kita mengerti tulisan. Titik (.) untuk berhenti, koma (,) untuk jeda, dan tanda tanya (?) untuk bertanya.</p>", funFact: "Tanda seru (!) dulunya ditulis sebagai kata Latin 'io' yang berarti 'seruan kegembiraan'.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Tanda baca di akhir kalimat 'Siapa namamu' adalah...", pilihan: [".", ",", "?", "!"], jawaban: "?", hint:"Ini adalah kalimat tanya." }] },
                            kalimat: { judul: "Siapa, Apa, di Mana?", konten: "<p>Kalimat yang baik biasanya menjawab pertanyaan siapa (Subjek), melakukan apa (Predikat), dan apa/siapa yang dikenai (Objek).</p>", funFact: "Tanda titik (.) digunakan untuk mengakhiri sebuah kalimat berita.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Manakah kalimat yang benar?", pilihan: ["Makan nasi saya", "Saya makan nasi", "Nasi saya makan", "Saya nasi makan"], jawaban: "Saya makan nasi", hint:"Urutan S-P-O." }] },
                            kata_benda: { judul: "Kata Benda di Sekitarku", konten: "<p>Kata benda adalah nama orang, tempat, atau benda. Contoh: meja, buku, Rina.</p>", funFact: "Dalam beberapa bahasa, semua kata benda memiliki 'gender' (maskulin atau feminin).", kuis: [{ type: "pilihan-ganda", pertanyaan: "Manakah yang merupakan kata benda?", pilihan: ["Berlari", "Merah", "Kursi", "Cepat"], jawaban: "Kursi", hint:"Ini adalah nama sebuah benda." }] },
                            kata_kerja: { judul: "Aksi Kata Kerja", konten: "<p>Kata kerja adalah kata yang menyatakan suatu tindakan atau perbuatan. Contoh: makan, tidur, belajar.</p>", funFact: "Kata 'kerja' itu sendiri adalah sebuah kata benda!", kuis: [{ type: "pilihan-ganda", pertanyaan: "Manakah yang merupakan kata kerja?", pilihan: ["Membaca", "Cantik", "Sekolah", "Buku"], jawaban: "Membaca", hint:"Ini adalah sebuah kegiatan." }] },
                            kata_sifat: { judul: "Cantiknya Kata Sifat", konten: "<p>Kata sifat adalah kata yang menjelaskan kata benda. Contoh: besar, kecil, pintar, rajin.</p>", funFact: "Menambahkan kata 'sangat' atau 'sekali' dapat memperkuat arti kata sifat.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Dalam 'rumah besar', kata yang merupakan kata sifat adalah...", pilihan: ["Rumah", "Besar", "Yang", "Di"], jawaban: "Besar", hint:"Kata ini menjelaskan bagaimana rumah itu." }] },
                            antonim_sinonim: { judul: "Lawan dan Kawan Kata", konten: "<p>Antonim adalah lawan kata (panas-dingin), sinonim adalah persamaan kata (pintar-pandai).</p>", funFact: "Menggunakan sinonim membuat tulisan menjadi lebih menarik dan tidak membosankan.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Lawan kata dari 'terang' adalah...", pilihan: ["Cerah", "Gelap", "Siang", "Putih"], jawaban: "Gelap", hint:"Keadaan saat tidak ada cahaya." }] },
                            puisi: { judul: "Puisi Indah", konten: "<p>Puisi adalah tulisan yang menggunakan bahasa indah dan seringkali memiliki irama atau sajak (akhiran bunyi yang sama).</p>", funFact: "Puisi adalah salah satu bentuk sastra tertua di dunia.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Akhiran bunyi yang sama pada baris puisi disebut...", pilihan: ["Bait", "Baris", "Sajak", "Judul"], jawaban: "Sajak", hint:"Contoh: kelapa dan menyapa." }] },
                            dongeng: { judul: "Dongeng Kancil", konten: "<p>Dongeng adalah cerita khayalan yang tidak benar-benar terjadi, biasanya mengandung pesan moral. Fabel adalah dongeng dengan tokoh hewan.</p>", funFact: "Dongeng 'Cinderella' memiliki lebih dari 500 versi di seluruh dunia.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Cerita tentang 'Si Kancil' termasuk jenis...", pilihan: ["Berita", "Fabel", "Pengumuman", "Biografi"], jawaban: "Fabel", hint:"Tokohnya adalah hewan yang bisa bicara." }] }
                        }
                    },
                    ipa_sd: { 
                        namaDunia: "Taman Sains", warna: "yellow", icon: "🌿", deskripsi: "Pelajari tentang hewan, tumbuhan, dan alam sekitar kita.",
                        subMateri: {
                            hewan: { judul: "Sahabat Satwa", konten: "<p>Ada banyak jenis hewan di dunia. Ada karnivora (pemakan daging), herbivora (pemakan tumbuhan), dan omnivora (pemakan segala).</p>", funFact: "Gajah adalah satu-satunya mamalia yang tidak bisa melompat!", kuis: [{ type: "pilihan-ganda", pertanyaan: "Sapi adalah contoh hewan pemakan...", pilihan: ["Daging", "Tumbuhan", "Segalanya", "Ikan"], jawaban: "Tumbuhan", hint:"Sapi makan rumput." }] },
                            tumbuhan: { judul: "Akar, Batang, dan Daun", konten: "<p>Tumbuhan memiliki akar untuk menyerap air, batang untuk berdiri tegak, dan daun untuk membuat makanan (fotosintesis).</p>", funFact: "Pohon tertinggi di dunia bisa mencapai ketinggian lebih dari 100 meter!", kuis: [{ type: "pilihan-ganda", pertanyaan: "Bagian tumbuhan yang berfungsi membuat makanan adalah...", pilihan: ["Akar", "Batang", "Daun", "Bunga"], jawaban: "Daun", hint:"Warnanya biasanya hijau." }] },
                            pancaindra: { judul: "Lima Indra Ajaib", konten: "<p>Manusia punya lima indra: mata untuk melihat, telinga untuk mendengar, hidung untuk mencium, lidah untuk mengecap, dan kulit untuk meraba.</p>", funFact: "Hidung manusia bisa membedakan lebih dari 1 triliun bau yang berbeda.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Indra yang digunakan untuk merasakan manisnya gula adalah...", pilihan: ["Mata", "Kulit", "Lidah", "Telinga"], jawaban: "Lidah", hint:"Letaknya di dalam mulut." }] },
                            siklus_air: { judul: "Petualangan Air", konten: "<p>Air di bumi selalu berputar. Air laut menguap menjadi awan, lalu turun lagi sebagai hujan. Ini disebut siklus air.</p>", funFact: "Jumlah air di Bumi saat ini sama dengan jumlah air pada zaman dinosaurus.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Uap air yang naik ke langit akan membentuk...", pilihan: ["Pelangi", "Awan", "Angin", "Petir"], jawaban: "Awan", hint:"Warnanya putih atau kelabu." }] },
                            wujud_benda: { judul: "Padat, Cair, Gas!", konten: "<p>Benda memiliki tiga wujud: padat (batu), cair (air), dan gas (udara). Wujud benda bisa berubah, misalnya es mencair menjadi air.</p>", funFact: "Ada wujud benda keempat yang disebut plasma, seperti yang ada pada bintang dan petir.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Perubahan dari cair menjadi padat disebut...", pilihan: ["Mencair", "Menguap", "Membeku", "Menyublim"], jawaban: "Membeku", hint:"Seperti saat membuat es batu." }] },
                            tata_surya_sd: { judul: "Siang dan Malam", konten: "<p>Bumi berputar pada porosnya (rotasi) yang menyebabkan siang dan malam. Bumi juga mengelilingi Matahari (revolusi).</p>", funFact: "Jejak kaki para astronot di Bulan akan tetap ada di sana selama jutaan tahun karena tidak ada angin.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Peristiwa terjadinya siang dan malam disebabkan oleh...", pilihan: ["Rotasi Bumi", "Revolusi Bumi", "Gravitasi Bulan", "Rotasi Bulan"], jawaban: "Rotasi Bumi", hint:"Perputaran Bumi pada porosnya." }] },
                            cahaya: { judul: "Pelangi di Langit", konten: "<p>Cahaya merambat lurus dan bisa dibiaskan. Pelangi terbentuk karena cahaya matahari dibiaskan oleh titik-titik air hujan.</p>", funFact: "Kamu tidak akan pernah bisa mencapai ujung pelangi, karena ia bergerak seiring dengan sudut pandangmu.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Benda yang digunakan untuk melihat pantulan diri kita adalah...", pilihan: ["Kaca", "Cermin", "Lensa", "Air"], jawaban: "Cermin", hint:"Memiliki permukaan yang mengkilap." }] },
                            magnet: { judul: "Kekuatan Magnet", konten: "<p>Magnet bisa menarik benda-benda yang terbuat dari besi. Magnet memiliki dua kutub, utara dan selatan.</p>", funFact: "Bumi kita adalah sebuah magnet raksasa, itulah sebabnya kompas selalu menunjuk ke utara.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Benda yang TIDAK bisa ditarik magnet adalah...", pilihan: ["Paku", "Peniti", "Kertas", "Klip"], jawaban: "Kertas", hint:"Terbuat dari kayu." }] },
                            kesehatan: { judul: "Sehat dan Kuat", konten: "<p>Untuk menjaga tubuh tetap sehat, kita perlu makan makanan bergizi, berolahraga teratur, dan cukup istirahat.</p>", funFact: "Tertawa baik untuk jantung dan dapat meningkatkan aliran darah sebesar 20 persen.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Berikut ini yang termasuk makanan sehat adalah...", pilihan: ["Permen", "Sayuran", "Keripik", "Cokelat"], jawaban: "Sayuran", hint:"Banyak mengandung vitamin." }] },
                            lingkungan: { judul: "Jaga Bumi Kita", konten: "<p>Kita harus menjaga lingkungan dengan cara tidak membuang sampah sembarangan, menanam pohon, dan menghemat air.</p>", funFact: "Satu botol plastik membutuhkan waktu lebih dari 450 tahun untuk terurai di alam.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Kegiatan yang baik untuk lingkungan adalah...", pilihan: ["Membuang sampah di sungai", "Menebang pohon", "Menanam pohon", "Menggunakan plastik sekali pakai"], jawaban: "Menanam pohon", hint:"Membuat udara lebih sejuk." }] }
                        }
                    },
                    ips_sd: {
                        namaDunia: "Nusantara Kita", warna: "orange", icon: "🗺️", deskripsi: "Kenali keragaman suku, budaya, dan geografi Indonesia.",
                        subMateri: {
                            peta: { judul: "Membaca Peta", konten: "<p>Peta adalah gambar permukaan bumi. Ada simbol-simbol di peta untuk gunung, sungai, dan kota.</p>", funFact: "Peta tertua yang diketahui berasal dari Babilonia sekitar 2.500 tahun yang lalu.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Warna biru pada peta biasanya melambangkan...", pilihan: ["Gunung", "Hutan", "Perairan", "Gurun"], jawaban: "Perairan", hint:"Seperti warna laut dan danau." }] },
                            kenampakan_alam: { judul: "Gunung dan Pantai", konten: "<p>Indonesia punya banyak kenampakan alam seperti gunung berapi, sungai yang panjang, dan pantai yang indah.</p>", funFact: "Indonesia adalah negara dengan jumlah gunung berapi aktif terbanyak di dunia.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Daerah daratan yang menjorok ke laut disebut...", pilihan: ["Teluk", "Tanjung", "Selat", "Delta"], jawaban: "Tanjung", hint:"Kebalikan dari teluk." }] },
                            suku_bangsa: { judul: "Rumah Adat dan Suku", konten: "<p>Indonesia kaya akan suku bangsa. Setiap suku punya rumah adat, pakaian adat, dan bahasa yang unik.</p>", funFact: "Ada lebih dari 700 bahasa daerah yang digunakan di seluruh Indonesia.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Rumah Gadang adalah rumah adat dari suku...", pilihan: ["Jawa", "Minangkabau", "Dayak", "Asmat"], jawaban: "Minangkabau", hint:"Terkenal dengan atapnya yang seperti tanduk kerbau." }] },
                            kegiatan_ekonomi: { judul: "Pekerjaan di Sekitarku", konten: "<p>Orang bekerja sesuai dengan kondisi alamnya. Di pantai banyak nelayan, di pegunungan banyak petani sayur.</p>", funFact: "Pasar terapung di Kalimantan adalah contoh kegiatan ekonomi yang unik dan menyesuaikan dengan alam sungai.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Pekerjaan utama penduduk di daerah pantai adalah...", pilihan: ["Petani", "Nelayan", "Pekerja kantor", "Guru"], jawaban: "Nelayan", hint:"Mereka mencari ikan di laut." }] },
                            kerajaan_hindu_buddha: { judul: "Raja-Raja Zaman Dulu", konten: "<p>Dulu di Indonesia ada kerajaan besar seperti Sriwijaya yang jaya di laut dan Majapahit yang menyatukan nusantara.</p>", funFact: "Candi Borobudur adalah candi Buddha terbesar di dunia dan merupakan peninggalan kerajaan Mataram Kuno.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Kerajaan maritim (laut) terbesar di Indonesia adalah...", pilihan: ["Majapahit", "Sriwijaya", "Kutai", "Tarumanegara"], jawaban: "Sriwijaya", hint:"Pusatnya ada di Sumatera." }] },
                            pahlawan_nasional: { judul: "Para Pemberani", konten: "<p>Pahlawan nasional adalah orang-orang yang berjuang untuk kemerdekaan Indonesia, seperti Pangeran Diponegoro dan Cut Nyak Dien.</p>", funFact: "Nama pahlawan sering diabadikan sebagai nama jalan, bandara, dan universitas untuk menghormati jasa mereka.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Siapakah pahlawan wanita yang berasal dari Aceh?", pilihan: ["R.A. Kartini", "Cut Nyak Dien", "Dewi Sartika", "Martha Christina Tiahahu"], jawaban: "Cut Nyak Dien", hint:"Berjuang melawan Belanda." }] },
                            proklamasi: { judul: "Hari Merdeka", konten: "<p>Indonesia merdeka pada tanggal 17 Agustus 1945. Proklamasi dibacakan oleh Soekarno dan Hatta.</p>", funFact: "Naskah proklamasi yang asli ditulis tangan oleh Soekarno di rumah seorang laksamana Jepang.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Proklamasi Kemerdekaan Indonesia dilaksanakan pada tahun...", pilihan: ["1942", "1945", "1950", "1928"], jawaban: "1945", hint:"Tahun yang selalu kita rayakan." }] },
                            pancasila: { judul: "Lima Dasar Negara", konten: "<p>Pancasila adalah dasar negara kita. Sila pertama adalah Ketuhanan Yang Maha Esa, dilambangkan dengan bintang.</p>", funFact: "Burung Garuda Pancasila memiliki jumlah bulu yang melambangkan tanggal proklamasi: 17 helai di sayap, 8 di ekor, dan 45 di leher.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Sila kedua Pancasila dilambangkan dengan gambar...", pilihan: ["Pohon Beringin", "Rantai", "Padi dan Kapas", "Kepala Banteng"], jawaban: "Rantai", hint:"Melambangkan hubungan antarmanusia." }] },
                            musyawarah: { judul: "Keputusan Bersama", konten: "<p>Musyawarah adalah berdiskusi untuk mencapai keputusan bersama. Ini adalah cerminan sila keempat Pancasila.</p>", funFact: "Konsep musyawarah sudah ada sejak lama dalam budaya desa-desa di Indonesia.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Memilih ketua kelas sebaiknya dilakukan dengan cara...", pilihan: ["Paksaan", "Musyawarah", "Ditunjuk guru saja", "Adu panco"], jawaban: "Musyawarah", hint:"Agar adil untuk semua." }] },
                            gotong_royong: { judul: "Kerja Bakti", konten: "<p>Gotong royong adalah bekerja bersama-sama untuk kepentingan umum, seperti membersihkan lingkungan sekolah atau desa.</p>", funFact: "Gotong royong adalah salah satu kepribadian bangsa Indonesia yang paling dikenal.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Manfaat dari gotong royong adalah...", pilihan: ["Pekerjaan cepat selesai", "Menimbulkan perpecahan", "Membuang waktu", "Menambah pekerjaan"], jawaban: "Pekerjaan cepat selesai", hint:"Berat sama dipikul, ringan sama dijinjing." }] }
                        }
                    },
                    seni_budaya_sd: { 
                        namaDunia: "Galeri Kreasi", warna: "pink", icon: "🎨", deskripsi: "Ekspresikan dirimu melalui gambar, lagu, dan tarian!", 
                        subMateri: {
                            gambar_bentuk: { judul: "Menggambar Bentuk", konten: "<p>Menggambar bentuk adalah cara meniru objek tiga dimensi seperti kubus, bola, atau vas bunga ke dalam gambar dua dimensi.</p>", funFact: "Teknik 'arsir' digunakan untuk memberikan kesan gelap-terang pada gambar bentuk sehingga terlihat nyata.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Warna primer yang tidak bisa dibuat dari campuran warna lain adalah...", pilihan: ["Hijau, Oranye, Ungu", "Merah, Kuning, Biru", "Hitam, Putih, Abu-abu", "Merah Muda, Cokelat, Biru Dongker"], jawaban: "Merah, Kuning, Biru", hint:"Tiga warna dasar." }] },
                            campur_warna: { judul: "Campuran Warna Ajaib", konten: "<p>Warna primer (merah, kuning, biru) dapat dicampur untuk menghasilkan warna sekunder. Merah + Kuning = Oranye.</p>", funFact: "Mata manusia dapat membedakan sekitar 10 juta warna yang berbeda!", kuis: [{ type: "pilihan-ganda", pertanyaan: "Apa hasil dari campuran warna biru dan kuning?", pilihan: ["Ungu", "Cokelat", "Hijau", "Abu-abu"], jawaban: "Hijau", hint:"Seperti warna daun." }] },
                            lagu_daerah: { judul: "Lagu Daerah Nusantara", konten: "<p>Setiap daerah di Indonesia memiliki lagu daerahnya sendiri, seperti 'Ampar-Ampar Pisang' dari Kalimantan Selatan.</p>", funFact: "Lagu 'Rasa Sayange' dari Maluku pernah digunakan dalam iklan pariwisata internasional.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Lagu 'Gundul-Gundul Pacul' berasal dari daerah...", pilihan: ["Jawa Barat", "Jawa Tengah", "Sumatera Barat", "Bali"], jawaban: "Jawa Tengah", hint:"Menggunakan bahasa Jawa." }] },
                            tari_tradisional: { judul: "Tari Tradisional", konten: "<p>Tari tradisional adalah tarian yang tumbuh di kalangan rakyat. Contohnya Tari Saman dari Aceh yang sangat kompak.</p>", funFact: "Tari Kecak dari Bali tidak menggunakan iringan alat musik, melainkan paduan suara 'cak-cak' dari para penarinya.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Gerakan penari yang mengikuti irama musik disebut...", pilihan: ["Wiraga", "Wirama", "Wirasa", "Wirupa"], jawaban: "Wiraga", hint:"Berkaitan dengan raga atau tubuh." }] },
                            membuat_kolase: { judul: "Membuat Kolase", konten: "<p>Kolase adalah karya seni yang dibuat dengan menempelkan berbagai bahan seperti kertas, kain, atau biji-bijian pada sebuah permukaan.</p>", funFact: "Kata 'kolase' berasal dari bahasa Prancis 'coller' yang artinya 'merekatkan'.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Bahan alam yang bisa digunakan untuk membuat kolase adalah...", pilihan: ["Kancing", "Sedotan", "Daun kering", "Manik-manik"], jawaban: "Daun kering", hint:"Bahan yang berasal dari alam." }] },
                            mengenal_batik: { judul: "Mengenal Batik", konten: "<p>Batik adalah kain bergambar yang pembuatannya secara khusus dengan menuliskan atau menerakan malam (lilin) pada kain itu.</p>", funFact: "UNESCO telah menetapkan batik sebagai Warisan Kemanusiaan untuk Budaya Lisan dan Nonbendawi dari Indonesia.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Alat utama untuk membuat batik tulis adalah...", pilihan: ["Kuas", "Pensil", "Canting", "Spidol"], jawaban: "Canting", hint:"Alat kecil berisi lilin panas." }] },
                            alat_musik_ritmis: { judul: "Alat Musik Ritmis", konten: "<p>Alat musik ritmis berfungsi untuk memberikan irama dan tidak memiliki nada. Contohnya adalah drum, marakas, dan tamborin.</p>", funFact: "Kendang adalah salah satu alat musik ritmis utama dalam musik gamelan Jawa dan Bali.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Contoh alat musik ritmis yang dimainkan dengan cara digoyangkan adalah...", pilihan: ["Gendang", "Marakas", "Gong", "Piano"], jawaban: "Marakas", hint:"Biasanya berisi biji-bijian kecil." }] },
                            pola_irama: { judul: "Pola Irama Sederhana", konten: "<p>Pola irama adalah susunan panjang pendeknya bunyi dalam sebuah lagu. Birama 4/4 berarti ada 4 ketukan dalam satu bar.", funFact: "Detak jantung kita adalah contoh pola irama alami yang paling dasar.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Tanda istirahat dalam notasi musik berfungsi untuk...", pilihan: ["Mempercepat tempo", "Berhenti sejenak", "Mengeraskan suara", "Membuat nada tinggi"], jawaban: "Berhenti sejenak", hint:"Memberikan jeda dalam musik." }] },
                            pentas_drama: { judul: "Pentas Drama Cilik", konten: "<p>Drama adalah cerita yang dipentaskan. Unsur utamanya adalah tokoh, latar (tempat), dan alur (jalan cerita).</p>", funFact: "Pantomim adalah pertunjukan drama yang hanya menggunakan gerak tubuh tanpa dialog.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Percakapan antar tokoh dalam drama disebut...", pilihan: ["Monolog", "Prolog", "Epilog", "Dialog"], jawaban: "Dialog", hint:"Terjadi antara dua orang atau lebih." }] },
                            apresiasi_seni: { judul: "Menikmati Karya Seni", konten: "<p>Apresiasi seni adalah sikap menghargai dan menilai sebuah karya seni. Kita bisa mengomentari bentuk, warna, dan pesan dari karya tersebut.</p>", funFact: "Setiap orang bisa memiliki pendapat yang berbeda tentang sebuah karya seni, dan semuanya sah!", kuis: [{ type: "pilihan-ganda", pertanyaan: "Kegiatan menilai dan menghargai karya seni disebut...", pilihan: ["Kritik", "Apresiasi", "Koleksi", "Pameran"], jawaban: "Apresiasi", hint:"Berasal dari kata 'appreciate'." }] }
                        } 
                    },
                    pjok_sd: { 
                        namaDunia: "Arena Olahraga", warna: "red", icon: "⚽", deskripsi: "Belajar tentang olahraga dan cara menjaga tubuh tetap bugar.", 
                        subMateri: {
                            gerak_lokomotor: { judul: "Gerak Lokomotor", konten: "<p>Gerak lokomotor adalah gerakan yang membuat tubuh berpindah tempat, seperti berjalan, berlari, melompat, dan berguling.</p>", funFact: "Berlari adalah salah satu bentuk gerak lokomotor tercepat pada manusia.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Manakah yang BUKAN gerak lokomotor?", pilihan: ["Berjalan", "Berlari", "Melompat", "Memutar lengan"], jawaban: "Memutar lengan", hint:"Gerakan yang tidak berpindah tempat." }] },
                            senam_lantai: { judul: "Senam Lantai Dasar", konten: "<p>Senam lantai adalah gerakan senam yang dilakukan di atas matras. Contohnya adalah rol depan (guling depan) dan rol belakang.</p>", funFact: "Keseimbangan adalah kunci utama dalam melakukan gerakan senam lantai dengan baik.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Gerakan berguling ke depan di atas matras disebut...", pilihan: ["Kayang", "Sikap lilin", "Rol depan", "Meroda"], jawaban: "Rol depan", hint:"Dimulai dari posisi jongkok." }] },
                            permainan_kasti: { judul: "Permainan Bola Kasti", konten: "<p>Kasti adalah permainan bola kecil beregu. Ada regu pemukul dan regu penjaga. Dibutuhkan kekompakan untuk menang.</p>", funFact: "Permainan kasti melatih kecepatan lari, ketepatan melempar, dan kelihaian memukul bola.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Tugas regu penjaga dalam permainan kasti adalah...", pilihan: ["Memukul bola", "Menangkap bola dan melempar ke lawan", "Berlari ke tiang hinggap", "Menjadi wasit"], jawaban: "Menangkap bola dan melempar ke lawan", hint:"Berusaha mematikan lawan." }] },
                            renang_dasar: { judul: "Dasar-Dasar Renang", konten: "<p>Sebelum berenang, penting untuk melakukan pemanasan dan pengenalan air agar tubuh tidak kaget dan terhindar dari kram.</p>", funFact: "Manusia sebenarnya bisa mengapung di air secara alami karena sebagian besar tubuh kita terdiri dari air.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Gerakan kaki pada renang gaya bebas adalah...", pilihan: ["Seperti katak", "Naik turun bergantian", "Seperti lumba-lumba", "Diam saja"], jawaban: "Naik turun bergantian", hint:"Seperti sedang berjalan di air." }] },
                            kebugaran_jasmani: { judul: "Latihan Kebugaran", konten: "<p>Kebugaran jasmani penting agar tubuh tidak mudah lelah. Latihannya bisa berupa push-up untuk kekuatan lengan dan sit-up untuk kekuatan perut.", funFact: "Melompat-lompat di tempat selama satu menit dapat meningkatkan detak jantung dan baik untuk kesehatan.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Latihan untuk melatih kekuatan otot perut adalah...", pilihan: ["Push-up", "Sit-up", "Lari", "Squat"], jawaban: "Sit-up", hint:"Gerakan dari tidur ke duduk." }] },
                            sepak_bola_mini: { judul: "Sepak Bola Mini", konten: "<p>Sepak bola mini dimainkan dengan jumlah pemain yang lebih sedikit dan di lapangan yang lebih kecil. Aturan dasarnya sama: mencetak gol ke gawang lawan.", funFact: "Teknik dasar dalam sepak bola adalah menendang, menggiring, dan menghentikan bola.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Dalam sepak bola, pemain yang boleh menggunakan tangan adalah...", pilihan: ["Penyerang", "Gelandang", "Bek", "Penjaga gawang"], jawaban: "Penjaga gawang", hint:"Bertugas menjaga gawang." }] },
                            bulu_tangkis_dasar: { judul: "Dasar Bulu Tangkis", konten: "<p>Bulu tangkis adalah permainan menggunakan raket dan kok. Pukulan servis adalah pukulan untuk memulai permainan.", funFact: "Indonesia adalah salah satu negara terkuat di dunia dalam cabang olahraga bulu tangkis.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Pukulan keras dan menukik tajam ke area lawan disebut...", pilihan: ["Servis", "Lob", "Smash", "Dropshot"], jawaban: "Smash", hint:"Pukulan yang mematikan." }] },
                            p3k: { judul: "P3K Cedera Ringan", konten: "<p>P3K adalah Pertolongan Pertama Pada Kecelakaan. Jika temanmu lecet, bersihkan luka dengan air bersih lalu tutup dengan plester.", funFact: "Kompres es dapat membantu mengurangi bengkak pada cedera ringan seperti terkilir.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Jika hidung temanmu berdarah (mimisan), apa yang sebaiknya dilakukan?", pilihan: ["Menengadahkan kepala", "Menundukkan kepala dan menekan cuping hidung", "Menyumbat hidung dengan daun", "Berlari-lari"], jawaban: "Menundukkan kepala dan menekan cuping hidung", hint:"Agar darah tidak tertelan." }] },
                            sikap_tubuh_sehat: { judul: "Sikap Tubuh Sehat", konten: "<p>Menjaga sikap tubuh yang baik, seperti duduk dengan punggung tegak, penting untuk kesehatan tulang belakang kita.</p>", funFact: "Membungkuk saat melihat ponsel dalam waktu lama bisa menyebabkan nyeri leher.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Bagaimana posisi tidur yang baik untuk punggung?", pilihan: ["Meringkuk seperti bola", "Tengkurap", "Terlentang atau miring dengan bantal", "Duduk"], jawaban: "Terlentang atau miring dengan bantal", hint:"Posisi yang paling rileks." }] },
                            permainan_tradisional: { judul: "Permainan Tradisional", konten: "<p>Permainan tradisional seperti petak umpet, engklek, dan gobak sodor sangat menyenangkan dan melatih kita bergerak serta bekerja sama.</p>", funFact: "Bermain di luar rumah membantu tubuh mendapatkan vitamin D dari sinar matahari.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Permainan yang menggunakan batu lempar dan kotak-kotak di tanah adalah...", pilihan: ["Petak umpet", "Engklek", "Egrang", "Bentengan"], jawaban: "Engklek", hint:"Bermain dengan satu kaki." }] }
                        } 
                    },
                    pkn_sd: { 
                        namaDunia: "Istana Kewarganegaraan", warna: "purple", icon: "🏛️", deskripsi: "Pahami hak dan kewajiban sebagai warga negara cilik.", 
                        subMateri: {
                            aturan_rumah_sekolah: { judul: "Aturan di Rumah & Sekolah", konten: "<p>Aturan dibuat agar semua hal berjalan dengan tertib. Contoh aturan di rumah adalah merapikan mainan setelah bermain. Aturan di sekolah adalah datang tepat waktu.</p>", funFact: "Menaati aturan melatih kita menjadi pribadi yang disiplin dan bertanggung jawab.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Contoh menaati aturan di sekolah adalah...", pilihan: ["Mencoret-coret meja", "Mengerjakan piket kelas", "Datang terlambat", "Mengobrol saat upacara"], jawaban: "Mengerjakan piket kelas", hint:"Melaksanakan tugas yang diberikan." }] },
                            sila_pancasila: { judul: "Sila-Sila Pancasila", konten: "<p>Pancasila memiliki lima sila. Sila pertama 'Ketuhanan Yang Maha Esa' mengajarkan kita untuk percaya kepada Tuhan dan menghormati agama lain.</p>", funFact: "Urutan sila-sila dalam Pancasila tidak boleh diubah-ubah karena merupakan satu kesatuan.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Sikap yang sesuai dengan sila pertama Pancasila adalah...", pilihan: ["Rajin menabung", "Berdoa sebelum makan", "Gotong royong", "Belajar giat"], jawaban: "Berdoa sebelum makan", hint:"Berhubungan dengan Tuhan." }] },
                            bhinneka_tunggal_ika: { judul: "Arti Bhinneka Tunggal Ika", konten: "<p>Bhinneka Tunggal Ika artinya 'berbeda-beda tetapi tetap satu jua'. Ini adalah semboyan bangsa Indonesia yang menggambarkan persatuan dalam keragaman.</p>", funFact: "Semboyan ini diambil dari kitab Sutasoma karangan Mpu Tantular.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Sikap yang mencerminkan Bhinneka Tunggal Ika adalah...", pilihan: ["Hanya berteman dengan yang satu suku", "Menghargai teman yang berbeda agama", "Mengejek budaya daerah lain", "Menganggap suku sendiri paling hebat"], jawaban: "Menghargai teman yang berbeda agama", hint:"Menjaga persatuan." }] },
                            hak_kewajiban_anak: { judul: "Hak dan Kewajiban Anak", konten: "<p>Hak anak adalah sesuatu yang harus ia dapatkan, seperti hak untuk bermain dan belajar. Kewajiban adalah sesuatu yang harus dilakukan, seperti membantu orang tua.</p>", funFact: "Hak dan kewajiban harus dilaksanakan secara seimbang.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Mendapatkan kasih sayang dari orang tua adalah contoh...", pilihan: ["Kewajiban anak", "Hak anak", "Peraturan sekolah", "Hukuman"], jawaban: "Hak anak", hint:"Sesuatu yang seharusnya kamu terima." }] },
                            musyawarah_kelas: { judul: "Musyawarah di Kelas", konten: "<p>Musyawarah adalah cara mengambil keputusan bersama. Contohnya saat memilih ketua kelas. Semua siswa berhak memberikan pendapat.", funFact: "Dalam musyawarah, kita harus menghargai pendapat orang lain meskipun berbeda dengan pendapat kita.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Jika pendapat kita tidak diterima dalam musyawarah, sikap kita seharusnya...", pilihan: ["Marah dan pulang", "Menerima keputusan dengan lapang dada", "Memaksa teman lain", "Menangis"], jawaban: "Menerima keputusan dengan lapang dada", hint:"Ini adalah ciri demokrasi." }] },
                            lambang_negara: { judul: "Lambang Negara Garuda", konten: "<p>Lambang negara kita adalah Garuda Pancasila. Di dadanya terdapat perisai Pancasila, dan kakinya mencengkeram pita 'Bhinneka Tunggal Ika'.</p>", funFact: "Jumlah bulu pada Garuda Pancasila melambangkan tanggal proklamasi kemerdekaan: 17 Agustus 1945.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Apa warna dasar pada perisai di dada Garuda Pancasila?", pilihan: ["Merah dan Putih", "Kuning Emas", "Hijau", "Biru"], jawaban: "Merah dan Putih", hint:"Seperti warna bendera kita." }] },
                            menghargai_perbedaan: { judul: "Menghargai Perbedaan", konten: "<p>Setiap orang unik. Ada yang rambutnya lurus, ada yang keriting. Ada yang suka menggambar, ada yang suka olahraga. Kita harus menghargai semua perbedaan itu.</p>", funFact: "Menghargai perbedaan membuat pertemanan menjadi lebih berwarna dan menyenangkan.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Ketika temanmu sedang beribadah sesuai agamanya, apa yang kamu lakukan?", pilihan: ["Mengganggunya", "Mengajaknya bermain", "Menunggunya dengan tenang", "Menyalakan musik keras-keras"], jawaban: "Menunggunya dengan tenang", hint:"Sikap toleransi." }] },
                            tata_tertib: { judul: "Tata Tertib", konten: "<p>Tata tertib adalah peraturan yang harus ditaati. Tujuannya adalah untuk menciptakan ketertiban dan kelancaran, baik di tempat umum maupun di sekolah.</p>", funFact: "Mengantre adalah salah satu contoh menaati tata tertib di tempat umum.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Memakai seragam lengkap dan rapi adalah contoh menaati tata tertib di...", pilihan: ["Rumah", "Taman bermain", "Sekolah", "Pasar"], jawaban: "Sekolah", hint:"Peraturan khusus di lingkungan pendidikan." }] },
                            pemerintahan_desa: { judul: "Pemerintahan Desa", konten: "<p>Desa dipimpin oleh seorang Kepala Desa yang dipilih oleh warganya. Kepala Desa dibantu oleh perangkat desa lainnya dalam menjalankan tugasnya.", funFact: "Lurah adalah sebutan untuk pemimpin di wilayah kelurahan, yang biasanya berada di perkotaan.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Pemimpin pemerintahan di tingkat desa disebut...", pilihan: ["Camat", "Bupati", "Kepala Desa", "Gubernur"], jawaban: "Kepala Desa", hint:"Dipilih langsung oleh masyarakat desa." }] },
                            sumpah_pemuda: { judul: "Semangat Sumpah Pemuda", konten: "<p>Sumpah Pemuda adalah ikrar para pemuda Indonesia pada tanggal 28 Oktober 1928 yang berjanji untuk bertumpah darah, berbangsa, dan berbahasa satu, yaitu Indonesia.</p>", funFact: "Lagu 'Indonesia Raya' pertama kali diperdengarkan pada saat Kongres Pemuda II yang menghasilkan Sumpah Pemuda.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Kapan Sumpah Pemuda diikrarkan?", pilihan: ["17 Agustus 1945", "2 Mei 1908", "28 Oktober 1928", "10 November 1945"], jawaban: "28 Oktober 1928", hint:"Diperingati sebagai Hari Sumpah Pemuda." }] }
                        } 
                    },
                    tik_sd: { 
                        namaDunia: "Planet Digital", warna: "teal", icon: "💻", deskripsi: "Kenali komputer, internet, dan cara aman berselancar di dunia maya.", 
                        subMateri: {
                            perangkat_keras: { judul: "Mengenal Komputer", konten: "<p>Komputer memiliki perangkat keras (hardware) utama: monitor (layar), CPU (otak komputer), keyboard (untuk mengetik), dan mouse (untuk menggerakkan kursor).</p>", funFact: "Mouse komputer pertama terbuat dari kayu!", kuis: [{ type: "pilihan-ganda", pertanyaan: "Perangkat untuk menampilkan gambar dan tulisan dari komputer adalah...", pilihan: ["CPU", "Keyboard", "Mouse", "Monitor"], jawaban: "Monitor", hint:"Bentuknya seperti televisi." }] },
                            perangkat_lunak: { judul: "Program Komputer", konten: "<p>Perangkat lunak (software) adalah program yang menjalankan komputer. Contohnya adalah sistem operasi (seperti Windows) dan program untuk menggambar (seperti Paint).</p>", funFact: "Program komputer pertama ditulis pada tahun 1843 oleh seorang wanita bernama Ada Lovelace.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Program yang digunakan untuk menggambar di komputer adalah...", pilihan: ["Paint", "Calculator", "Word", "Excel"], jawaban: "Paint", hint:"Namanya berarti 'melukis'." }] },
                            mengetik: { judul: "Latihan Mengetik", konten: "<p>Keyboard digunakan untuk mengetik huruf dan angka. Tombol spasi untuk memberi jarak, dan tombol Enter untuk membuat baris baru.", funFact: "Susunan huruf QWERTY pada keyboard dibuat agar kita mengetik lebih lambat, karena mesin tik zaman dulu sering macet jika mengetik terlalu cepat.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Tombol untuk menghapus tulisan yang salah adalah...", pilihan: ["Enter", "Spasi", "Backspace", "Shift"], jawaban: "Backspace", hint:"Menghapus ke arah kiri." }] },
                            menggambar_paint: { judul: "Asyiknya Menggambar", konten: "<p>Di program Paint, kita bisa menggunakan berbagai alat seperti pensil, kuas, dan kaleng cat untuk membuat gambar digital yang berwarna-warni.</p>", funFact: "Kamu bisa membuat warna sendiri dengan mengklik 'Edit Colors' di Paint.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Ikon yang bentuknya seperti kaleng cat di Paint berfungsi untuk...", pilihan: ["Membuat garis", "Menulis teks", "Mewarnai bidang", "Menghapus"], jawaban: "Mewarnai bidang", hint:"Mengisi area dengan warna." }] },
                            internet_dasar: { judul: "Apa itu Internet?", konten: "<p>Internet adalah jaringan komputer raksasa yang menghubungkan seluruh dunia. Dengan internet, kita bisa mencari informasi dan berkomunikasi dengan orang lain.</p>", funFact: "Email pertama dikirim pada tahun 1971, bahkan sebelum internet dikenal luas.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Untuk terhubung ke internet, kita memerlukan...", pilihan: ["Printer", "Speaker", "Koneksi internet (misal: WiFi)", "Scanner"], jawaban: "Koneksi internet (misal: WiFi)", hint:"Sinyal yang menghubungkan perangkatmu." }] },
                            mesin_pencari: { judul: "Mencari Informasi", konten: "<p>Mesin pencari seperti Google membantu kita menemukan informasi di internet. Cukup ketik kata kunci yang ingin dicari, lalu tekan Enter.</p>", funFact: "Setiap hari, ada miliaran pencarian yang dilakukan di Google.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Kata atau frasa yang kita ketik di mesin pencari disebut...", pilihan: ["Judul", "Kata kunci", "Alamat", "Sandi"], jawaban: "Kata kunci", hint:"Kata yang menjadi kunci pencarian." }] },
                            aman_di_internet: { judul: "Aman di Dunia Maya", konten: "<p>Selalu ingat untuk tidak memberikan informasi pribadi seperti alamat rumah atau nomor telepon kepada orang asing di internet. Beritahu orang tuamu jika ada sesuatu yang membuatmu tidak nyaman.", funFact: "Kata sandi yang kuat biasanya terdiri dari campuran huruf besar, huruf kecil, angka, dan simbol.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Jika ada orang tidak dikenal menghubungimu di internet, sebaiknya kamu...", pilihan: ["Memberikan nomormu", "Mengabaikannya dan memberitahu orang tua", "Mengajaknya bertemu", "Memarahinya"], jawaban: "Mengabaikannya dan memberitahu orang tua", hint:"Keselamatan adalah yang utama." }] },
                            email: { judul: "Mengirim Surat Elektronik", konten: "<p>Email atau surel (surat elektronik) adalah cara mengirim pesan melalui internet. Setiap orang memiliki alamat email yang unik.", funFact: "Simbol '@' dalam alamat email dibaca 'at' yang dalam bahasa Inggris berarti 'di'.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Bagian dari email untuk menuliskan isi pesan utama adalah...", pilihan: ["Kepada (To)", "Subjek (Subject)", "Badan Email (Body)", "Lampiran (Attachment)"], jawaban: "Badan Email (Body)", hint:"Tempat untuk menulis suratnya." }] },
                            menyimpan_file: { judul: "Menyimpan Pekerjaanmu", konten: "<p>Setelah selesai menggambar atau mengetik, jangan lupa menyimpan file agar tidak hilang. Biasanya dengan mengklik File lalu Save.", funFact: "Nama file sebaiknya menggambarkan isinya, agar mudah dicari lagi nanti.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Ekstensi file untuk gambar yang dibuat di Paint biasanya adalah...", pilihan: [".docx", ".mp3", ".png atau .jpg", ".txt"], jawaban: ".png atau .jpg", hint:"Ekstensi untuk file gambar." }] },
                            merawat_komputer: { judul: "Merawat Komputer", konten: "<p>Jaga kebersihan komputer dengan membersihkan layar dan keyboard. Jangan makan dan minum di dekat komputer agar tidak tumpah.", funFact: "Mematikan komputer dengan prosedur yang benar (Shutdown) dapat membuatnya lebih awet.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Cara mematikan komputer yang benar adalah...", pilihan: ["Mencabut kabel listrik langsung", "Menekan tombol power lama-lama", "Melalui menu Start lalu Shutdown", "Menyiramnya dengan air"], jawaban: "Melalui menu Start lalu Shutdown", hint:"Prosedur yang aman." }] }
                        } 
                    },
                    musik_sd: { 
                        namaDunia: "Melodi Ceria", warna: "fuchsia", icon: "🎵", deskripsi: "Mengenal not, irama, dan alat musik yang menyenangkan.", 
                        subMateri: {
                            nada_tinggi_rendah: { judul: "Nada Tinggi dan Rendah", konten: "<p>Dalam musik, ada nada yang terdengar tinggi dan ada yang rendah. Pada not balok, semakin tinggi posisi not, semakin tinggi nadanya.", funFact: "Suara peluit bernada tinggi, sedangkan suara drum bernada rendah.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Tangga nada dasar dalam musik adalah...", pilihan: ["A-B-C-D-E-F-G", "Do-Re-Mi-Fa-So-La-Si-Do", "1-2-3-4-5-6-7-8", "Alif-Ba-Ta"], jawaban: "Do-Re-Mi-Fa-So-La-Si-Do", hint:"Terdiri dari 8 nada." }] },
                            tempo: { judul: "Tempo Cepat dan Lambat", konten: "<p>Tempo adalah cepat lambatnya sebuah lagu dinyanyikan. Lagu gembira biasanya bertempo cepat, lagu sedih bertempo lambat.", funFact: "Kata 'tempo' berasal dari bahasa Italia yang artinya 'waktu'.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Lagu 'Bintang Kecil' sebaiknya dinyanyikan dengan tempo...", pilihan: ["Sangat cepat (Allegro)", "Lambat (Largo)", "Cepat (Vivace)", "Sedang (Moderato)"], jawaban: "Lambat (Largo)", hint:"Lagu pengantar tidur." }] },
                            dinamik: { judul: "Dinamik Keras dan Lembut", konten: "<p>Dinamik adalah keras lembutnya suara saat bernyanyi atau bermain musik. Tanda 'f' (forte) berarti keras, tanda 'p' (piano) berarti lembut.", funFact: "Nama alat musik 'piano' sebenarnya adalah 'pianoforte', yang berarti bisa memainkan nada lembut dan keras.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Untuk menunjukkan bagian lagu yang dinyanyikan dengan sangat keras, digunakan tanda...", pilihan: ["p (piano)", "mp (mezzo piano)", "f (forte)", "ff (fortissimo)"], jawaban: "ff (fortissimo)", hint:"Sangat forte." }] },
                            alat_musik_melodis: { judul: "Alat Musik Melodis", konten: "<p>Alat musik melodis adalah alat musik yang dapat menghasilkan nada, seperti piano, pianika, dan rekorder.</p>", funFact: "Pianika dimainkan dengan cara ditiup sambil menekan tuts-tutsnya.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Berikut ini yang merupakan alat musik melodis adalah...", pilihan: ["Drum", "Gendang", "Pianika", "Triangle"], jawaban: "Pianika", hint:"Bisa memainkan melodi lagu." }] },
                            not_angka: { judul: "Membaca Not Angka", konten: "<p>Not angka menggunakan angka 1 (do) hingga 7 (si) untuk mewakili nada. Tanda titik di atas atau di bawah angka menunjukkan nada yang lebih tinggi atau rendah.", funFact: "Sistem notasi angka ini sangat populer di Indonesia untuk belajar musik.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Dalam notasi angka, angka 5 melambangkan nada...", pilihan: ["Do", "Mi", "Sol", "Si"], jawaban: "Sol", hint:"Do, Re, Mi, Fa, ..." }] },
                            bernyanyi_unisono: { judul: "Bernyanyi Unisono", konten: "<p>Bernyanyi secara unisono berarti menyanyikan melodi yang sama secara bersama-sama dalam satu suara. Contohnya saat kita menyanyikan lagu Indonesia Raya saat upacara.", funFact: "Paduan suara yang baik membutuhkan kekompakan dalam memulai dan mengakhiri lagu bersama-sama.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Bernyanyi bersama-sama dengan satu suara disebut...", pilihan: ["Solo", "Duet", "Unisono", "Kuartet"], jawaban: "Unisono", hint:"'Uni' berarti satu." }] },
                            alat_musik_harmonis: { judul: "Alat Musik Harmonis", konten: "<p>Alat musik harmonis dapat memainkan beberapa nada sekaligus untuk menciptakan harmoni atau akor, contohnya gitar dan keyboard.", funFact: "Satu akor biasanya terdiri dari tiga nada atau lebih yang dimainkan bersamaan.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Contoh alat musik harmonis adalah...", pilihan: ["Seruling", "Gitar", "Tamborin", "Marakas"], jawaban: "Gitar", hint:"Bisa memainkan melodi dan iringan sekaligus." }] },
                            birama: { judul: "Ketukan Birama", konten: "<p>Birama adalah bagian dari baris melodi yang menunjukkan jumlah ketukan. Birama 2/4 artinya ada dua ketukan dalam setiap ruas birama.", funFact: "Dirigen atau konduktor orkestra menggunakan gerakan tangan untuk memberikan aba-aba birama kepada para pemain musik.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Lagu 'Topi Saya Bundar' memiliki birama...", pilihan: ["2/4", "3/4", "4/4", "6/8"], jawaban: "4/4", hint:"Hitung ketukannya: To-pi-sa-ya | Bun-dar..." }] },
                            lagu_wajib_nasional: { judul: "Lagu Wajib Nasional", konten: "<p>Lagu wajib nasional adalah lagu yang diciptakan untuk menanamkan rasa cinta tanah air, seperti 'Indonesia Raya' dan 'Garuda Pancasila'.</p>", funFact: "Lagu 'Indonesia Raya' diciptakan oleh Wage Rudolf Supratman.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Siapakah pencipta lagu 'Garuda Pancasila'?", pilihan: ["Ibu Sud", "C. Simanjuntak", "Sudharnoto", "W.R. Supratman"], jawaban: "Sudharnoto", hint:"Bukan pencipta Indonesia Raya." }] },
                            bunyi_alam_buatan: { judul: "Bunyi Alam dan Buatan", konten: "<p>Bunyi bisa berasal dari alam (suara hujan, kicau burung) atau buatan manusia (suara tepuk tangan, bunyi klakson mobil).</p>", funFact: "Gema terjadi ketika suara memantul kembali dari permukaan yang keras.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Suara petir adalah contoh dari bunyi...", pilihan: ["Buatan", "Musik", "Alam", "Ritmis"], jawaban: "Alam", hint:"Berasal dari gejala alam." }] }
                        } 
                    },
                    inggris_sd: { 
                        namaDunia: "Kampung Inggris", warna: "indigo", icon: "🇬🇧", deskripsi: "Pelajari kata-kata dan percakapan dasar dalam Bahasa Inggris.", 
                        subMateri: {
                            greetings: { judul: "Greetings (Sapaan)", konten: "<p>Untuk menyapa dalam bahasa Inggris, kita bisa menggunakan 'Hello', 'Hi', 'Good morning' (selamat pagi), 'Good afternoon' (selamat siang), dan 'Good evening' (selamat malam).</p>", funFact: "'Goodbye' adalah kependekan dari frasa 'God be with ye' (Tuhan bersamamu).", kuis: [{ type: "pilihan-ganda", pertanyaan: "Apa yang kamu ucapkan saat bertemu guru di pagi hari?", pilihan: ["Good night", "Good morning", "Goodbye", "Hello"], jawaban: "Good morning", hint:"Pagi hari." }] },
                            numbers: { judul: "Numbers (Angka)", konten: "<p>Mari berhitung dalam bahasa Inggris! 1 (one), 2 (two), 3 (three), 4 (four), 5 (five), 6 (six), 7 (seven), 8 (eight), 9 (nine), 10 (ten).</p>", funFact: "Angka 'four' (4) adalah satu-satunya angka yang jumlah hurufnya sama dengan nilainya.", kuis: [{ type: "pilihan-ganda", pertanyaan: "What comes after six?", pilihan: ["Five", "Eight", "Seven", "Nine"], jawaban: "Seven", hint:"Angka setelah enam." }] },
                            colors: { judul: "Colors (Warna)", konten: "<p>Warna dalam bahasa Inggris: red (merah), yellow (kuning), blue (biru), green (hijau), black (hitam), white (putih).</p>", funFact: "Beberapa penelitian menunjukkan bahwa warna biru adalah warna yang paling disukai di seluruh dunia.", kuis: [{ type: "pilihan-ganda", pertanyaan: "The color of the sky is...", pilihan: ["Red", "Green", "Yellow", "Blue"], jawaban: "Blue", hint:"Warna langit." }] },
                            animals: { judul: "Animals (Hewan)", konten: "<p>Nama-nama hewan: cat (kucing), dog (anjing), bird (burung), fish (ikan), elephant (gajah), lion (singa).</p>", funFact: "Suara kucing 'meow' dalam bahasa Inggris hampir sama bunyinya di banyak bahasa lain.", kuis: [{ type: "pilihan-ganda", pertanyaan: "An animal that can fly is a...", pilihan: ["Fish", "Dog", "Bird", "Cat"], jawaban: "Bird", hint:"Hewan yang bisa terbang." }] },
                            fruits: { judul: "Fruits (Buah-buahan)", konten: "<p>Nama buah-buahan: apple (apel), banana (pisang), orange (jeruk), grape (anggur), watermelon (semangka).</p>", funFact: "Tomat sebenarnya adalah buah, bukan sayuran!", kuis: [{ type: "pilihan-ganda", pertanyaan: "A monkey likes to eat...", pilihan: ["Apple", "Grape", "Watermelon", "Banana"], jawaban: "Banana", hint:"Buah kesukaan monyet." }] },
                            family: { judul: "My Family (Keluargaku)", konten: "<p>Anggota keluarga: father (ayah), mother (ibu), brother (saudara laki-laki), sister (saudara perempuan), grandfather (kakek), grandmother (nenek).</p>", funFact: "Kata 'dad' dan 'mom' adalah panggilan informal yang umum digunakan di banyak negara berbahasa Inggris.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Your mother's mother is your...", pilihan: ["Sister", "Aunt", "Grandmother", "Cousin"], jawaban: "Grandmother", hint:"Ibunya ibumu." }] },
                            body_parts: { judul: "Body Parts (Bagian Tubuh)", konten: "<p>Bagian tubuh kita: head (kepala), eyes (mata), nose (hidung), mouth (mulut), ears (telinga), hand (tangan), foot (kaki).</p>", funFact: "Sidik jari setiap orang benar-benar unik, tidak ada yang sama persis.", kuis: [{ type: "pilihan-ganda", pertanyaan: "We use our ... to see.", pilihan: ["Ears", "Nose", "Eyes", "Mouth"], jawaban: "Eyes", hint:"Digunakan untuk melihat." }] },
                            things_in_classroom: { judul: "In the Classroom", konten: "<p>Benda-benda di kelas: table (meja), chair (kursi), book (buku), pen (pulpen), pencil (pensil), bag (tas).</p>", funFact: "Kata 'pencil' berasal dari kata Latin 'pencillus' yang berarti 'ekor kecil'.", kuis: [{ type: "pilihan-ganda", pertanyaan: "We sit on a ... in the classroom.", pilihan: ["Table", "Book", "Chair", "Bag"], jawaban: "Chair", hint:"Digunakan untuk duduk." }] },
                            asking_name: { judul: "What's Your Name?", konten: "<p>Untuk menanyakan nama, kita bilang 'What is your name?'. Untuk menjawabnya, kita bilang 'My name is...'.</p>", funFact: "Menanyakan nama adalah salah satu hal pertama yang kita pelajari saat berkenalan.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Bagaimana cara menjawab pertanyaan 'What is your name?'", pilihan: ["I am fine", "My name is Budi", "I am seven years old", "Hello"], jawaban: "My name is Budi", hint:"Menyebutkan namamu." }] },
                            feelings: { judul: "Feelings (Perasaan)", konten: "<p>Mengungkapkan perasaan: I am happy (saya senang), I am sad (saya sedih), I am angry (saya marah), I am sleepy (saya mengantuk).</p>", funFact: "Tersenyum, bahkan saat kita tidak merasa senang, dapat benar-benar membuat suasana hati kita menjadi lebih baik.", kuis: [{ type: "pilihan-ganda", pertanyaan: "When you get a present, you feel...", pilihan: ["Sad", "Angry", "Sleepy", "Happy"], jawaban: "Happy", hint:"Perasaan saat mendapat hadiah." }] }
                        } 
                    }
                }
            },
            smp: {
                dunia: {
                    aljabar_smp: {
                        namaDunia: "Laboratorium Aljabar", warna: "blue", icon: "➗", deskripsi: "Memecahkan misteri dengan variabel dan rumus matematika.",
                        subMateri: {
                            misteri_x: { judul: "Misteri Huruf X", konten: "<p>Aljabar menggunakan huruf (variabel) untuk mewakili angka yang tidak diketahui. Contoh: x + 5 = 8, berarti x adalah 3.</p>", funFact: "Kata 'aljabar' berasal dari kata Arab 'al-jabr' yang berarti 'penggabungan bagian yang rusak'.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Jika 2a = 10, berapakah nilai a?", pilihan: ["4", "5", "6"], jawaban: "5", hint: "Angka berapa yang jika dikalikan 2 hasilnya 10?" }] },
                            himpunan: { judul: "Klub Himpunan", konten: "<p>Himpunan adalah kumpulan objek yang terdefinisi dengan jelas. Contoh: Himpunan hewan berkaki empat.</p>", funFact: "Konsep himpunan modern dikembangkan oleh Georg Cantor pada akhir abad ke-19.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Mana yang merupakan himpunan?", pilihan: ["Kumpulan lukisan indah", "Kumpulan siswa kelas 7A", "Kumpulan orang pintar"], jawaban: "Kumpulan siswa kelas 7A", hint: "Anggotanya jelas dan pasti." }] },
                            garis_sudut: { judul: "Perpotongan Garis", konten: "<p>Dua garis sejajar yang dipotong garis lain akan membentuk sudut-sudut yang memiliki hubungan, seperti sehadap dan berseberangan.</p>", funFact: "Ilmu tentang garis dan sudut, geometri, adalah salah satu cabang matematika tertua.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Sudut yang besarnya tepat 90 derajat disebut sudut...", pilihan: ["Lancip", "Tumpul", "Siku-siku"], jawaban: "Siku-siku", hint: "Seperti sudut pada buku." }] },
                            pythagoras: { judul: "Segitiga Siku-Siku Pythagoras", konten: "<p>Pada segitiga siku-siku, kuadrat sisi miring (hipotenusa) sama dengan jumlah kuadrat dua sisi lainnya (a² + b² = c²).</p>", funFact: "Meskipun dinamai Pythagoras, teorema ini sudah dikenal oleh bangsa Babilonia 1000 tahun sebelumnya.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Jika sisi tegak segitiga adalah 3 dan 4, berapa sisi miringnya?", pilihan: ["5", "6", "7"], jawaban: "5", hint: "Hitung akar dari (3x3 + 4x4)." }] },
                            bangun_ruang: { judul: "Dimensi Ketiga", konten: "<p>Bangun ruang seperti kubus, balok, dan tabung memiliki volume (isi) dan luas permukaan.</p>", funFact: "Bola adalah bangun ruang dengan luas permukaan terkecil untuk volume tertentu.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Rumus volume kubus dengan sisi 's' adalah...", pilihan: ["s x s", "6 x s x s", "s x s x s"], jawaban: "s x s x s", hint: "Panjang kali lebar kali tinggi." }] },
                            persamaan_linear: { judul: "Menyeimbangkan Persamaan", konten: "<p>Persamaan Linear Satu Variabel (PLSV) adalah kalimat terbuka dengan satu variabel yang memiliki hubungan sama dengan.</p>", funFact: "Prinsip menyeimbangkan persamaan mirip seperti neraca timbangan agar tetap seimbang.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Penyelesaian dari x - 3 = 7 adalah...", pilihan: ["x = 4", "x = 10", "x = 9"], jawaban: "x = 10", hint: "Pindahkan -3 ke sisi kanan menjadi +3." }] },
                            gradien: { judul: "Si Garis Miring", konten: "<p>Gradien (m) adalah ukuran kemiringan suatu garis lurus. Dihitung dari perubahan vertikal dibagi perubahan horizontal.</p>", funFact: "Konsep gradien sangat penting dalam pembangunan jalan di pegunungan agar tidak terlalu curam.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Garis yang datar sempurna memiliki gradien...", pilihan: ["1", "0", "Tak terhingga"], jawaban: "0", hint: "Tidak ada perubahan vertikal." }] },
                            peluang: { judul: "Peluang Dadu", konten: "<p>Peluang adalah kemungkinan terjadinya suatu peristiwa. Dihitung dari jumlah kejadian yang diinginkan dibagi total kemungkinan.</p>", funFact: "Ilmu peluang awalnya dikembangkan untuk menganalisis permainan judi.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Berapa peluang munculnya angka 5 saat melempar satu dadu?", pilihan: ["1/6", "5/6", "1/2"], jawaban: "1/6", hint: "Ada satu angka 5 dari total enam sisi." }] },
                            statistika: { judul: "Membaca Data", konten: "<p>Statistika adalah ilmu mengolah data. Mean (rata-rata), median (nilai tengah), dan modus (paling sering muncul) adalah ukuran pemusatan data.</p>", funFact: "Statistika digunakan di hampir semua bidang, dari prakiraan cuaca hingga pemilu.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Modus dari data: 2, 3, 3, 4, 5 adalah...", pilihan: ["2", "3", "4"], jawaban: "3", hint: "Angka yang muncul paling banyak." }] },
                            aritmetika_sosial: { judul: "Matematika Jual Beli", konten: "<p>Aritmetika sosial membahas tentang untung, rugi, diskon, dan bunga dalam kehidupan sehari-hari.</p>", funFact: "Kata 'diskon' berasal dari bahasa Latin 'computare' yang berarti menghitung.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Baju seharga 100.000 diskon 20%. Berapa harga yang harus dibayar?", pilihan: ["80.000", "20.000", "120.000"], jawaban: "80.000", hint: "Diskonnya 20% dari 100.000, lalu kurangkan." }] }
                        }
                    },
                    biologi_smp: {
                        namaDunia: "Ekspedisi Biologi", warna: "green", icon: "🧬", deskripsi: "Menyelami dunia makhluk hidup, dari sel terkecil hingga ekosistem.",
                        subMateri: {
                            sel: { judul: "Kota Sel", konten: "<p>Sel adalah unit terkecil kehidupan. Sel hewan dan tumbuhan memiliki bagian-bagian (organel) seperti inti sel dan mitokondria.</p>", funFact: "Tubuh manusia dewasa terdiri dari sekitar 37 triliun sel!", kuis: [{ type: "pilihan-ganda", pertanyaan: "Bagian sel yang berfungsi sebagai 'otak' atau pusat kendali adalah?", pilihan: ["Dinding Sel", "Mitokondria", "Inti Sel"], jawaban: "Inti Sel", hint: "Mengandung materi genetik (DNA)." }] },
                            ekosistem: { judul: "Jaring-Jaring Kehidupan", konten: "<p>Ekosistem adalah interaksi antara makhluk hidup (biotik) dan lingkungannya (abiotik). Ada rantai makanan dan jaring-jaring makanan.</p>", funFact: "Satu sendok teh tanah yang sehat bisa mengandung miliaran mikroorganisme.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Dalam rantai makanan, tumbuhan berperan sebagai...", pilihan: ["Konsumen", "Produsen", "Pengurai"], jawaban: "Produsen", hint: "Mereka membuat makanan sendiri." }] },
                            klasifikasi: { judul: "Pohon Kehidupan", konten: "<p>Makhluk hidup diklasifikasikan ke dalam beberapa kerajaan (Kingdom), seperti Monera, Protista, Fungi, Plantae, dan Animalia.</p>", funFact: "Sistem klasifikasi modern (taksonomi) diciptakan oleh Carl Linnaeus.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Jamur termasuk dalam kerajaan...", pilihan: ["Plantae", "Fungi", "Animalia"], jawaban: "Fungi", hint: "Tidak bisa berfotosintesis." }] },
                            fotosintesis: { judul: "Dapur Tumbuhan", konten: "<p>Fotosintesis adalah proses tumbuhan membuat makanan sendiri menggunakan cahaya matahari, air, dan karbon dioksida, menghasilkan oksigen.</p>", funFact: "Lebih dari setengah oksigen di bumi dihasilkan oleh fitoplankton di lautan, bukan pohon.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Gas yang dibutuhkan tumbuhan untuk fotosintesis adalah...", pilihan: ["Oksigen", "Karbon dioksida", "Nitrogen"], jawaban: "Karbon dioksida", hint: "Gas yang kita hembuskan saat bernapas." }] },
                            sistem_gerak: { judul: "Rangka dan Otot", konten: "<p>Manusia bergerak menggunakan sistem gerak yang terdiri dari rangka (tulang) sebagai alat gerak pasif dan otot sebagai alat gerak aktif.</p>", funFact: "Tulang paha adalah tulang terpanjang dan terkuat di tubuh manusia.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Alat gerak aktif pada manusia adalah...", pilihan: ["Tulang", "Sendi", "Otot"], jawaban: "Otot", hint: "Bisa berkontraksi dan relaksasi." }] },
                            sistem_peredaran_darah: { judul: "Aliran Darah", konten: "<p>Jantung memompa darah ke seluruh tubuh melalui pembuluh darah (arteri dan vena) untuk mengedarkan oksigen dan nutrisi.</p>", funFact: "Jika semua pembuluh darah dalam satu orang disambung, panjangnya bisa mengelilingi bumi lebih dari dua kali.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Organ yang berfungsi memompa darah adalah...", pilihan: ["Paru-paru", "Jantung", "Hati"], jawaban: "Jantung", hint: "Terletak di rongga dada sebelah kiri." }] },
                            sistem_saraf: { judul: "Pusat Kendali Tubuh", konten: "<p>Sistem saraf, yang terdiri dari otak, sumsum tulang belakang, dan saraf, berfungsi sebagai pusat kendali dan komunikasi tubuh.</p>", funFact: "Sinyal saraf dapat bergerak dengan kecepatan lebih dari 400 km/jam!", kuis: [{ type: "pilihan-ganda", pertanyaan: "Pusat sistem saraf manusia adalah...", pilihan: ["Jantung", "Otak", "Pankreas"], jawaban: "Otak", hint: "Terletak di dalam kepala." }] },
                            pewarisan_sifat: { judul: "Gen dan DNA", konten: "<p>Sifat-sifat kita, seperti warna rambut dan mata, diwariskan dari orang tua melalui materi genetik yang disebut gen dalam DNA.</p>", funFact: "Manusia berbagi sekitar 99.9% DNA yang sama satu sama lain.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Bapak Genetika Modern adalah...", pilihan: ["Charles Darwin", "Gregor Mendel", "Albert Einstein"], jawaban: "Gregor Mendel", hint: "Dia meneliti kacang ercis." }] },
                            adaptasi: { judul: "Bertahan di Alam", konten: "<p>Adaptasi adalah cara makhluk hidup menyesuaikan diri dengan lingkungannya. Ada adaptasi morfologi (bentuk tubuh), fisiologi (fungsi tubuh), dan tingkah laku.</p>", funFact: "Bunglon mengubah warna kulitnya bukan hanya untuk kamuflase, tapi juga untuk komunikasi dan mengatur suhu tubuh.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Bentuk paruh burung yang berbeda-beda sesuai jenis makanannya adalah contoh adaptasi...", pilihan: ["Fisiologi", "Morfologi", "Tingkah laku"], jawaban: "Morfologi", hint: "Berkaitan dengan bentuk fisik." }] },
                            pencemaran: { judul: "Ancaman Lingkungan", konten: "<p>Pencemaran lingkungan (air, udara, tanah) disebabkan oleh limbah industri dan rumah tangga yang dapat merusak ekosistem.</p>", funFact: "Efek rumah kaca disebabkan oleh penumpukan gas seperti karbon dioksida di atmosfer, menyebabkan pemanasan global.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Gas utama penyebab efek rumah kaca adalah...", pilihan: ["Oksigen", "Nitrogen", "Karbon Dioksida"], jawaban: "Karbon Dioksida", hint: "Dihasilkan dari pembakaran." }] }
                        }
                    },
                    fisika_smp: {
                        namaDunia: "Bengkel Fisika", warna: "purple", icon: "⚛️", deskripsi: "Mengungkap hukum alam yang mengatur energi, gaya, dan gerak.",
                        subMateri: {
                            hukum_newton: { judul: "Gaya dan Gerak Newton", konten: "<p>Hukum Newton menjelaskan hubungan antara gaya dan gerak. Benda diam akan tetap diam jika tidak ada gaya (Inersia).</p>", funFact: "Kisah apel jatuh yang menginspirasi Newton tentang gravitasi mungkin tidak benar-benar terjadi, tetapi menjadi legenda yang populer.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Mengapa kita terdorong ke depan saat bus mengerem mendadak? Ini contoh hukum...", pilihan: ["Hukum I Newton", "Hukum II Newton", "Hukum III Newton"], jawaban: "Hukum I Newton", hint: "Tentang kelembaman atau inersia." }] },
                            energi: { judul: "Energi Kinetik & Potensial", konten: "<p>Energi tidak dapat diciptakan atau dimusnahkan, hanya berubah bentuk. Energi potensial adalah energi karena posisi, energi kinetik adalah energi karena gerak.</p>", funFact: "Roller coaster adalah contoh sempurna perubahan energi dari potensial (di puncak) menjadi kinetik (saat meluncur).", kuis: [{ type: "pilihan-ganda", pertanyaan: "Apel yang tergantung di pohon memiliki energi...", pilihan: ["Kinetik", "Potensial", "Bunyi"], jawaban: "Potensial", hint: "Energi yang tersimpan karena ketinggiannya." }] },
                            pesawat_sederhana: { judul: "Pengungkit dan Katrol", konten: "<p>Pesawat sederhana adalah alat yang memudahkan pekerjaan, seperti tuas/pengungkit, katrol, dan bidang miring.</p>", funFact: "Piramida di Mesir kemungkinan besar dibangun menggunakan bidang miring raksasa untuk mengangkat balok-balok batu.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Gunting adalah contoh dari pesawat sederhana jenis...", pilihan: ["Katrol", "Bidang Miring", "Tuas"], jawaban: "Tuas", hint: "Memiliki titik tumpu, kuasa, dan beban." }] },
                            tekanan: { judul: "Tekanan Zat", konten: "<p>Tekanan adalah gaya yang bekerja pada suatu luas permukaan. Pisau tajam karena luas permukaannya sangat kecil, sehingga tekanannya besar.</p>", funFact: "Kapal selam dapat menyelam dan mengapung dengan mengatur jumlah air di dalam tangki pemberatnya, sesuai prinsip Archimedes.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Mengapa paku yang ujungnya runcing lebih mudah menancap?", pilihan: ["Karena gayanya lebih besar", "Karena tekanannya lebih besar", "Karena bahannya lebih kuat"], jawaban: "Karena tekanannya lebih besar", hint: "Luas permukaan kecil, tekanan besar." }] },
                            getaran_gelombang: { judul: "Getaran dan Gelombang", konten: "<p>Getaran adalah gerak bolak-balik. Gelombang adalah getaran yang merambat dan membawa energi, seperti gelombang suara dan cahaya.</p>", funFact: "Suara tidak dapat merambat di ruang hampa, karena tidak ada medium untuk bergetar.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Contoh gelombang transversal adalah...", pilihan: ["Gelombang suara", "Gelombang cahaya", "Gelombang pada pegas"], jawaban: "Gelombang cahaya", hint: "Arah getarnya tegak lurus dengan arah rambatnya." }] },
                            optik: { judul: "Cermin dan Lensa", konten: "<p>Optik mempelajari cahaya. Cermin memantulkan cahaya, sedangkan lensa membiaskan cahaya. Digunakan pada kacamata dan teleskop.</p>", funFact: "Pelangi adalah contoh dari peristiwa dispersi, yaitu penguraian cahaya putih menjadi berbagai warna.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Untuk membantu penderita rabun jauh (miopi), digunakan kacamata berlensa...", pilihan: ["Cekung", "Cembung", "Datar"], jawaban: "Cekung", hint: "Lensa negatif." }] },
                            listrik: { judul: "Arus Listrik", konten: "<p>Listrik dinamis adalah aliran elektron dalam suatu rangkaian tertutup. Ada rangkaian seri dan paralel.</p>", funFact: "Belut listrik dapat menghasilkan sengatan hingga 600 volt untuk melumpuhkan mangsanya.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Pada rangkaian seri, jika satu lampu mati, maka lampu lain akan...", pilihan: ["Tetap menyala", "Makin terang", "Ikut mati"], jawaban: "Ikut mati", hint: "Karena alirannya terputus." }] },
                            suhu_kalor: { judul: "Panas dan Dingin", konten: "<p>Suhu adalah ukuran derajat panas. Kalor adalah energi panas yang berpindah dari benda bersuhu tinggi ke rendah. Perpindahan bisa secara konduksi, konveksi, atau radiasi.</p>", funFact: "Warna putih memantulkan panas lebih baik daripada warna hitam, itulah sebabnya kita merasa lebih sejuk memakai baju putih di hari yang panas.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Asap api unggun yang bergerak ke atas adalah contoh perpindahan panas secara...", pilihan: ["Konduksi", "Konveksi", "Radiasi"], jawaban: "Konveksi", hint: "Perpindahan panas melalui aliran zat." }] },
                            kemagnetan: { judul: "Medan Magnet", konten: "<p>Magnet menghasilkan medan magnet di sekitarnya. Bumi sendiri adalah magnet raksasa yang melindungi kita dari radiasi matahari.</p>", funFact: "Beberapa hewan, seperti burung merpati dan penyu, menggunakan medan magnet bumi untuk navigasi saat bermigrasi.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Jika dua kutub magnet yang sama didekatkan, akan terjadi...", pilihan: ["Tarik-menarik", "Tolak-menolak", "Tidak ada interaksi"], jawaban: "Tolak-menolak", hint: "Utara dengan utara, atau selatan dengan selatan." }] },
                            tata_surya_smp: { judul: "Jelajah Antariksa", konten: "<p>Tata surya kita terdiri dari Matahari sebagai pusat, dan planet-planet yang mengorbitnya karena gaya gravitasi.</p>", funFact: "Satu hari di Venus lebih lama daripada satu tahun di Venus. Rotasinya sangat lambat!", kuis: [{ type: "pilihan-ganda", pertanyaan: "Planet yang terkenal dengan cincinnya adalah...", pilihan: ["Jupiter", "Mars", "Saturnus"], jawaban: "Saturnus", hint: "Planet terbesar kedua di tata surya." }] }
                        }
                    },
                    kimia_smp: { 
                        namaDunia: "Dapur Kimia", warna: "orange", icon: "🧪", deskripsi: "Mengenal unsur, senyawa, dan reaksi yang membentuk dunia kita.", 
                        subMateri: {
                            materi: { judul: "Wujud Materi", konten: "<p>Materi adalah segala sesuatu yang memiliki massa dan menempati ruang. Materi dapat berwujud padat, cair, dan gas, dan dapat berubah wujud melalui proses seperti mencair dan menguap.</p>", funFact: "Plasma, sering disebut wujud keempat materi, adalah wujud materi paling umum di alam semesta, ditemukan di bintang-bintang.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Perubahan wujud dari gas langsung menjadi padat disebut...", pilihan: ["Menyublim", "Mengkristal", "Mengembun"], jawaban: "Mengkristal", hint: "Kebalikan dari menyublim, contohnya pembentukan salju."}] },
                            unsur_senyawa_campuran: { judul: "Unsur, Senyawa, Campuran", konten: "<p>Unsur adalah zat tunggal (Oksigen). Senyawa adalah gabungan unsur secara kimia (Air, H₂O). Campuran adalah gabungan zat tanpa reaksi kimia (Air Gula).</p>", funFact: "Udara yang kita hirup adalah contoh campuran, sebagian besar terdiri dari unsur Nitrogen dan Oksigen.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Manakah yang merupakan contoh campuran homogen?", pilihan: ["Pasir dan air", "Minyak dan air", "Sirup"], jawaban: "Sirup", hint: "Komponennya tidak dapat dibedakan lagi."}] },
                            atom_molekul: { judul: "Partikel Terkecil", konten: "<p>Atom adalah bagian terkecil dari suatu unsur. Molekul adalah gabungan dari dua atom atau lebih, baik dari unsur yang sama (O₂) maupun berbeda (H₂O).</p>", funFact: "Jika sebuah apel diperbesar hingga seukuran Bumi, maka atom-atom di dalamnya baru akan seukuran apel asli.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Partikel yang menyusun molekul air (H₂O) adalah...", pilihan: ["2 atom Hidrogen & 1 atom Oksigen", "1 atom Hidrogen & 2 atom Oksigen", "Hanya atom air"], jawaban: "2 atom Hidrogen & 1 atom Oksigen", hint: "Lihat rumus kimianya: H₂O."}] },
                            larutan_asam_basa: { judul: "Larutan Asam Basa", konten: "<p>Larutan asam memiliki rasa masam dan pH < 7 (contoh: cuka). Larutan basa terasa licin dan pH > 7 (contoh: sabun). pH 7 adalah netral (air murni).</p>", funFact: "Indikator alami seperti ekstrak kunyit atau kol ungu dapat berubah warna untuk menunjukkan suatu larutan bersifat asam atau basa.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Kertas lakmus merah akan berubah menjadi biru jika dicelupkan ke dalam larutan...", pilihan: ["Asam", "Basa", "Netral"], jawaban: "Basa", hint: "Basa membirukan lakmus merah."}] },
                            reaksi_kimia: { judul: "Perubahan Kimia", konten: "<p>Reaksi kimia adalah proses yang menghasilkan zat baru. Ciri-cirinya antara lain perubahan warna, timbulnya gas, terbentuknya endapan, atau perubahan suhu.</p>", funFact: "Karat pada besi adalah contoh reaksi kimia yang lambat antara besi, oksigen, dan air.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Pembakaran kertas adalah contoh perubahan...", pilihan: ["Fisika", "Kimia", "Wujud"], jawaban: "Kimia", hint: "Kertas berubah menjadi abu, zat yang baru."}] },
                            tabel_periodik: { judul: "Peta Unsur", konten: "<p>Tabel periodik adalah tabel yang menampilkan semua unsur kimia yang diketahui, diatur berdasarkan nomor atom dan sifat kimianya yang berulang (periodik).</p>", funFact: "Dmitri Mendeleev, penemu tabel periodik, dengan berani meninggalkan ruang kosong untuk unsur-unsur yang ia prediksi akan ditemukan, dan prediksinya terbukti benar.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Unsur dengan simbol 'Fe' adalah...", pilihan: ["Emas", "Perak", "Besi"], jawaban: "Besi", hint: "Berasal dari nama Latinnya, Ferrum."}] },
                            pemisahan_campuran: { judul: "Memisahkan Campuran", konten: "<p>Ada berbagai cara memisahkan campuran, seperti filtrasi (penyaringan), distilasi (penyulingan berdasarkan titik didih), dan kromatografi (berdasarkan perbedaan kecepatan rambat).</p>", funFact: "Proses pembuatan garam dari air laut menggunakan metode penguapan (evaporasi), salah satu teknik pemisahan campuran sederhana.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Metode yang paling tepat untuk memisahkan air teh dari ampasnya adalah...", pilihan: ["Distilasi", "Filtrasi", "Kromatografi"], jawaban: "Filtrasi", hint: "Menggunakan saringan."}] },
                            stoikiometri_dasar: { judul: "Konsep Mol", konten: "<p>Mol adalah satuan jumlah zat dalam kimia. Satu mol zat mengandung partikel sebanyak bilangan Avogadro (sekitar 6,022 x 10²³ partikel).</p>", funFact: "Satu mol butiran popcorn akan menutupi seluruh daratan Amerika Serikat dengan kedalaman lebih dari 14 km!", kuis: [{ type: "pilihan-ganda", pertanyaan: "Satuan standar internasional (SI) untuk jumlah zat adalah...", pilihan: ["Gram", "Liter", "Mol"], jawaban: "Mol", hint: "Ini adalah konsep sentral dalam perhitungan kimia."}] },
                            ikatan_kimia: { judul: "Ikatan Kimia", konten: "<p>Atom-atom bergabung membentuk molekul melalui ikatan kimia. Ikatan ionik terjadi karena serah terima elektron (logam & nonlogam), sedangkan ikatan kovalen terjadi karena pemakaian bersama elektron (nonlogam & nonlogam).</p>", funFact: "Ikatan hidrogen, meskipun lebih lemah dari ikatan kovalen, sangat penting dan bertanggung jawab atas sifat-sifat unik air.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Ikatan yang terbentuk dalam senyawa garam dapur (NaCl) adalah...", pilihan: ["Kovalen", "Ionik", "Logam"], jawaban: "Ionik", hint: "Terbentuk dari unsur logam (Na) dan nonlogam (Cl)."}] },
                            zat_aditif_adiktif: { judul: "Zat Aditif & Adiktif", konten: "<p>Zat aditif adalah bahan yang ditambahkan ke makanan (pewarna, pengawet). Zat adiktif adalah zat yang dapat menyebabkan kecanduan (nikotin, kafein).</p>", funFact: "Monosodium Glutamat (MSG) adalah zat aditif yang memberikan rasa 'umami' atau gurih pada makanan.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Pemanis, pengawet, dan pewarna pada makanan termasuk golongan...", pilihan: ["Zat adiktif", "Zat aditif", "Narkotika"], jawaban: "Zat aditif", hint: "Ditambahkan untuk tujuan tertentu."}] }
                        }
                    },
                    pkn_smp: { 
                        namaDunia: "Parlemen Muda", warna: "indigo", icon: "⚖️", deskripsi: "Mempelajari dasar-dasar negara, hukum, dan demokrasi.", 
                        subMateri: {
                            norma: { judul: "Aturan Masyarakat", konten: "<p>Norma adalah aturan atau kaidah yang berlaku dalam masyarakat. Ada norma agama, kesusilaan, kesopanan, dan hukum. Tujuannya adalah menciptakan ketertiban.</p>", funFact: "Norma kesopanan bisa berbeda-beda di setiap daerah, contohnya cara makan atau menyapa orang yang lebih tua.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Sanksi yang paling tegas dan memaksa berasal dari norma...", pilihan: ["Agama", "Kesopanan", "Hukum"], jawaban: "Hukum", hint: "Diberlakukan oleh aparat negara."}] },
                            uud_1945: { judul: "Konstitusi Negara", konten: "<p>Undang-Undang Dasar Negara Republik Indonesia Tahun 1945 adalah hukum dasar tertulis dan sumber hukum tertinggi di Indonesia.</p>", funFact: "UUD 1945 telah mengalami empat kali perubahan (amandemen) antara tahun 1999 hingga 2002 untuk menyesuaikan dengan tuntutan reformasi.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Lembaga yang berwenang mengubah dan menetapkan UUD adalah...", pilihan: ["Presiden", "DPR", "MPR"], jawaban: "MPR", hint: "Majelis Permusyawaratan Rakyat."}] },
                            kedaulatan_rakyat: { judul: "Kedaulatan Rakyat", konten: "<p>Kedaulatan berada di tangan rakyat dan dilaksanakan menurut UUD. Artinya, rakyatlah pemegang kekuasaan tertinggi di negara, yang diwujudkan melalui pemilihan umum (pemilu).</p>", funFact: "Prinsip 'dari rakyat, oleh rakyat, dan untuk rakyat' adalah esensi dari demokrasi yang berdaulat di tangan rakyat.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Sarana perwujudan kedaulatan rakyat di Indonesia adalah...", pilihan: ["Demonstrasi", "Musyawarah desa", "Pemilu"], jawaban: "Pemilu", hint: "Untuk memilih wakil rakyat dan pemimpin."}] },
                            persatuan_kesatuan: { judul: "Makna Persatuan", konten: "<p>Persatuan dan kesatuan bangsa Indonesia sangat penting untuk menjaga keutuhan Negara Kesatuan Republik Indonesia (NKRI) di tengah keragaman suku, agama, ras, dan budaya.</p>", funFact: "Sumpah Pemuda pada tahun 1928 adalah salah satu tonggak sejarah terpenting dalam mewujudkan persatuan bangsa Indonesia.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Semboyan yang melandasi persatuan dalam keragaman di Indonesia adalah...", pilihan: ["Tut Wuri Handayani", "Bhinneka Tunggal Ika", "Rawe-rawe rantas malang-malang putung"], jawaban: "Bhinneka Tunggal Ika", hint: "Artinya berbeda-beda tetapi tetap satu."}] },
                            demokrasi_pancasila: { judul: "Demokrasi Pancasila", konten: "<p>Demokrasi Pancasila adalah demokrasi yang berdasarkan pada nilai-nilai Pancasila, mengutamakan musyawarah untuk mufakat, dan berketuhanan Yang Maha Esa.</p>", funFact: "Ciri khas Demokrasi Pancasila adalah adanya keseimbangan antara hak dan kewajiban, serta kebebasan yang bertanggung jawab.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Pengambilan keputusan dalam Demokrasi Pancasila mengutamakan...", pilihan: ["Suara terbanyak (voting)", "Keputusan pemimpin", "Musyawarah untuk mufakat"], jawaban: "Musyawarah untuk mufakat", hint: "Ini adalah cerminan sila keempat."}] },
                            ham: { judul: "Hak Asasi Manusia", konten: "<p>Hak Asasi Manusia (HAM) adalah hak dasar yang melekat pada diri manusia sejak lahir sebagai anugerah Tuhan, seperti hak untuk hidup, hak berpendapat, dan hak beragama.</p>", funFact: "Deklarasi Universal HAM diadopsi oleh PBB pada 10 Desember 1948, yang kini diperingati sebagai Hari HAM Sedunia.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Berikut ini yang merupakan contoh kewajiban asasi manusia adalah...", pilihan: ["Mendapat pendidikan", "Menghormati hak orang lain", "Mengeluarkan pendapat"], jawaban: "Menghormati hak orang lain", hint: "Kewajiban yang menyertai hak."}] },
                            otonomi_daerah: { judul: "Otonomi Daerah", konten: "<p>Otonomi daerah adalah penyerahan wewenang dari pemerintah pusat kepada pemerintah daerah untuk mengatur dan mengurus sendiri urusan pemerintahannya.", funFact: "Tujuan otonomi daerah adalah untuk meningkatkan pelayanan publik dan mendekatkan pembangunan kepada masyarakat.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Kepala daerah untuk tingkat provinsi adalah...", pilihan: ["Bupati", "Walikota", "Gubernur"], jawaban: "Gubernur", hint: "Dipilih melalui Pilkada."}] },
                            lembaga_negara: { judul: "Lembaga-Lembaga Negara", konten: "<p>Indonesia memiliki lembaga-lembaga negara seperti MPR, DPR, DPD (legislatif), Presiden (eksekutif), serta MA, MK, KY (yudikatif).</p>", funFact: "Mahkamah Konstitusi (MK) adalah lembaga baru yang dibentuk setelah amandemen UUD 1945, bertugas menguji UU terhadap UUD.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Lembaga negara yang memegang kekuasaan kehakiman adalah...", pilihan: ["DPR dan MPR", "Presiden dan Wakil Presiden", "MA dan MK"], jawaban: "MA dan MK", hint: "Kekuasaan yudikatif."}] },
                            bela_negara: { judul: "Bela Negara", konten: "<p>Bela negara adalah sikap dan perilaku warga negara yang dijiwai oleh kecintaannya kepada NKRI. Wujudnya bisa berupa belajar dengan giat, menjaga ketertiban, atau menjadi anggota TNI/Polri.</p>", funFact: "Setiap warga negara berhak dan wajib ikut serta dalam usaha pembelaan negara.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Bagi seorang pelajar, bentuk bela negara yang paling utama adalah...", pilihan: ["Ikut perang", "Belajar dengan tekun", "Menjadi polisi", "Membayar pajak"], jawaban: "Belajar dengan tekun", hint: "Mempersiapkan diri untuk membangun bangsa."}] },
                            hukum_di_indonesia: { judul: "Sistem Hukum Nasional", konten: "<p>Sistem hukum di Indonesia berlandaskan Pancasila dan UUD 1945. Ada berbagai jenis hukum seperti hukum pidana, perdata, dan tata negara yang ditegakkan melalui lembaga peradilan.</p>", funFact: "Asas 'semua orang sama di hadapan hukum' (equality before the law) adalah prinsip penting yang dijamin oleh konstitusi.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Pengadilan tingkat pertama untuk perkara pidana dan perdata umum adalah...", pilihan: ["Pengadilan Tinggi", "Pengadilan Negeri", "Mahkamah Agung"], jawaban: "Pengadilan Negeri", hint: "Ada di setiap kabupaten/kota."}] }
                        }
                    },
                    sejarah_smp: { 
                        namaDunia: "Kronik Sejarah Nusantara", warna: "stone", icon: "📜", deskripsi: "Menelusuri jejak masa penjajahan hingga kemerdekaan Indonesia.", 
                        subMateri: {
                            kedatangan_bangsa_eropa: { judul: "Kedatangan Bangsa Eropa", konten: "<p>Bangsa Eropa (Portugis, Spanyol, Belanda) datang ke Nusantara pada abad ke-16 untuk mencari rempah-rempah yang sangat berharga, didorong oleh semangat Gold, Glory, dan Gospel.</p>", funFact: "Jatuhnya Konstantinopel ke tangan Turki Usmani pada 1453 membuat jalur perdagangan rempah-rempah terputus, mendorong Eropa mencari jalur laut sendiri.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Tiga tujuan utama penjelajahan samudra oleh bangsa Eropa dikenal dengan sebutan...", pilihan: ["3G (Gold, Glory, Gospel)", "3K (Kebersihan, Keindahan, Keamanan)", "3S (Senyum, Sapa, Salam)"], jawaban: "3G (Gold, Glory, Gospel)", hint: "Kekayaan, Kejayaan, dan Penyebaran Agama."}] },
                            voc: { judul: "Masa VOC", konten: "<p>VOC (Vereenigde Oostindische Compagnie) adalah kongsi dagang Belanda yang diberi hak istimewa (oktroi) untuk memonopoli perdagangan rempah-rempah di Nusantara.</p>", funFact: "Pada puncaknya, VOC adalah perusahaan terkaya dalam sejarah dunia, bahkan memiliki tentara dan mata uang sendiri.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Hak istimewa yang dimiliki VOC disebut...", pilihan: ["Konsesi", "Oktroi", "Monopoli"], jawaban: "Oktroi", hint: "Diberikan oleh pemerintah Belanda."}] },
                            perlawanan_daerah: { judul: "Perlawanan Daerah", konten: "<p>Banyak pahlawan daerah yang memimpin perlawanan terhadap penjajah, seperti Pangeran Diponegoro di Jawa, Sultan Hasanuddin di Makassar, dan Pattimura di Maluku.</p>", funFact: "Perang Diponegoro (1825-1830) adalah salah satu perang terbesar yang pernah dihadapi Belanda dan menguras kas negara mereka.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Pahlawan dari Maluku yang terkenal dengan perlawanannya merebut Benteng Duurstede adalah...", pilihan: ["Tuanku Imam Bonjol", "Pattimura", "Sultan Agung"], jawaban: "Pattimura", hint: "Diabadikan dalam uang kertas Rp1.000."}] },
                            pergerakan_nasional: { judul: "Kebangkitan Nasional", konten: "<p>Awal abad ke-20 menandai dimulainya Pergerakan Nasional, di mana perjuangan tidak lagi bersifat kedaerahan tetapi bersifat nasional, menggunakan organisasi modern. Diawali berdirinya Budi Utomo tahun 1908.</p>", funFact: "Politik Etis atau 'politik balas budi' yang diterapkan Belanda secara tidak langsung melahirkan kaum terpelajar yang kemudian memotori pergerakan nasional.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Hari lahirnya organisasi Budi Utomo diperingati sebagai...", pilihan: ["Hari Pendidikan Nasional", "Hari Kebangkitan Nasional", "Hari Pahlawan"], jawaban: "Hari Kebangkitan Nasional", hint: "Tanggal 20 Mei."}] },
                            sumpah_pemuda_1928: { judul: "Sumpah Pemuda 1928", konten: "<p>Pada Kongres Pemuda II tanggal 28 Oktober 1928, para pemuda dari berbagai daerah mengikrarkan Sumpah Pemuda, yang menegaskan cita-cita 'satu nusa, satu bangsa, dan satu bahasa'.</p>", funFact: "Lagu Indonesia Raya ciptaan W.R. Supratman pertama kali diperdengarkan secara instrumental pada saat Kongres Pemuda II.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Sumpah Pemuda merupakan hasil dari...", pilihan: ["Kongres Pemuda I", "Kongres Pemuda II", "Rapat Budi Utomo"], jawaban: "Kongres Pemuda II", hint: "Diadakan di Jakarta (Batavia)."}] },
                            pendudukan_jepang: { judul: "Masa Pendudukan Jepang", konten: "<p>Jepang menduduki Indonesia dari tahun 1942-1945. Meskipun singkat, masa ini sangat berat bagi rakyat Indonesia (romusha), tetapi juga membangkitkan nasionalisme dan memberikan pengalaman militer (PETA).</p>", funFact: "Jepang datang dengan propaganda 'Gerakan 3A' (Nippon Pemimpin Asia, Pelindung Asia, Cahaya Asia) untuk menarik simpati rakyat.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Kerja paksa pada masa pendudukan Jepang disebut...", pilihan: ["Rodi", "Tanam Paksa", "Romusha"], jawaban: "Romusha", hint: "Banyak dikirim untuk membangun infrastruktur perang."}] },
                            sekitar_proklamasi: { judul: "Sekitar Proklamasi", konten: "<p>Menyerahnya Jepang kepada Sekutu menciptakan kekosongan kekuasaan (vacuum of power) di Indonesia. Golongan muda mendesak golongan tua untuk segera memproklamasikan kemerdekaan.</p>", funFact: "Peristiwa Rengasdengklok adalah 'penculikan' Soekarno-Hatta oleh golongan muda untuk menjauhkan mereka dari pengaruh Jepang dan mendesak proklamasi.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Naskah Proklamasi Kemerdekaan Indonesia diketik oleh...", pilihan: ["Soekarno", "Mohammad Hatta", "Sayuti Melik"], jawaban: "Sayuti Melik", hint: "Naskah aslinya ditulis tangan oleh Soekarno."}] },
                            perjuangan_mempertahankan: { judul: "Perjuangan Mempertahankan", konten: "<p>Setelah proklamasi, perjuangan belum berakhir. Bangsa Indonesia harus menghadapi kedatangan kembali Belanda (NICA) melalui pertempuran fisik (Pertempuran Surabaya, Bandung Lautan Api) dan diplomasi (Perjanjian Linggarjati, Renville).</p>", funFact: "Pidato 'Merdeka atau Mati!' oleh Bung Tomo melalui siaran radio berhasil membakar semangat arek-arek Suroboyo dalam Pertempuran 10 November 1945.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Peristiwa pembumihangusan kota Bandung oleh para pejuang agar tidak diduduki Sekutu dikenal sebagai...", pilihan: ["Palagan Ambarawa", "Bandung Lautan Api", "Serangan Umum 1 Maret"], jawaban: "Bandung Lautan Api", hint: "Terjadi pada Maret 1946."}] },
                            orde_lama: { judul: "Era Orde Lama", konten: "<p>Orde Lama (1945-1966) dipimpin oleh Presiden Soekarno. Periode ini diwarnai oleh berbagai gejolak politik, penerapan Demokrasi Parlementer kemudian Demokrasi Terpimpin, serta politik luar negeri yang dinamis (Konferensi Asia-Afrika).</p>", funFact: "Konferensi Asia-Afrika di Bandung tahun 1955 adalah cikal bakal lahirnya Gerakan Non-Blok, sebuah kekuatan penyeimbang antara Blok Barat dan Blok Timur.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Sistem pemerintahan antara 1950-1959 di mana kepala pemerintahan dipegang oleh Perdana Menteri adalah...", pilihan: ["Demokrasi Terpimpin", "Demokrasi Parlementer", "Demokrasi Pancasila"], jawaban: "Demokrasi Parlementer", hint: "Presiden hanya sebagai kepala negara."}] },
                            orde_baru_reformasi: { judul: "Orde Baru & Reformasi", konten: "<p>Orde Baru (1966-1998) dipimpin oleh Presiden Soeharto dengan fokus pada pembangunan ekonomi. Era ini berakhir dengan gerakan Reformasi 1998 yang menuntut demokrasi, supremasi hukum, dan pemberantasan KKN.</p>", funFact: "Gerakan Reformasi 1998 dipicu oleh krisis moneter Asia dan puncaknya adalah pendudukan Gedung DPR/MPR oleh mahasiswa.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Era pemerintahan setelah Orde Baru yang dimulai sejak tahun 1998 disebut era...", pilihan: ["Demokrasi", "Pembangunan", "Reformasi"], jawaban: "Reformasi", hint: "Menandai perubahan besar dalam sistem politik Indonesia."}] }
                        }
                    },
                    geografi_smp: { 
                        namaDunia: "Atlas Dunia", warna: "emerald", icon: "🌍", deskripsi: "Menjelajahi benua, iklim, dan interaksi manusia dengan lingkungan.", 
                        subMateri: {
                            posisi_geografis_indonesia: { judul: "Posisi Geografis Indonesia", konten: "<p>Indonesia terletak di antara dua benua (Asia dan Australia) dan dua samudra (Hindia dan Pasifik). Posisi silang ini sangat strategis bagi perdagangan dan budaya.</p>", funFact: "Indonesia adalah negara kepulauan terbesar di dunia, terdiri dari lebih dari 17.000 pulau.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Letak Indonesia di antara dua benua dan dua samudra disebut letak...", pilihan: ["Astronomis", "Geologis", "Geografis"], jawaban: "Geografis", hint: "Berdasarkan posisi nyata di permukaan bumi."}] },
                            iklim_indonesia: { judul: "Iklim Tropis", konten: "<p>Karena dilalui garis khatulistiwa, Indonesia beriklim tropis dengan suhu udara dan curah hujan yang tinggi. Hanya ada dua musim: kemarau dan penghujan.</p>", funFact: "Angin muson (monsun) adalah angin periodik yang menyebabkan perubahan musim di Indonesia. Muson Barat membawa hujan, Muson Timur membawa kemarau.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Musim kemarau di Indonesia umumnya disebabkan oleh angin muson...", pilihan: ["Barat", "Timur", "Utara"], jawaban: "Timur", hint: "Berasal dari benua Australia yang kering."}] },
                            keragaman_flora_fauna: { judul: "Flora dan Fauna", konten: "<p>Indonesia memiliki keragaman hayati yang sangat tinggi, dibagi menjadi tiga wilayah: Asiatis (barat), Peralihan (tengah), dan Australis (timur), dipisahkan oleh Garis Wallace dan Weber.</p>", funFact: "Komodo, kadal terbesar di dunia, adalah fauna endemik Indonesia yang hanya ditemukan di wilayah Peralihan.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Harimau, gajah, dan orangutan adalah contoh fauna tipe...", pilihan: ["Asiatis", "Peralihan", "Australis"], jawaban: "Asiatis", hint: "Mirip dengan fauna di benua Asia."}] },
                            interaksi_sosial: { judul: "Interaksi Sosial", konten: "<p>Interaksi sosial adalah hubungan timbal balik antar individu atau kelompok. Bisa bersifat asosiatif (mengarah ke persatuan, seperti kerja sama) atau disosiatif (mengarah ke perpecahan, seperti persaingan).</p>", funFact: "Kontak sosial tidak harus bertemu langsung. Mengirim pesan atau video call juga termasuk kontak sosial.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Gotong royong membersihkan desa adalah contoh interaksi sosial yang bersifat...", pilihan: ["Asosiatif", "Disosiatif", "Akomodatif"], jawaban: "Asosiatif", hint: "Mengarah pada kebaikan bersama."}] },
                            kependudukan: { judul: "Dinamika Penduduk", konten: "<p>Dinamika penduduk adalah perubahan jumlah penduduk yang dipengaruhi oleh kelahiran (natalitas), kematian (mortalitas), dan perpindahan (migrasi).</p>", funFact: "Piramida penduduk dapat digunakan untuk melihat komposisi usia dan jenis kelamin suatu negara, serta memprediksi masalah kependudukan di masa depan.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Perpindahan penduduk dari desa ke kota disebut...", pilihan: ["Transmigrasi", "Imigrasi", "Urbanisasi"], jawaban: "Urbanisasi", hint: "Terjadi karena daya tarik kota."}] },
                            peta_dan_komponennya: { judul: "Komponen Peta", konten: "<p>Peta yang baik memiliki komponen seperti judul, skala, orientasi (arah mata angin), legenda (keterangan simbol), dan sumber peta.</p>", funFact: "Skala peta 1:100.000 berarti 1 cm di peta sama dengan 100.000 cm (atau 1 km) di jarak sebenarnya.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Bagian peta yang berfungsi untuk menjelaskan arti dari simbol-simbol yang ada adalah...", pilihan: ["Judul", "Skala", "Legenda"], jawaban: "Legenda", hint: "Kunci untuk membaca peta."}] },
                            benua_samudra: { judul: "Benua dan Samudra", konten: "<p>Permukaan bumi terdiri dari daratan luas yang disebut benua (Asia, Afrika, Amerika, Eropa, Australia, Antarktika) dan perairan luas yang disebut samudra (Pasifik, Atlantik, Hindia, Arktik, Antarktika/Selatan).</p>", funFact: "Samudra Pasifik adalah samudra terbesar dan terdalam, mencakup sekitar sepertiga permukaan Bumi.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Benua terluas di dunia adalah...", pilihan: ["Afrika", "Amerika", "Asia"], jawaban: "Asia", hint: "Indonesia terletak di benua ini."}] },
                            perubahan_sosial_budaya: { judul: "Perubahan Sosial Budaya", konten: "<p>Perubahan sosial budaya adalah perubahan pada lembaga kemasyarakatan yang memengaruhi sistem sosialnya. Bisa disebabkan oleh penemuan baru (discovery/invention) atau pengaruh budaya luar (akulturasi/asimilasi).</p>", funFact: "Globalisasi, terutama melalui internet dan media, adalah pendorong utama perubahan sosial budaya yang sangat cepat di era modern.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Masuknya budaya Hindu-Buddha ke Indonesia yang berpadu dengan budaya lokal tanpa menghilangkan unsur asli disebut...", pilihan: ["Asimilasi", "Akulturasi", "Westernisasi"], jawaban: "Akulturasi", hint: "Terjadi percampuran budaya."}] },
                            kegiatan_ekonomi_smp: { judul: "Kegiatan Ekonomi", konten: "<p>Kegiatan ekonomi terdiri dari tiga hal: produksi (menghasilkan barang/jasa), distribusi (menyalurkan barang/jasa), dan konsumsi (menggunakan barang/jasa).</p>", funFact: "Jalur distribusi yang panjang dari produsen ke konsumen seringkali menjadi penyebab harga barang menjadi lebih mahal.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Seorang penjahit yang membuat baju melakukan kegiatan...", pilihan: ["Produksi", "Distribusi", "Konsumsi"], jawaban: "Produksi", hint: "Menghasilkan suatu barang."}] },
                            asia_tenggara: { judul: "Negara-Negara ASEAN", konten: "<p>ASEAN (Association of Southeast Asian Nations) adalah organisasi negara-negara di kawasan Asia Tenggara yang bertujuan untuk kerja sama ekonomi, politik, dan sosial budaya.</p>", funFact: "Satu-satunya negara di Asia Tenggara yang tidak pernah dijajah oleh bangsa Eropa adalah Thailand.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Sekretariat ASEAN berkedudukan di kota...", pilihan: ["Kuala Lumpur", "Bangkok", "Jakarta"], jawaban: "Jakarta", hint: "Ibu kota negara kita."}] }
                        }
                    },
                    sastra_smp: { 
                        namaDunia: "Panggung Sastra", warna: "rose", icon: "🎭", deskripsi: "Menganalisis puisi, cerpen, dan novel karya sastrawan Indonesia.", 
                        subMateri: {
                            unsur_intrinsik_cerpen: { judul: "Unsur Intrinsik Cerpen", konten: "<p>Unsur intrinsik adalah unsur yang membangun cerita dari dalam, meliputi tema, tokoh & penokohan, alur (plot), latar (setting), sudut pandang, dan amanat.</p>", funFact: "Alur maju (progresif) adalah alur yang paling umum digunakan, di mana cerita berjalan dari awal hingga akhir secara berurutan.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Pesan moral yang ingin disampaikan pengarang kepada pembaca disebut...", pilihan: ["Tema", "Alur", "Amanat"], jawaban: "Amanat", hint: "Pelajaran yang bisa dipetik."}] },
                            majas: { judul: "Gaya Bahasa (Majas)", konten: "<p>Majas adalah gaya bahasa kiasan untuk membuat karya sastra lebih hidup. Contoh: majas personifikasi (daun menari-nari), metafora (raja siang), dan hiperbola (teriakannya menggelegar).</p>", funFact: "Penggunaan majas yang tepat dapat membangkitkan imajinasi pembaca dan memperkuat makna.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Kalimat 'Pena lebih tajam daripada pedang' menggunakan majas...", pilihan: ["Hiperbola", "Metafora", "Personifikasi"], jawaban: "Metafora", hint: "Membandingkan dua hal secara langsung."}] },
                            puisi_rakyat: { judul: "Puisi Rakyat", konten: "<p>Puisi rakyat adalah sastra lisan yang terikat aturan, seperti pantun, gurindam, dan syair. Pantun bersajak a-b-a-b, baris 1-2 sampiran, baris 3-4 isi.</p>", funFact: "Gurindam Dua Belas karya Raja Ali Haji adalah salah satu karya sastra Melayu klasik yang paling terkenal, berisi nasihat dan ajaran moral.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Puisi rakyat yang terdiri dari dua baris, di mana baris pertama adalah syarat dan baris kedua adalah jawaban/akibat, adalah...", pilihan: ["Pantun", "Syair", "Gurindam"], jawaban: "Gurindam", hint: "Contoh: Barang siapa tiada memegang agama, sekali-kali tiada boleh dibilangkan nama."}] },
                            buku_fiksi_nonfiksi: { judul: "Fiksi dan Nonfiksi", konten: "<p>Buku fiksi adalah buku yang berisi cerita rekaan atau khayalan (novel, cerpen). Buku nonfiksi adalah buku yang berisi fakta dan data berdasarkan kenyataan (biografi, buku pelajaran).</p>", funFact: "Batas antara fiksi dan nonfiksi terkadang bisa kabur, seperti dalam novel sejarah yang didasarkan pada peristiwa nyata tetapi dengan dialog yang dikhayalkan.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Buku yang menceritakan riwayat hidup seseorang yang ditulis oleh orang lain disebut...", pilihan: ["Autobiografi", "Biografi", "Novel"], jawaban: "Biografi", hint: "Jika ditulis sendiri disebut autobiografi."}] },
                            surat_pribadi_dinas: { judul: "Surat Pribadi & Dinas", konten: "<p>Surat pribadi bersifat personal dan bahasanya tidak baku, ditujukan untuk teman atau keluarga. Surat dinas bersifat resmi, menggunakan bahasa baku dan format tertentu, ditujukan untuk instansi.</p>", funFact: "Kop surat, nomor surat, dan stempel adalah ciri-ciri yang umum ditemukan pada surat dinas, tetapi tidak ada pada surat pribadi.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Bahasa yang digunakan dalam surat dinas haruslah...", pilihan: ["Santai dan gaul", "Baku dan resmi", "Puitis"], jawaban: "Baku dan resmi", hint: "Sesuai kaidah bahasa Indonesia yang baik dan benar."}] },
                            iklan_slogan_poster: { judul: "Iklan, Slogan, Poster", konten: "<p>Iklan, slogan, dan poster adalah teks persuasif yang bertujuan untuk membujuk khalayak. Kalimatnya harus singkat, jelas, dan menarik.</p>", funFact: "Efek visual seperti warna dan gambar yang mencolok sangat penting dalam poster untuk menarik perhatian orang yang lewat.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Kalimat singkat dan padat yang berfungsi sebagai semboyan atau motto disebut...", pilihan: ["Iklan", "Slogan", "Poster"], jawaban: "Slogan", hint: "Contoh: 'Hemat energi, selamatkan bumi'."}] },
                            berita: { judul: "Teks Berita", konten: "<p>Teks berita harus mengandung unsur 5W+1H (What, Who, Where, When, Why, How), bersifat faktual (berdasarkan fakta), dan objektif (tidak memihak).</p>", funFact: "Struktur piramida terbalik sering digunakan dalam penulisan berita, di mana informasi paling penting diletakkan di awal paragraf.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Unsur berita yang menjawab pertanyaan 'di mana' disebut...", pilihan: ["What", "Where", "When"], jawaban: "Where", hint: "Menunjukkan lokasi kejadian."}] },
                            teks_ulasan: { judul: "Teks Ulasan (Resensi)", konten: "<p>Teks ulasan adalah teks yang berisi penilaian atau review terhadap suatu karya (film, buku, lagu). Strukturnya meliputi orientasi, tafsiran, evaluasi, dan rangkuman.</p>", funFact: "Seorang penulis resensi yang baik harus mampu memberikan penilaian yang seimbang, menunjukkan kelebihan dan kekurangan karya secara objektif.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Bagian dari teks ulasan yang berisi penilaian penulis terhadap kelebihan dan kekurangan karya adalah...", pilihan: ["Orientasi", "Tafsiran", "Evaluasi"], jawaban: "Evaluasi", hint: "Bagian inti dari sebuah review."}] },
                            drama_smp: { judul: "Teks Drama", konten: "<p>Teks drama berisi dialog antar tokoh dan petunjuk laku (kramagung) untuk dipentaskan. Unsur-unsurnya meliputi babak, adegan, dialog, dan prolog/epilog.</p>", funFact: "Kramagung adalah bagian naskah drama yang ditulis dalam tanda kurung, berisi petunjuk aksi atau ekspresi yang harus dilakukan aktor.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Percakapan antara dua tokoh atau lebih dalam naskah drama disebut...", pilihan: ["Monolog", "Prolog", "Dialog"], jawaban: "Dialog", hint: "Merupakan unsur utama dalam drama."}] },
                            menulis_kreatif: { judul: "Menulis Kreatif", konten: "<p>Menulis kreatif adalah proses menciptakan tulisan orisinal yang ekspresif dan imajinatif. Kuncinya adalah banyak membaca sebagai referensi dan berani memulai untuk menuliskan ide.", funFact: "Teknik 'brainstorming' atau curah gagasan, seperti membuat peta pikiran (mind mapping), sangat membantu untuk menemukan ide sebelum mulai menulis.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Langkah pertama yang paling penting dalam menulis kreatif adalah...", pilihan: ["Menemukan ide", "Mengedit tulisan", "Mempublikasikan"], jawaban: "Menemukan ide", hint: "Tanpa ide, tidak ada yang bisa ditulis."}] }
                        }
                    },
                    inggris_smp: { 
                        namaDunia: "English Harbour", warna: "teal", icon: "⚓", deskripsi: "Menguasai grammar, tenses, dan percakapan Bahasa Inggris.", 
                        subMateri: {
                            simple_present: { judul: "Simple Present Tense", konten: "<p>Simple Present Tense digunakan untuk menyatakan kebiasaan, fakta umum, atau kebenaran. Contoh: 'The sun rises in the east.' atau 'I go to school every day.'</p>", funFact: "Untuk subjek he, she, it, kata kerjanya biasanya ditambahkan akhiran -s atau -es.", kuis: [{ type: "pilihan-ganda", pertanyaan: "She ... English very well.", pilihan: ["speak", "speaks", "speaking"], jawaban: "speaks", hint: "Subjeknya adalah 'She'."}] },
                            simple_past: { judul: "Simple Past Tense", konten: "<p>Simple Past Tense digunakan untuk menceritakan kejadian yang telah terjadi di masa lampau. Biasanya menggunakan kata kerja bentuk kedua (Verb 2). Contoh: 'We visited Bali last year.'</p>", funFact: "Banyak kata kerja tak beraturan (irregular verbs) dalam bahasa Inggris yang bentuk keduanya tidak mengikuti pola -ed, seperti go -> went, eat -> ate.", kuis: [{ type: "pilihan-ganda", pertanyaan: "I ... a movie yesterday.", pilihan: ["watch", "watched", "watching"], jawaban: "watched", hint: "Gunakan Verb 2 karena ada kata 'yesterday'."}] },
                            descriptive_text: { judul: "Descriptive Text", konten: "<p>Descriptive text adalah teks yang bertujuan untuk menggambarkan seseorang, tempat, atau benda secara detail agar pembaca seolah-olah bisa melihat atau merasakannya.", funFact: "Penggunaan kata sifat (adjectives) yang kaya sangat penting dalam descriptive text untuk membuatnya hidup.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Tujuan utama dari descriptive text adalah...", pilihan: ["Menceritakan urutan kejadian", "Memberi petunjuk", "Menggambarkan sesuatu"], jawaban: "Menggambarkan sesuatu", hint: "Berasal dari kata 'describe'."}] },
                            recount_text: { judul: "Recount Text", konten: "<p>Recount text adalah teks yang menceritakan kembali pengalaman atau kejadian di masa lampau secara berurutan. Strukturnya adalah orientation, events, dan re-orientation.</p>", funFact: "Recount text selalu menggunakan Past Tense karena menceritakan sesuatu yang sudah berlalu.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Buku harian atau diary adalah contoh dari...", pilihan: ["Procedure text", "Recount text", "Descriptive text"], jawaban: "Recount text", hint: "Menceritakan kembali apa yang terjadi."}] },
                            procedure_text: { judul: "Procedure Text", konten: "<p>Procedure text adalah teks yang memberikan instruksi atau langkah-langkah untuk melakukan sesuatu. Contohnya adalah resep masakan atau buku manual.", funFact: "Procedure text sering menggunakan kalimat perintah (imperative sentences) seperti 'Cut the onion' atau 'Press the button'.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Teks yang berisi cara membuat mi instan termasuk jenis...", pilihan: ["Recount text", "Narrative text", "Procedure text"], jawaban: "Procedure text", hint: "Memberikan langkah-langkah."}] },
                            asking_giving_opinion: { judul: "Asking & Giving Opinion", konten: "<p>Untuk menanyakan pendapat, gunakan frasa seperti 'What do you think about...?'. Untuk memberi pendapat, gunakan 'I think...' atau 'In my opinion...'.</p>", funFact: "Menghargai pendapat orang lain meskipun berbeda adalah kunci komunikasi yang baik dalam bahasa apapun.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Frasa yang tepat untuk menanyakan pendapat adalah...", pilihan: ["I think it's great", "What do you think?", "I agree with you"], jawaban: "What do you think?", hint: "Ini adalah sebuah pertanyaan."}] },
                            degrees_of_comparison: { judul: "Degrees of Comparison", konten: "<p>Comparison degree digunakan untuk membandingkan kata sifat. Ada tiga tingkatan: positive (big), comparative (bigger), dan superlative (biggest).</p>", funFact: "Untuk kata sifat yang panjang (lebih dari dua suku kata), kita menggunakan 'more' untuk comparative dan 'most' untuk superlative, contoh: beautiful, more beautiful, most beautiful.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Mount Everest is the ... mountain in the world.", pilihan: ["high", "higher", "highest"], jawaban: "highest", hint: "Membandingkan dengan semua gunung lain (superlative)."}] },
                            prepositions: { judul: "Prepositions (Kata Depan)", konten: "<p>Preposisi (in, on, at, under, beside) adalah kata yang menunjukkan hubungan lokasi, waktu, atau arah antara objek dalam sebuah kalimat.</p>", funFact: "Ada aturan umum penggunaan preposisi waktu: 'at' untuk jam (at 5 PM), 'on' untuk hari (on Monday), dan 'in' untuk bulan/tahun (in July, in 2023).", kuis: [{ type: "pilihan-ganda", pertanyaan: "The book is ... the table.", pilihan: ["in", "on", "at"], jawaban: "on", hint: "Menempel di atas permukaan."}] },
                            present_continuous: { judul: "Present Continuous Tense", konten: "<p>Present Continuous Tense (to be + verb-ing) digunakan untuk menyatakan kegiatan yang sedang berlangsung saat ini. Contoh: 'You are reading this sentence now.'</p>", funFact: "Tense ini juga bisa digunakan untuk menyatakan rencana pasti di masa depan, contoh: 'I am meeting my friend tomorrow'.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Listen! The baby ...", pilihan: ["cries", "is crying", "cried"], jawaban: "is crying", hint: "Kegiatan yang sedang berlangsung saat ini ('Listen!')."}] },
                            modal_auxiliaries: { judul: "Modal Auxiliaries", konten: "<p>Modal (can, will, must, should) adalah kata kerja bantu yang digunakan untuk menyatakan kemampuan, kemungkinan, kewajiban, atau nasihat.</p>", funFact: "Setelah modal, kata kerja yang mengikutinya selalu dalam bentuk dasar (Verb 1) tanpa 'to'. Contoh: 'You should go', bukan 'You should to go'.", kuis: [{ type: "pilihan-ganda", pertanyaan: "You ... finish your homework before playing. (Kewajiban)", pilihan: ["can", "may", "must"], jawaban: "must", hint: "Menyatakan keharusan atau kewajiban."}] }
                        }
                    },
                    ekonomi_smp: { 
                        namaDunia: "Bursa Ekonomi", warna: "lime", icon: "📈", deskripsi: "Memahami konsep permintaan, penawaran, dan kegiatan ekonomi.", 
                        subMateri: {
                            kebutuhan_manusia: { judul: "Kebutuhan Manusia", konten: "<p>Kebutuhan manusia tidak terbatas, sedangkan alat pemuas kebutuhan (sumber daya) terbatas. Inilah yang menjadi inti masalah ekonomi.</p>", funFact: "Kebutuhan primer (sandang, pangan, papan) adalah kebutuhan yang harus dipenuhi untuk bertahan hidup.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Masalah pokok dalam ilmu ekonomi adalah...", pilihan: ["Kelangkaan (scarcity)", "Kemiskinan", "Inflasi"], jawaban: "Kelangkaan (scarcity)", hint: "Kesenjangan antara kebutuhan dan sumber daya."}] },
                            tindakan_ekonomi: { judul: "Tindakan Ekonomi", konten: "<p>Tindakan ekonomi adalah setiap usaha manusia untuk memenuhi kebutuhan. Prinsip ekonomi adalah berusaha dengan pengorbanan sekecil-kecilnya untuk memperoleh hasil tertentu, atau dengan pengorbanan tertentu untuk memperoleh hasil sebesar-besarnya.</p>", funFact: "Membandingkan harga di beberapa toko sebelum membeli adalah contoh penerapan prinsip ekonomi dalam kehidupan sehari-hari.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Slogan 'Dengan pengorbanan minimal untuk hasil maksimal' adalah inti dari...", pilihan: ["Motif ekonomi", "Prinsip ekonomi", "Hukum ekonomi"], jawaban: "Prinsip ekonomi", hint: "Berusaha seefisien mungkin."}] },
                            permintaan_penawaran: { judul: "Permintaan & Penawaran", konten: "<p>Permintaan adalah jumlah barang yang ingin dibeli pada tingkat harga tertentu. Penawaran adalah jumlah barang yang ingin dijual. Hukum permintaan: harga naik, permintaan turun. Hukum penawaran: harga naik, penawaran naik.</p>", funFact: "Harga keseimbangan (ekuilibrium) terjadi saat jumlah barang yang diminta sama dengan jumlah yang ditawarkan.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Jika harga cabai meningkat tajam, maka permintaan terhadap cabai cenderung...", pilihan: ["Naik", "Turun", "Tetap"], jawaban: "Turun", hint: "Sesuai hukum permintaan."}] },
                            pasar: { judul: "Pasar", konten: "<p>Pasar adalah tempat bertemunya penjual dan pembeli untuk melakukan transaksi. Pasar tidak harus berupa tempat fisik; toko online juga termasuk pasar.</p>", funFact: "Pasar persaingan sempurna adalah bentuk pasar teoretis di mana tidak ada satu pun penjual atau pembeli yang bisa mempengaruhi harga.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Tempat terjadinya interaksi antara permintaan dan penawaran disebut...", pilihan: ["Pabrik", "Pasar", "Distributor"], jawaban: "Pasar", hint: "Bisa konkret atau abstrak."}] },
                            uang: { judul: "Uang", konten: "<p>Uang adalah alat tukar yang sah. Fungsi asli uang adalah sebagai alat tukar dan satuan hitung. Fungsi turunannya sebagai alat pembayaran, penyimpan kekayaan, dan pemindah kekayaan.</p>", funFact: "Sebelum ada uang, manusia melakukan barter, yaitu menukar barang dengan barang, yang seringkali tidak efisien.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Fungsi asli uang adalah sebagai...", pilihan: ["Alat penimbun kekayaan", "Alat tukar", "Alat pembayaran utang"], jawaban: "Alat tukar", hint: "Fungsi paling mendasar."}] },
                            pajak: { judul: "Pajak", konten: "<p>Pajak adalah iuran wajib rakyat kepada negara yang bersifat memaksa berdasarkan undang-undang, tanpa mendapat imbalan secara langsung. Pajak digunakan untuk membiayai pengeluaran negara.</p>", funFact: "Jalan raya, sekolah negeri, dan rumah sakit umum adalah beberapa contoh fasilitas yang dibangun dari uang pajak.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Pajak yang dikenakan atas penghasilan seseorang atau badan usaha disebut...", pilihan: ["Pajak Pertambahan Nilai (PPN)", "Pajak Penghasilan (PPh)", "Pajak Bumi dan Bangunan (PBB)"], jawaban: "Pajak Penghasilan (PPh)", hint: "Dikenakan pada gaji atau keuntungan."}] },
                            perdagangan_internasional: { judul: "Perdagangan Internasional", konten: "<p>Perdagangan internasional terjadi karena setiap negara memiliki keunggulan komparatif yang berbeda. Ekspor adalah menjual barang ke luar negeri, impor adalah membeli barang dari luar negeri.</p>", funFact: "Sebuah ponsel pintar modern adalah contoh produk global, di mana komponennya dibuat di berbagai negara yang berbeda sebelum dirakit menjadi satu.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Kegiatan menjual produk dari dalam negeri ke luar negeri disebut...", pilihan: ["Impor", "Ekspor", "Barter"], jawaban: "Ekspor", hint: "Meningkatkan devisa negara."}] },
                            koperasi: { judul: "Koperasi", konten: "<p>Koperasi adalah badan usaha yang beranggotakan orang-seorang atau badan hukum koperasi dengan melandaskan kegiatannya berdasarkan prinsip koperasi sekaligus sebagai gerakan ekonomi rakyat yang berdasar atas asas kekeluargaan.</p>", funFact: "Bapak Koperasi Indonesia adalah Mohammad Hatta, wakil presiden pertama Indonesia.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Tujuan utama koperasi adalah...", pilihan: ["Mencari keuntungan sebesar-besarnya", "Meningkatkan kesejahteraan anggota", "Menguasai pasar"], jawaban: "Meningkatkan kesejahteraan anggota", hint: "Dari anggota, oleh anggota, untuk anggota."}] },
                            badan_usaha: { judul: "Badan Usaha", konten: "<p>Ada berbagai bentuk badan usaha, seperti Perusahaan Perseorangan, Firma, CV, dan Perseroan Terbatas (PT). BUMN (Badan Usaha Milik Negara) adalah badan usaha yang modalnya dimiliki oleh negara.</p>", funFact: "Kelebihan utama Perseroan Terbatas (PT) adalah adanya pemisahan harta pribadi pemilik dengan harta perusahaan.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Badan usaha yang modalnya berasal dari negara disebut...", pilihan: ["BUMS", "BUMN", "Koperasi"], jawaban: "BUMN", hint: "Singkatan dari Badan Usaha Milik Negara."}] },
                            kreativitas_kewirausahaan: { judul: "Kreativitas & Kewirausahaan", konten: "<p>Kewirausahaan adalah semangat, sikap, dan kemampuan seseorang untuk menciptakan sesuatu yang baru dan bernilai. Kreativitas dan inovasi adalah kunci seorang wirausahawan.</p>", funFact: "Banyak perusahaan teknologi terbesar di dunia saat ini dimulai dari garasi rumah oleh para wirausahawan muda yang kreatif.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Seseorang yang memulai dan mengelola usahanya sendiri dengan mengambil risiko disebut...", pilihan: ["Manajer", "Investor", "Wirausahawan (entrepreneur)"], jawaban: "Wirausahawan (entrepreneur)", hint: "Menciptakan peluang usaha baru."}] }
                        } 
                    }
                }
            },
            sma: {
                dunia: {
                    kalkulus_sma: {
                        namaDunia: "Kalkulus Kosmos", warna: "purple", icon: "∬", deskripsi: "Menggunakan matematika tingkat lanjut untuk memahami perubahan dan tak hingga.",
                        subMateri: {
                            limit: { judul: "Gerbang Menuju Tak Hingga", konten: "<p>Limit adalah nilai yang 'didekati' oleh suatu fungsi saat inputnya mendekati suatu nilai tertentu. Konsep ini menjadi fondasi dari turunan dan integral.</p>", funFact: "Konsep limit sudah ada sejak zaman Yunani kuno, tetapi baru diformalkan pada abad ke-19.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Limit dari f(x) = x + 2 saat x mendekati 3 adalah?", pilihan: ["3", "Tak hingga", "5"], jawaban: "5", hint: "Substitusikan saja nilai x = 3 ke dalam fungsi." }] },
                            turunan: { judul: "Laju Perubahan Sesaat", konten: "<p>Turunan (diferensial) mengukur laju perubahan sesaat dari suatu fungsi. Dalam fisika, turunan dari posisi adalah kecepatan.</p>", funFact: "Isaac Newton dan Gottfried Leibniz secara independen mengembangkan kalkulus pada abad ke-17.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Turunan pertama dari f(x) = 3x² adalah...", pilihan: ["6x", "3x", "x²"], jawaban: "6x", hint: "Gunakan aturan pangkat: n*x^(n-1)." }] },
                            integral: { judul: "Menghitung Luas di Bawah Kurva", konten: "<p>Integral adalah kebalikan dari turunan (anti-turunan). Integral tentu digunakan untuk menghitung luas area di bawah kurva.</p>", funFact: "Integral sangat penting dalam bidang teknik untuk menghitung volume benda putar dan pusat massa.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Integral dari f(x) = 2x adalah...", pilihan: ["x² + C", "2 + C", "x + C"], jawaban: "x² + C", hint: "Kebalikan dari turunan. Jangan lupa konstanta C." }] },
                            trigonometri_lanjut: { judul: "Identitas Trigonometri", konten: "<p>Trigonometri lanjut membahas identitas seperti sin²x + cos²x = 1, serta persamaan dan fungsi trigonometri yang kompleks.</p>", funFact: "Trigonometri awalnya dikembangkan untuk keperluan astronomi dan navigasi.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Jika sin²x + cos²x = 1, maka 1 - sin²x sama dengan...", pilihan: ["cos²x", "sin x", "1"], jawaban: "cos²x", hint: "Pindahkan sin²x ke ruas kanan." }] },
                            matriks: { judul: "Matriks dan Transformasi", konten: "<p>Matriks adalah susunan bilangan dalam baris dan kolom. Matriks dapat digunakan untuk menyelesaikan sistem persamaan linear dan melakukan transformasi geometri.</p>", funFact: "Matriks digunakan dalam grafika komputer untuk memutar, memperbesar, dan memindahkan objek 3D.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Matriks yang hasil perkaliannya dengan matriks lain tidak mengubah matriks tersebut adalah matriks...", pilihan: ["Nol", "Identitas", "Transpose"], jawaban: "Identitas", hint: "Seperti angka 1 dalam perkalian biasa." }] },
                            vektor: { judul: "Besaran dan Arah", konten: "<p>Vektor adalah besaran yang memiliki nilai dan arah, seperti kecepatan dan gaya. Berbeda dengan skalar yang hanya memiliki nilai.</p>", funFact: "GPS menggunakan prinsip vektor untuk menghitung posisi dan rute perjalanan Anda.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Manakah dari berikut ini yang merupakan besaran vektor?", pilihan: ["Suhu", "Jarak", "Perpindahan"], jawaban: "Perpindahan", hint: "Memperhatikan arah gerak." }] },
                            dimensi_tiga: { judul: "Jarak dalam Ruang", konten: "<p>Geometri dimensi tiga mempelajari hubungan titik, garis, dan bidang dalam ruang, seperti menghitung jarak dan sudut pada kubus atau limas.</p>", funFact: "Seniman Renaissance seperti Leonardo da Vinci adalah pionir dalam menggunakan prinsip geometri 3D untuk menciptakan ilusi kedalaman pada lukisan.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Garis lurus terpanjang di dalam sebuah kubus adalah...", pilihan: ["Rusuk", "Diagonal sisi", "Diagonal ruang"], jawaban: "Diagonal ruang", hint: "Menghubungkan dua titik sudut yang berlawanan." }] },
                            program_linear: { judul: "Optimasi Sumber Daya", konten: "<p>Program linear adalah metode matematika untuk menemukan nilai optimum (maksimum atau minimum) dari suatu masalah dengan batasan-batasan tertentu.</p>", funFact: "Program linear banyak digunakan dalam bisnis untuk memaksimalkan keuntungan atau meminimalkan biaya produksi.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Tujuan utama program linear adalah menemukan nilai...", pilihan: ["Rata-rata", "Tengah", "Optimum"], jawaban: "Optimum", hint: "Bisa maksimum atau minimum." }] },
                            transformasi_geometri: { judul: "Geser, Putar, Cermin", konten: "<p>Transformasi geometri adalah perubahan posisi atau ukuran suatu objek. Meliputi translasi (pergeseran), rotasi (perputaran), refleksi (pencerminan), dan dilatasi (perbesaran).</p>", funFact: "Pola pada kain batik seringkali menggunakan prinsip transformasi geometri, terutama refleksi dan translasi.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Transformasi yang mengubah ukuran objek adalah...", pilihan: ["Translasi", "Rotasi", "Dilatasi"], jawaban: "Dilatasi", hint: "Membuat lebih besar atau lebih kecil." }] },
                            peluang_lanjut: { judul: "Kaidah Pencacahan", konten: "<p>Peluang lanjut membahas kaidah pencacahan, permutasi (urutan penting), dan kombinasi (urutan tidak penting) untuk menghitung kemungkinan.", funFact: "Jumlah kemungkinan susunan setumpuk 52 kartu remi lebih banyak daripada jumlah atom di Bumi.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Memilih 3 juara dari 10 finalis adalah contoh dari...", pilihan: ["Permutasi", "Kombinasi", "Faktorial"], jawaban: "Permutasi", hint: "Karena urutan juara 1, 2, dan 3 itu penting." }] }
                        }
                    },
                    fisika_sma: {
                        namaDunia: "Reaktor Fisika Kuantum", warna: "red", icon: "💥", deskripsi: "Menjelajahi dunia partikel sub-atomik dan hukum fisika modern.",
                        subMateri: {
                            relativitas: { judul: "Ruang-Waktu Einstein", konten: "<p>Teori relativitas khusus Einstein menyatakan bahwa ruang dan waktu bersifat relatif, dan kecepatan cahaya adalah konstan bagi semua pengamat.</p>", funFact: "Karena efek relativitas, waktu berjalan sedikit lebih lambat bagi astronot di luar angkasa dibandingkan di Bumi.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Menurut Einstein, apa yang terjadi pada massa benda saat bergerak mendekati kecepatan cahaya?", pilihan: ["Berkurang", "Tetap", "Bertambah"], jawaban: "Bertambah", hint: "Energi dan massa setara (E=mc²)." }] },
                            radiasi_benda_hitam: { judul: "Radiasi Benda Hitam", konten: "<p>Benda hitam ideal menyerap semua radiasi. Spektrum radiasinya hanya bergantung pada suhu. Fenomena ini melahirkan fisika kuantum.</p>", funFact: "Matahari dan bintang-bintang lain dapat dianggap sebagai benda hitam yang hampir sempurna.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Hukum yang menjelaskan puncak spektrum radiasi benda hitam bergeser ke panjang gelombang lebih pendek saat suhu meningkat adalah...", pilihan: ["Hukum Stefan-Boltzmann", "Hukum Pergeseran Wien", "Hukum Planck"], jawaban: "Hukum Pergeseran Wien", hint: "Wien's Displacement Law." }] },
                            efek_fotolistrik: { judul: "Cahaya sebagai Partikel", konten: "<p>Efek fotolistrik adalah keluarnya elektron dari logam saat disinari cahaya. Ini membuktikan bahwa cahaya memiliki sifat partikel (foton).</p>", funFact: "Albert Einstein memenangkan Hadiah Nobel bukan untuk teori relativitas, melainkan untuk penjelasannya tentang efek fotolistrik.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Energi satu foton (partikel cahaya) sebanding dengan...", pilihan: ["Amplitudo", "Frekuensi", "Panjang gelombang"], jawaban: "Frekuensi", hint: "E = hf, di mana h adalah konstanta Planck." }] },
                            model_atom: { judul: "Model Atom Modern", konten: "<p>Model atom berkembang dari Dalton, Thomson, Rutherford, Bohr, hingga model mekanika kuantum yang menyatakan elektron berada dalam orbital (awan probabilitas).</p>", funFact: "Jika inti atom sebesar kelereng, maka elektron terdekat akan berada sejauh setengah kilometer!", kuis: [{ type: "pilihan-ganda", pertanyaan: "Model atom yang menggambarkan elektron mengorbit inti seperti planet mengelilingi matahari adalah model...", pilihan: ["Thomson", "Rutherford", "Bohr"], jawaban: "Rutherford", hint: "Model roti kismis digagas oleh Thomson." }] },
                            dualisme_gelombang_partikel: { judul: "Sifat Ganda Materi", konten: "<p>Louis de Broglie mengemukakan bahwa semua materi, termasuk elektron, memiliki sifat ganda, yaitu bisa bersifat sebagai partikel dan juga sebagai gelombang.</p>", funFact: "Sifat gelombang dari elektron dimanfaatkan dalam mikroskop elektron untuk melihat objek yang sangat kecil.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Hipotesis de Broglie menyatakan bahwa panjang gelombang suatu partikel...", pilihan: ["Berbanding lurus dengan momentumnya", "Berbanding terbalik dengan momentumnya", "Tidak bergantung pada momentumnya"], jawaban: "Berbanding terbalik dengan momentumnya", hint: "λ = h/p." }] },
                            fisika_inti: { judul: "Energi dari Inti Atom", konten: "<p>Fisika inti mempelajari tentang inti atom. Reaksi fisi (pembelahan inti) dan fusi (penggabungan inti) melepaskan energi yang sangat besar.</p>", funFact: "Reaksi fusi adalah sumber energi Matahari dan bintang-bintang.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Reaksi yang terjadi pada Pembangkit Listrik Tenaga Nuklir (PLTN) adalah...", pilihan: ["Fisi", "Fusi", "Peluruhan beta"], jawaban: "Fisi", hint: "Pembelahan inti Uranium." }] },
                            termodinamika: { judul: "Hukum Panas dan Energi", konten: "<p>Termodinamika mempelajari hubungan antara panas, kerja, dan energi. Hukum kedua menyatakan bahwa entropi (ketidakteraturan) semesta selalu bertambah.</p>", funFact: "Tidak mungkin membuat mesin yang 100% efisien mengubah panas menjadi kerja, ini adalah salah satu konsekuensi dari Hukum Kedua Termodinamika.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Hukum pertama termodinamika pada dasarnya adalah pernyataan dari hukum kekekalan...", pilihan: ["Momentum", "Massa", "Energi"], jawaban: "Energi", hint: "Energi tidak dapat diciptakan atau dimusnahkan." }] },
                            gelombang_elektromagnetik: { judul: "Spektrum Tak Terlihat", konten: "<p>Spektrum gelombang elektromagnetik meliputi gelombang radio, mikro, inframerah, cahaya tampak, ultraviolet, sinar-X, dan sinar gamma.</p>", funFact: "Wi-Fi, Bluetooth, dan sinyal ponsel Anda semuanya adalah bentuk gelombang radio.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Gelombang elektromagnetik dengan energi paling tinggi adalah...", pilihan: ["Gelombang Radio", "Cahaya Tampak", "Sinar Gamma"], jawaban: "Sinar Gamma", hint: "Memiliki frekuensi tertinggi." }] },
                            arus_bolak_balik: { judul: "Listrik di Rumah Kita", konten: "<p>Arus bolak-balik (AC) adalah jenis listrik yang digunakan di rumah. Rangkaian RLC (Resistor, Induktor, Kapasitor) adalah komponen utamanya.</p>", funFact: "Perang arus ('War of Currents') antara Thomas Edison (pendukung DC) dan Nikola Tesla (pendukung AC) dimenangkan oleh AC karena lebih efisien untuk transmisi jarak jauh.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Alat yang digunakan untuk menaikkan atau menurunkan tegangan AC adalah...", pilihan: ["Kapasitor", "Transformator", "Resistor"], jawaban: "Transformator", hint: "Sering disebut trafo." }] },
                            induksi_elektromagnetik: { judul: "Magnet Menghasilkan Listrik", konten: "<p>Hukum Faraday tentang induksi elektromagnetik menyatakan bahwa perubahan medan magnet dapat menghasilkan arus listrik. Ini adalah prinsip dasar generator.", funFact: "Hampir semua listrik yang kita gunakan saat ini dibangkitkan menggunakan prinsip induksi elektromagnetik.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Prinsip kerja dinamo sepeda didasarkan pada...", pilihan: ["Efek fotolistrik", "Induksi elektromagnetik", "Hukum Ohm"], jawaban: "Induksi elektromagnetik", hint: "Perputaran magnet di dekat kumparan." }] }
                        }
                    },
                    kimia_sma: {
                        namaDunia: "Sintesis Kimia Organik", warna: "lime", icon: "⚗️", deskripsi: "Mempelajari senyawa berbasis karbon yang menjadi dasar kehidupan.",
                        subMateri: {
                            atom_karbon: { judul: "Keunikan Atom Karbon", konten: "<p>Atom karbon dapat membentuk empat ikatan kovalen yang stabil, memungkinkannya membentuk rantai dan cincin kompleks, dasar dari semua molekul organik.</p>", funFact: "Bentuk alotropi karbon termasuk grafit (pada pensil), intan (permata terkeras), dan graphene (bahan satu atom tertipis).", kuis: [{ type: "pilihan-ganda", pertanyaan: "Berapa jumlah ikatan yang dapat dibentuk oleh satu atom karbon?", pilihan: ["2", "4", "6"], jawaban: "4", hint: "Elektron valensinya ada 4." }] },
                            hidrokarbon: { judul: "Alkana, Alkena, Alkuna", konten: "<p>Hidrokarbon adalah senyawa paling sederhana yang hanya terdiri dari hidrogen dan karbon. Alkana (ikatan tunggal), Alkena (ikatan rangkap dua), Alkuna (ikatan rangkap tiga).</p>", funFact: "Gas alam dan minyak bumi sebagian besar adalah campuran dari berbagai senyawa hidrokarbon.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Senyawa C₂H₄ termasuk dalam deret homolog...", pilihan: ["Alkana", "Alkena", "Alkuna"], jawaban: "Alkena", hint: "Mengikuti rumus CnH2n." }] },
                            gugus_fungsi_alkohol: { judul: "Alkohol dan Eter", konten: "<p>Gugus fungsi adalah atom atau kelompok atom yang memberikan sifat khas pada senyawa. Gugus -OH adalah alkohol, sedangkan -O- adalah eter.</p>", funFact: "Etanol adalah jenis alkohol yang ditemukan dalam minuman, sementara metanol sangat beracun.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Senyawa dengan gugus fungsi -OH disebut...", pilihan: ["Eter", "Alkohol", "Aldehid"], jawaban: "Alkohol", hint: "Contohnya metanol, etanol." }] },
                            aldehid_keton: { judul: "Aldehid dan Keton", konten: "<p>Keduanya memiliki gugus karbonil (C=O). Pada aldehid, gugus karbonil ada di ujung rantai, sedangkan pada keton ada di tengah.</p>", funFact: "Formalin, yang digunakan untuk mengawetkan spesimen biologi, adalah nama dagang dari larutan formaldehid (suatu aldehid).", kuis: [{ type: "pilihan-ganda", pertanyaan: "Aseton, yang digunakan sebagai penghapus cat kuku, adalah contoh senyawa...", pilihan: ["Aldehid", "Keton", "Asam karboksilat"], jawaban: "Keton", hint: "Nama IUPAC-nya adalah propanon." }] },
                            asam_karboksilat_ester: { judul: "Asam dan Aroma", konten: "<p>Asam karboksilat (-COOH) bersifat asam. Ester (-COO-) terbentuk dari reaksi asam karboksilat dan alkohol, dan seringkali memiliki aroma buah.", funFact: "Aroma pisang, nanas, dan apel pada perasa buatan berasal dari senyawa ester yang berbeda.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Asam cuka atau asam asetat termasuk dalam golongan...", pilihan: ["Ester", "Alkohol", "Asam karboksilat"], jawaban: "Asam karboksilat", hint: "Rumusnya CH₃COOH." }] },
                            benzena: { judul: "Cincin Aromatik Benzena", konten: "<p>Benzena (C₆H₆) adalah senyawa siklik dengan ikatan rangkap terkonjugasi yang sangat stabil. Banyak senyawa turunan benzena penting dalam industri.</p>", funFact: "Struktur cincin benzena pertama kali diusulkan oleh August Kekulé setelah bermimpi tentang seekor ular yang menggigit ekornya sendiri.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Senyawa turunan benzena yang digunakan sebagai bahan peledak adalah...", pilihan: ["Fenol", "Anilina", "TNT (Trinitrotoluena)"], jawaban: "TNT (Trinitrotoluena)", hint: "Singkatan dari Trinitrotoluena." }] },
                            polimer: { judul: "Rantai Raksasa Polimer", konten: "<p>Polimer adalah molekul raksasa (makromolekul) yang terbentuk dari pengulangan unit-unit kecil (monomer). Contohnya plastik, nilon, dan karet.</p>", funFact: "DNA dan protein dalam tubuh kita juga merupakan contoh polimer alami.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Plastik PET yang digunakan untuk botol minuman adalah contoh...", pilihan: ["Monomer", "Polimer", "Isomer"], jawaban: "Polimer", hint: "Terbentuk dari banyak unit monomer." }] },
                            karbohidrat: { judul: "Sumber Energi: Karbohidrat", konten: "<p>Karbohidrat adalah biomolekul yang terdiri dari atom C, H, dan O. Berfungsi sebagai sumber energi utama. Contoh: glukosa, sukrosa, amilum.</p>", funFact: "Selulosa, karbohidrat yang menyusun dinding sel tumbuhan, adalah senyawa organik paling melimpah di Bumi.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Gula pasir yang kita gunakan sehari-hari adalah...", pilihan: ["Glukosa", "Fruktosa", "Sukrosa"], jawaban: "Sukrosa", hint: "Sebuah disakarida." }] },
                            protein_lemak: { judul: "Pembangun Tubuh: Protein & Lemak", konten: "<p>Protein adalah polimer dari asam amino, berfungsi sebagai pembangun sel dan enzim. Lemak (lipid) berfungsi sebagai cadangan energi dan pelarut vitamin.</p>", funFact: "Bentuk tiga dimensi dari protein sangat menentukan fungsinya. Perubahan bentuk sedikit saja bisa membuatnya tidak aktif.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Monomer atau unit penyusun protein adalah...", pilihan: ["Glukosa", "Asam amino", "Asam lemak"], jawaban: "Asam amino", hint: "Ada 20 jenis asam amino esensial." }] },
                            redoks_elektrokimia: { judul: "Sel Volta dan Elektrolisis", konten: "<p>Elektrokimia mempelajari hubungan antara reaksi kimia dan energi listrik. Sel Volta mengubah energi kimia menjadi listrik (baterai), sedangkan elektrolisis sebaliknya.</p>", funFact: "Proses penyepuhan logam, seperti melapisi sendok dengan perak, menggunakan prinsip elektrolisis.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Pada sel Volta (baterai), energi kimia diubah menjadi energi...", pilihan: ["Panas", "Cahaya", "Listrik"], jawaban: "Listrik", hint: "Menghasilkan arus listrik spontan." }] }
                        }
                    },
                     // Dunia-dunia tambahan untuk SMA
                    biologi_sma: { namaDunia: "Molekul Kehidupan", warna: "emerald", icon: "🦠", deskripsi: "Mendalami genetika, evolusi, dan bioteknologi modern.", subMateri: { /* 10 sub-materi */ } },
                    sosiologi_sma: { namaDunia: "Agora Sosiologi", warna: "cyan", icon: "👨‍👩‍👧‍👦", deskripsi: "Menganalisis struktur, konflik, dan perubahan dalam masyarakat.", subMateri: { /* 10 sub-materi */ } },
                    ekonomi_sma: { namaDunia: "Pasar Modal Global", warna: "amber", icon: "💰", deskripsi: "Mengupas tuntas makroekonomi, kebijakan fiskal, dan perdagangan internasional.", subMateri: { /* 10 sub-materi */ } },
                    geografi_sma: { namaDunia: "Geopolitik Dunia", warna: "teal", icon: "🌐", deskripsi: "Memahami isu-isu global, interaksi negara, dan sistem informasi geografis.", subMateri: { /* 10 sub-materi */ } },
                    sejarah_sma: { namaDunia: "Peradaban Dunia", warna: "stone", icon: "🏛️", deskripsi: "Menelusuri sejarah peradaban dunia dari zaman kuno hingga era modern.", subMateri: { /* 10 sub-materi */ } },
                    sastra_sma: { namaDunia: "Literary Circle", warna: "rose", icon: "📖", deskripsi: "Mengkaji karya sastra dunia dan teori-teori kritik sastra.", subMateri: { /* 10 sub-materi */ } },
                    tik_sma: { namaDunia: "Studio Informatika", warna: "slate", icon: "👨‍💻", deskripsi: "Mempelajari algoritma, logika pemrograman, dan dampak sosial teknologi.", subMateri: { /* 10 sub-materi */ } }
                }
            },
            kuliah: {
                dunia: {
                    filsafat_kuliah: {
                        namaDunia: "Fakultas Filsafat", warna: "stone", icon: "🤔", deskripsi: "Menggali pertanyaan mendasar tentang eksistensi, pengetahuan, dan etika.",
                        subMateri: {
                            rasionalisme_empirisme: { judul: "Akal vs Pengalaman", konten: "<p>Rasionalisme (Plato, Descartes) berpendapat bahwa pengetahuan sejati berasal dari akal budi (reason). Empirisme (Aristoteles, Locke) berpendapat pengetahuan berasal dari pengalaman indrawi (experience).</p>", funFact: "Perdebatan antara rasionalisme dan empirisme membentuk dasar dari sebagian besar filsafat Barat modern.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Filusuf yang terkenal dengan ucapan 'Aku berpikir, maka aku ada' ('Cogito, ergo sum') adalah penganut aliran?", pilihan: ["Empirisme", "Rasionalisme", "Eksistensialisme"], jawaban: "Rasionalisme", hint: "Mendahulukan akal di atas segalanya." }] },
                            metafisika: { judul: "Hakikat Realitas", konten: "<p>Metafisika adalah cabang filsafat yang mempertanyakan hakikat dasar dari realitas. Apa itu 'ada'? Apa itu ruang dan waktu?</p>", funFact: "Nama 'metafisika' berasal dari karya Aristoteles yang secara harfiah ditempatkan 'setelah fisika' (meta ta physika) dalam koleksi tulisannya.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Studi filosofis tentang 'keberadaan' atau 'being' disebut...", pilihan: ["Epistemologi", "Etika", "Ontologi"], jawaban: "Ontologi", hint: "Ini adalah cabang utama dari metafisika." }] },
                            etika: { judul: "Baik dan Buruk", konten: "<p>Etika mempelajari prinsip-prinsip moral. Deontologi (Kant) fokus pada kewajiban, sementara Utilitarianisme (Bentham, Mill) fokus pada hasil atau konsekuensi yang paling menguntungkan banyak orang.</p>", funFact: "Dilema troli (Trolley Problem) adalah eksperimen pikiran yang sering digunakan untuk menguji intuisi etis antara deontologi dan utilitarianisme.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Aliran etika yang menilai tindakan berdasarkan hasilnya adalah...", pilihan: ["Deontologi", "Etika Kebajikan", "Utilitarianisme"], jawaban: "Utilitarianisme", hint: "The greatest good for the greatest number." }] },
                            epistemologi: { judul: "Batas Pengetahuan", konten: "<p>Epistemologi adalah cabang filsafat yang berfokus pada pengetahuan itu sendiri. Apa itu pengetahuan? Bagaimana kita mendapatkannya? Apa yang bisa kita ketahui?</p>", funFact: "Masalah Gettier adalah tantangan terkenal dalam epistemologi yang mempertanyakan definisi klasik pengetahuan sebagai 'kepercayaan sejati yang dapat dibenarkan'.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Cabang filsafat yang mempelajari tentang pengetahuan disebut...", pilihan: ["Metafisika", "Epistemologi", "Estetika"], jawaban: "Epistemologi", hint: "Berasal dari kata Yunani 'episteme' (pengetahuan)." }] },
                            filsafat_politik: { judul: "Kontrak Sosial", konten: "<p>Teori kontrak sosial (Hobbes, Locke, Rousseau) berpendapat bahwa negara dan otoritas pemerintah dibenarkan karena adanya persetujuan (kontrak) dari individu untuk keluar dari 'keadaan alamiah'.</p>", funFact: "Thomas Hobbes menggambarkan keadaan alamiah sebagai 'perang semua melawan semua', di mana hidup itu 'soliter, miskin, keji, brutal, dan singkat'.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Filusuf yang berpendapat manusia lahir sebagai 'tabula rasa' atau kertas kosong adalah...", pilihan: ["Hobbes", "Locke", "Rousseau"], jawaban: "Locke", hint: "Gagasannya sangat mempengaruhi deklarasi kemerdekaan AS." }] },
                            eksistensialisme: { judul: "Eksistensi Mendahului Esensi", konten: "<p>Eksistensialisme (Sartre, Camus) adalah aliran filsafat yang menekankan kebebasan individu, tanggung jawab, dan subjektivitas. Manusia pertama-tama ada, baru kemudian mendefinisikan dirinya sendiri.</p>", funFact: "Jean-Paul Sartre pernah menolak Hadiah Nobel Sastra karena ia tidak ingin 'diubah' oleh institusi.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Konsep utama dalam eksistensialisme yang menyatakan bahwa hidup tidak memiliki makna inheren adalah...", pilihan: ["Absurdisme", "Nihilisme", "Determinisme"], jawaban: "Absurdisme", hint: "Terutama dikaitkan dengan Albert Camus." }] },
                            post_strukturalisme: { judul: "Dekonstruksi Makna", konten: "<p>Post-strukturalisme (Derrida, Foucault) mengkritik gagasan bahwa ada struktur universal yang stabil dalam makna, bahasa, dan masyarakat. Mereka menekankan ketidakstabilan makna.</p>", funFact: "Jacques Derrida memperkenalkan konsep 'dekonstruksi', yaitu membongkar teks untuk melihat asumsi-asumsi yang tersembunyi.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Michel Foucault terkenal dengan analisisnya tentang hubungan antara pengetahuan dan...", pilihan: ["Ekonomi", "Kekuasaan", "Seni"], jawaban: "Kekuasaan", hint: "Knowledge is power." }] },
                            logika: { judul: "Seni Berpikir Lurus", konten: "<p>Logika adalah studi tentang penalaran yang valid. Silogisme Aristoteles adalah contoh klasik: Jika semua manusia fana (premis 1) dan Socrates adalah manusia (premis 2), maka Socrates fana (kesimpulan).</p>", funFact: "Kesalahan logika (logical fallacy) seperti 'ad hominem' (menyerang orangnya, bukan argumennya) sering terjadi dalam debat sehari-hari.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Kesimpulan yang ditarik dari dua premis atau lebih disebut...", pilihan: ["Proposisi", "Argumen", "Deduksi"], jawaban: "Deduksi", hint: "Dari umum ke khusus." }] },
                            filsafat_timur: { judul: "Jalan Tao dan Zen", konten: "<p>Filsafat Timur, seperti Taoisme dan Zen Buddhisme, seringkali lebih fokus pada harmoni, keseimbangan, dan pengalaman langsung daripada analisis logis Barat.</p>", funFact: "Konsep Yin dan Yang dalam Taoisme melambangkan dualitas yang saling melengkapi dan membentuk keseluruhan yang seimbang.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Konsep 'Wu Wei' dalam Taoisme berarti...", pilihan: ["Bekerja keras", "Tindakan tanpa usaha (effortless action)", "Meditasi mendalam"], jawaban: "Tindakan tanpa usaha (effortless action)", hint: "Mengalir bersama alam." }] },
                            estetika: { judul: "Apa itu Keindahan?", konten: "<p>Estetika adalah cabang filsafat yang membahas sifat seni, keindahan, dan selera. Apakah keindahan itu objektif atau subjektif?</p>", funFact: "Immanuel Kant berpendapat bahwa penilaian keindahan bersifat subjektif namun universal, artinya kita berharap orang lain setuju dengan kita.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Konsep 'katarsis' atau pemurnian emosi melalui seni pertama kali diperkenalkan oleh...", pilihan: ["Plato", "Aristoteles", "Nietzsche"], jawaban: "Aristoteles", hint: "Dalam konteks drama tragedi Yunani." }] }
                        }
                    },
                    psikologi_kuliah: {
                        namaDunia: "Kajian Psikologi", warna: "fuchsia", icon: "🧠", deskripsi: "Memahami pikiran, perasaan, dan perilaku manusia melalui berbagai teori.",
                        subMateri: {
                            psikoanalisis: { judul: "Peta Pikiran Freud", konten: "<p>Sigmund Freud memperkenalkan konsep ketidaksadaran (unconscious mind) serta struktur kepribadian id, ego, dan superego yang mempengaruhi perilaku manusia.</p>", funFact: "Freud percaya bahwa mimpi adalah 'jalan utama menuju alam bawah sadar'.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Menurut Freud, bagian kepribadian yang bekerja berdasarkan prinsip kesenangan (pleasure principle) adalah?", pilihan: ["Ego", "Superego", "Id"], jawaban: "Id", hint: "Dorongan paling dasar dan primitif." }] },
                            behaviorisme: { judul: "Belajar dari Lingkungan", konten: "<p>Behaviorisme (Pavlov, Skinner) berfokus pada perilaku yang dapat diamati dan bagaimana perilaku itu dibentuk oleh lingkungan melalui pengkondisian (conditioning).</p>", funFact: "Eksperimen 'Anjing Pavlov' menunjukkan bahwa respons fisiologis seperti mengeluarkan air liur dapat dikondisikan terhadap rangsangan netral seperti bunyi bel.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Dalam 'Skinner Box', seekor tikus belajar menekan tuas untuk mendapatkan makanan. Ini adalah contoh dari...", pilihan: ["Pengkondisian Klasik", "Pengkondisian Operan", "Belajar Laten"], jawaban: "Pengkondisian Operan", hint: "Perilaku dikendalikan oleh konsekuensi (ganjaran/hukuman)." }] },
                            humanisme: { judul: "Potensi Diri Manusia", konten: "<p>Psikologi Humanistik (Maslow, Rogers) menentang pandangan pesimistis psikoanalisis dan behaviorisme, dengan fokus pada kehendak bebas, pertumbuhan pribadi, dan aktualisasi diri.</p>", funFact: "Puncak dari Hierarki Kebutuhan Maslow adalah 'aktualisasi diri', yaitu pencapaian potensi penuh seseorang.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Hierarki Kebutuhan yang terkenal digagas oleh...", pilihan: ["Carl Rogers", "Abraham Maslow", "B.F. Skinner"], jawaban: "Abraham Maslow", hint: "Bentuknya seperti piramida." }] },
                            kognitif: { judul: "Revolusi Kognitif", konten: "<p>Psikologi kognitif mempelajari proses mental internal seperti berpikir, memori, persepsi, dan pemecahan masalah. Manusia dipandang sebagai pemroses informasi aktif.</p>", funFact: "Analogi pikiran sebagai komputer adalah metafora sentral dalam psikologi kognitif awal.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Studi tentang bagaimana kita memperoleh, menyimpan, dan mengambil informasi disebut studi tentang...", pilihan: ["Persepsi", "Memori", "Atensi"], jawaban: "Memori", hint: "Penyimpanan informasi di otak." }] },
                            perkembangan: { judul: "Tahapan Hidup Piaget", konten: "<p>Psikologi perkembangan mempelajari perubahan psikologis sepanjang rentang hidup. Jean Piaget terkenal dengan teori empat tahap perkembangan kognitif anak.</p>", funFact: "Menurut Piaget, anak-anak kecil belum mengembangkan 'konservasi', yaitu pemahaman bahwa kuantitas tetap sama meskipun bentuknya berubah.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Tahap perkembangan kognitif di mana anak mulai berpikir logis tentang peristiwa konkret adalah...", pilihan: ["Sensorimotor", "Praoperasional", "Operasional Konkret"], jawaban: "Operasional Konkret", hint: "Terjadi pada usia sekitar 7-11 tahun." }] },
                            sosial: { judul: "Individu dalam Kelompok", konten: "<p>Psikologi sosial mempelajari bagaimana pikiran, perasaan, dan perilaku individu dipengaruhi oleh kehadiran orang lain. Contoh: konformitas, kepatuhan, prasangka.</p>", funFact: "Eksperimen Penjara Stanford menunjukkan betapa kuatnya peran sosial dapat mempengaruhi perilaku seseorang, bahkan hingga ke tingkat ekstrem.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Kecenderungan untuk setuju dengan kelompok meskipun kita tahu itu salah disebut...", pilihan: ["Kepatuhan", "Konformitas", "Disosiasi"], jawaban: "Konformitas", hint: "Eksperimen garis Asch adalah contoh klasiknya." }] },
                            abnormal: { judul: "Kesehatan Mental", konten: "<p>Psikologi abnormal mempelajari pola perilaku, emosi, dan pikiran yang tidak biasa, yang dapat dianggap sebagai gangguan mental. DSM-5 adalah manual diagnostiknya.</p>", funFact: "Homoseksualitas pernah tercantum dalam DSM sebagai gangguan mental hingga tahun 1973.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Manual diagnostik yang digunakan secara luas untuk gangguan mental adalah...", pilihan: ["ICD-10", "DSM-5", "PPDGJ"], jawaban: "DSM-5", hint: "Diterbitkan oleh American Psychiatric Association." }] },
                            persepsi: { judul: "Melihat Dunia", konten: "<p>Sensasi adalah proses indra menerima rangsangan. Persepsi adalah proses otak mengorganisir dan menginterpretasikan sensasi tersebut menjadi sesuatu yang bermakna.</p>", funFact: "Otak kita terus-menerus membuat 'tebakan terbaik' tentang dunia luar berdasarkan informasi sensorik yang tidak lengkap, yang kadang-kadang menyebabkan ilusi optik.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Prinsip Gestalt dalam persepsi menekankan bahwa...", pilihan: ["Keseluruhan lebih dari jumlah bagian-bagiannya", "Bagian-bagian lebih penting dari keseluruhan", "Persepsi selalu akurat"], jawaban: "Keseluruhan lebih dari jumlah bagian-bagiannya", hint: "Otak kita cenderung mengorganisir menjadi pola yang utuh." }] },
                            memori: { judul: "Arsip Pikiran", konten: "<p>Memori bukanlah satu hal tunggal, melainkan sistem yang kompleks, termasuk memori sensorik, jangka pendek (working memory), dan jangka panjang (eksplisit dan implisit).</p>", funFact: "Efek 'ujung lidah' (tip-of-the-tongue) terjadi ketika kita merasa tahu suatu informasi tetapi sulit untuk mengambilnya dari memori jangka panjang.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Memori untuk keterampilan dan kebiasaan, seperti bersepeda, disebut memori...", pilihan: ["Episodik", "Semantik", "Prosedural"], jawaban: "Prosedural", hint: "Ini adalah bagian dari memori implisit (tidak sadar)." }] },
                            inteligensi: { judul: "Mengukur Kecerdasan", konten: "<p>Inteligensi adalah kemampuan untuk belajar dari pengalaman, memecahkan masalah, dan beradaptasi. Teori modern, seperti teori Howard Gardner, menyatakan ada berbagai jenis kecerdasan (multiple intelligences).</p>", funFact: "Efek Flynn adalah pengamatan bahwa skor IQ rata-rata di banyak bagian dunia meningkat secara substansial sepanjang abad ke-20.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Kecerdasan musikal dan spasial adalah bagian dari teori...", pilihan: ["Inteligensi Umum (g factor)", "Inteligensi Ganda (Multiple Intelligences)", "Inteligensi Triarkis"], jawaban: "Inteligensi Ganda (Multiple Intelligences)", hint: "Digagas oleh Howard Gardner." }] }
                        }
                    },
                    hukum_kuliah: {
                        namaDunia: "Dasar-Dasar Hukum", warna: "indigo", icon: "⚖️", deskripsi: "Mengenal sistem, prinsip, dan cabang-cabang utama dalam ilmu hukum.",
                        subMateri: {
                            sistem_hukum: { judul: "Civil Law vs Common Law", konten: "<p>Sistem Civil Law (Eropa Kontinental, Indonesia) berbasis pada kodifikasi hukum tertulis. Sistem Common Law (Inggris, AS) berbasis pada preseden atau putusan hakim sebelumnya (yurisprudensi).</p>", funFact: "Negara bagian Louisiana di AS secara unik menggunakan sistem campuran antara civil law dan common law.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Sistem hukum yang dianut oleh negara Indonesia adalah...", pilihan: ["Common Law", "Civil Law", "Hukum Adat"], jawaban: "Civil Law", hint: "Warisan dari sistem hukum Belanda." }] },
                            asas_legalitas: { judul: "Asas Legalitas Pidana", konten: "<p>Asas legalitas (nullum delictum nulla poena sine praevia lege poenali) berarti tidak ada perbuatan yang dapat dihukum kecuali atas kekuatan aturan pidana dalam undang-undang yang telah ada sebelumnya.</p>", funFact: "Asas ini adalah benteng utama melawan kesewenang-wenangan penguasa dalam hukum pidana.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Inti dari asas legalitas adalah...", pilihan: ["Hukuman harus setimpal", "Tidak ada hukuman tanpa undang-undang sebelumnya", "Setiap orang sama di depan hukum"], jawaban: "Tidak ada hukuman tanpa undang-undang sebelumnya", hint: "Prinsip non-retroaktif." }] },
                            subjek_objek_hukum: { judul: "Subjek dan Objek Hukum", konten: "<p>Subjek hukum adalah pendukung hak dan kewajiban (manusia dan badan hukum). Objek hukum adalah segala sesuatu yang bermanfaat bagi subjek hukum dan dapat menjadi objek hubungan hukum (benda).</p>", funFact: "Di beberapa negara, ada perdebatan hukum untuk memberikan status 'subjek hukum non-manusia' kepada hewan atau bahkan alam.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Perusahaan (PT) dalam hukum dianggap sebagai...", pilihan: ["Objek Hukum", "Subjek Hukum Badan Hukum", "Subjek Hukum Manusia"], jawaban: "Subjek Hukum Badan Hukum", hint: "Dapat memiliki aset dan digugat atas namanya sendiri." }] },
                            hukum_perdata: { judul: "Hukum Perikatan", konten: "<p>Hukum perdata mengatur hubungan antar individu. Hukum Perikatan (Buku III KUHPerdata) adalah inti dari hukum perdata, mengatur tentang perjanjian (kontrak) dan perbuatan melawan hukum.</p>", funFact: "Syarat sahnya perjanjian ada empat: sepakat, cakap, suatu hal tertentu, dan sebab yang halal.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Hubungan hukum antara dua pihak atau lebih dalam bidang harta kekayaan disebut...", pilihan: ["Perkawinan", "Perikatan", "Waris"], jawaban: "Perikatan", hint: "Bisa lahir dari perjanjian atau undang-undang." }] },
                            htn: { judul: "Hukum Tata Negara", konten: "<p>Hukum Tata Negara (HTN) mempelajari negara dalam keadaan diam, yaitu tentang organisasi, struktur, dan wewenang lembaga-lembaga negara.</p>", funFact: "Konsep 'Trias Politica' (pemisahan kekuasaan legislatif, eksekutif, yudikatif) yang digagas Montesquieu adalah konsep sentral dalam HTN modern.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Lembaga negara yang memegang kekuasaan legislatif (membuat UU) di Indonesia adalah...", pilihan: ["Presiden", "Mahkamah Agung", "DPR"], jawaban: "DPR", hint: "Dewan Perwakilan Rakyat." }] },
                            han: { judul: "Hukum Administrasi Negara", konten: "<p>Hukum Administrasi Negara (HAN) mempelajari negara dalam keadaan bergerak, yaitu tentang bagaimana pemerintah menjalankan tugasnya dan hubungan hukumnya dengan warga negara.</p>", funFact: "Surat Izin Mengemudi (SIM) atau Izin Mendirikan Bangunan (IMB) adalah contoh produk dari Hukum Administrasi Negara.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Sengketa antara warga negara dengan pejabat pemerintah terkait suatu keputusan (beschikking) diselesaikan di pengadilan...", pilihan: ["Negeri", "Agama", "Tata Usaha Negara (PTUN)"], jawaban: "Tata Usaha Negara (PTUN)", hint: "Mengadili sengketa administrasi." }] },
                            hukum_internasional: { judul: "Hukum Antar Negara", konten: "<p>Hukum Internasional adalah keseluruhan kaidah dan asas hukum yang mengatur hubungan atau persoalan yang melintasi batas negara.</p>", funFact: "Sumber utama hukum internasional adalah perjanjian internasional (traktat) dan kebiasaan internasional.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Mahkamah yang mengadili kejahatan perang dan genosida adalah...", pilihan: ["Mahkamah Internasional (ICJ)", "Pengadilan Kriminal Internasional (ICC)", "Mahkamah Konstitusi"], jawaban: "Pengadilan Kriminal Internasional (ICC)", hint: "ICJ mengadili sengketa antar negara." }] },
                            hierarki_perundangan: { judul: "Tata Urutan Perundangan", konten: "<p>Ada hierarki (tata urutan) peraturan perundang-undangan, di mana peraturan yang lebih rendah tidak boleh bertentangan dengan yang lebih tinggi. UUD 1945 adalah yang tertinggi.</p>", funFact: "Jika sebuah Undang-Undang dianggap bertentangan dengan UUD 1945, ia dapat diuji materi (judicial review) di Mahkamah Konstitusi.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Dalam hierarki perundangan Indonesia, yang kedudukannya paling tinggi adalah...", pilihan: ["Undang-Undang", "Peraturan Pemerintah", "UUD 1945"], jawaban: "UUD 1945", hint: "Konstitusi negara." }] },
                            hukum_acara: { judul: "Hukum Acara Pidana", konten: "<p>Hukum acara (hukum formil) adalah serangkaian aturan untuk menegakkan hukum materiil. Contoh: bagaimana cara polisi menyidik, jaksa menuntut, dan hakim mengadili dalam kasus pidana.</p>", funFact: "Asas 'praduga tak bersalah' (presumption of innocence) adalah pilar utama dalam hukum acara pidana modern.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Pihak yang bertugas membuktikan dakwaan terhadap terdakwa di pengadilan adalah...", pilihan: ["Hakim", "Pengacara", "Jaksa Penuntut Umum"], jawaban: "Jaksa Penuntut Umum", hint: "Mewakili negara/korban." }] },
                            teori_hukum: { judul: "Tujuan Hukum", konten: "<p>Ada berbagai teori tentang tujuan hukum. Teori Etis (Aristoteles) menyatakan tujuan hukum adalah keadilan. Teori Utilitarian (Bentham) adalah kemanfaatan. Teori Yuridis (Austin) adalah kepastian hukum.</p>", funFact: "Gustav Radbruch mencoba menyeimbangkan ketiganya, menyatakan bahwa hukum harus mengandung nilai keadilan, kemanfaatan, dan kepastian.", kuis: [{ type: "pilihan-ganda", pertanyaan: "Teori yang menyatakan tujuan hukum adalah untuk mencapai 'the greatest happiness for the greatest number' adalah teori...", pilihan: ["Etis", "Utilitarian", "Normatif"], jawaban: "Utilitarian", hint: "Fokus pada manfaat atau kegunaan." }] }
                        }
                    },
                     // Dunia-dunia tambahan untuk Kuliah
                    komunikasi_kuliah: { namaDunia: "Teori Komunikasi", warna: "cyan", icon: "📡", deskripsi: "Menganalisis model, media, dan dampak komunikasi dalam masyarakat.", subMateri: { /* 10 sub-materi */ } },
                    manajemen_kuliah: { namaDunia: "Manajemen Strategis", warna: "amber", icon: "📊", deskripsi: "Mempelajari perencanaan, analisis SWOT, dan pengambilan keputusan dalam bisnis.", subMateri: { /* 10 sub-materi */ } },
                    teknik_kuliah: { namaDunia: "Jantung Teknik Mesin", warna: "slate", icon: "⚙️", deskripsi: "Memahami dasar-dasar termodinamika, statika, dan dinamika.", subMateri: { /* 10 sub-materi */ } },
                    informatika_kuliah: { namaDunia: "Arsitektur Perangkat Lunak", warna: "blue", icon: "💾", deskripsi: "Mempelajari siklus hidup pengembangan software dan design patterns.", subMateri: { /* 10 sub-materi */ } },
                    politik_kuliah: { namaDunia: "Ilmu Politik Modern", warna: "red", icon: "🗳️", deskripsi: "Mengkaji ideologi politik, teori negara, dan sistem pemilu.", subMateri: { /* 10 sub-materi */ } },
                    kedokteran_kuliah: { namaDunia: "Klinik Kedokteran Dasar", warna: "rose", icon: "⚕️", deskripsi: "Pengantar fisiologi manusia, anatomi, dan farmakologi dasar.", subMateri: { /* 10 sub-materi */ } },
                    antropologi_kuliah: { namaDunia: "Antropologi Budaya", warna: "orange", icon: "🗿", deskripsi: "Menjelajahi relativisme budaya, etnografi, dan keragaman manusia.", subMateri: { /* 10 sub-materi */ } }
                }
            }
        };


        function generateBadges() {
            for (const jenjang in edukasiData) {
                const jenjangData = edukasiData[jenjang];
                if (!jenjangData.badges) jenjangData.badges = {};
                for (const duniaId in jenjangData.dunia) {
                    const dunia = jenjangData.dunia[duniaId];
                    jenjangData.badges[duniaId] = {
                        id: duniaId,
                        title: `Pakar ${dunia.namaDunia}`,
                        description: `Menyelesaikan semua materi di ${dunia.namaDunia}.`,
                        icon: dunia.icon
                    };
                }
                const jenjangTitle = { sd: "SD", smp: "SMP", sma: "SMA", kuliah: "Kuliah" }[jenjang];
                jenjangData.badges['cendekia'] = {
                    id: 'cendekia',
                    title: `Cendekia ${jenjangTitle}`,
                    description: `Menyelesaikan 100% materi di jenjang ${jenjangTitle}!`,
                    icon: '🎓'
                };
            }
        }
        generateBadges();


         // --- Variabel & State Aplikasi ---
        const domElements = { 
            screens: document.querySelectorAll('.screen'), 
            modals: document.querySelectorAll('.modal-overlay'),
            loadingScreen: document.getElementById('loading-screen'),
            userListContainer: document.getElementById('user-list-container'), 
            addNewUserBtn: document.getElementById('add-new-user-btn'), 
            playerNameInput: document.getElementById('player-name-input'), 
            avatarSelectionContainer: document.getElementById('avatar-selection-container'),
            nextToLevelBtn: document.getElementById('next-to-level-btn'), 
            cancelNewUserBtn: document.getElementById('cancel-new-user-btn'), 
            jenjangPromptName: document.getElementById('jenjang-prompt-name'), 
            welcomeMessage: document.getElementById('welcome-message'), 
            pointsDisplay: document.getElementById('points-display'), 
            userAvatarHeader: document.getElementById('user-avatar-header'), 
            duniaContainer: document.getElementById('dunia-container'), 
            submateriContainer: document.getElementById('submateri-container'), 
            submateriTitle: document.getElementById('submateri-title'), 
            materiContent: document.getElementById('materi-content'), 
            backToWorldsBtn: document.getElementById('back-to-worlds-btn'), 
            backToSubmateriBtn: document.getElementById('back-to-submateri-btn'), 
            settingsBtn: document.getElementById('settings-btn'), 
            achievementsBtn: document.getElementById('achievements-btn'), 
            closeSettingsBtn: document.getElementById('close-settings-btn'), 
            editNameInput: document.getElementById('edit-name-input'), 
            saveNameBtn: document.getElementById('save-name-btn'), 
            changeJenjangSelect: document.getElementById('change-jenjang-select'),
            soundToggleBtn: document.getElementById('sound-toggle'),
            musicToggleBtn: document.getElementById('music-toggle'),
            zenModeToggle: document.getElementById('zen-mode-toggle'),
            themeSelector: document.getElementById('theme-selector'),
            resetProgressBtn: document.getElementById('reset-progress-btn'), 
            resetUsernameConfirm: document.getElementById('reset-username-confirm'), 
            cancelResetBtn: document.getElementById('cancel-reset-btn'), 
            confirmResetBtn: document.getElementById('confirm-reset-btn'), 
            funFactText: document.getElementById('fun-fact-text'), 
            closeFunFactBtn: document.getElementById('close-fun-fact-btn'), 
            achievementsList: document.getElementById('achievements-list'), 
            closeAchievementsBtn: document.getElementById('close-achievements-btn'), 
            leaderboardBtn: document.getElementById('leaderboard-btn'),
            leaderboardList: document.getElementById('leaderboard-list'),
            closeLeaderboardBtn: document.getElementById('close-leaderboard-btn'),
            dailyMissionBtn: document.getElementById('daily-mission-btn'),
            dailyMissionText: document.getElementById('daily-mission-text'),
            missionProgressBar: document.getElementById('mission-progress-bar'),
            claimMissionRewardBtn: document.getElementById('claim-mission-reward-btn'),
            closeDailyMissionBtn: document.getElementById('close-daily-mission-btn'),
            closeDailyBonusBtn: document.getElementById('close-daily-bonus-btn'),
            avatarShopContainer: document.getElementById('avatar-shop-container'),
            closeAvatarShopBtn: document.getElementById('close-avatar-shop-btn'),
            shopPointsDisplay: document.getElementById('shop-points-display'),
            animationContainer: document.getElementById('animation-container'),
            streakDisplay: document.getElementById('streak-display'),
            dailyBonusAmount: document.getElementById('daily-bonus-amount'),
            dailyStreakBonusText: document.getElementById('daily-streak-bonus-text'),
            mascotTipContainer: document.getElementById('mascot-tip-container'),
            backgroundMusic: document.getElementById('background-music'),
            searchBar: document.getElementById('search-bar'),
            wordOfTheDay: document.getElementById('word-of-the-day'),
            reviewModeBtn: document.getElementById('review-mode-btn'),
            timedChallengeBtn: document.getElementById('timed-challenge-btn'),
            timedChallengeModal: document.getElementById('timed-challenge-modal'),
            challengeTimer: document.getElementById('challenge-timer'),
            challengeQuestionArea: document.getElementById('challenge-question-area'),
            challengeFeedback: document.getElementById('challenge-feedback'),
            closeTimedChallengeBtn: document.getElementById('close-timed-challenge-btn'),
            userTitleDisplay: document.getElementById('user-title-display'),
            genericShopTitle: document.getElementById('generic-shop-title'),
            genericShopContainer: document.getElementById('generic-shop-container'),
            genericShopPoints: document.getElementById('generic-shop-points'),
            eventBannerContainer: document.getElementById('event-banner-container'),
            progressTreeToggle: document.getElementById('progress-tree-toggle'),
            favoritesList: document.getElementById('favorites-list'),
            closeFavoritesBtn: document.getElementById('close-favorites-btn'),
            statsModal: document.getElementById('stats-modal'),
            statsUsername: document.getElementById('stats-username'),
            statsContent: document.getElementById('stats-content'),
            closeStatsBtn: document.getElementById('close-stats-btn'),
        };

        let userProfiles = [];
        let currentUserIndex = -1;
        let activeUser = null;
        let currentDuniaId = null;
        let currentSubmateriId = null;
        let selectedAvatarId = null;
        let timedChallengeInterval = null;
        let viewedUser = null;
        
        const sounds = { 
            click: new Tone.Synth({ oscillator: { type: "sine" }, envelope: { attack: 0.01, decay: 0.2, sustain: 0, release: 0.1 } }).toDestination(), 
            correct: new Tone.Synth({ oscillator: { type: "triangle" }, envelope: { attack: 0.01, decay: 0.3, sustain: 0.1, release: 0.2 } }).toDestination(), 
            wrong: new Tone.Synth({ oscillator: { type: "square" }, envelope: { attack: 0.01, decay: 0.5, sustain: 0, release: 0.2 } }).toDestination(), 
            badge: new Tone.Synth({ oscillator: { type: "sawtooth" }, envelope: { attack: 0.1, decay: 0.5, sustain: 0.2, release: 0.5 } }).toDestination(),
            open: new Tone.Synth({ oscillator: { type: "sine" }, envelope: { attack: 0.01, decay: 0.1, sustain: 0, release: 0.1 } }).toDestination(),
            purchase: new Tone.Synth({ oscillator: { type: "triangle8" }, envelope: { attack: 0.01, decay: 0.4, sustain: 0.1, release: 0.2 } }).toDestination(),
            equip: new Tone.Synth({ oscillator: { type: "sine" }, envelope: { attack: 0.05, decay: 0.2, sustain: 0.2, release: 0.1 } }).toDestination(),
        };

        const colorMapping = { 
            green: { bg: 'bg-green-100', text: 'text-green-800', border: 'border-green-400', progress: 'bg-green-500' }, 
            blue: { bg: 'bg-blue-100', text: 'text-blue-800', border: 'border-blue-400', progress: 'bg-blue-500' },
            purple: { bg: 'bg-purple-100', text: 'text-purple-800', border: 'border-purple-400', progress: 'bg-purple-500' },
            red: { bg: 'bg-red-100', text: 'text-red-800', border: 'border-red-400', progress: 'bg-red-500' },
            stone: { bg: 'bg-stone-100', text: 'text-stone-800', border: 'border-stone-400', progress: 'bg-stone-500' },
            yellow: { bg: 'bg-yellow-100', text: 'text-yellow-800', border: 'border-yellow-400', progress: 'bg-yellow-500' },
            orange: { bg: 'bg-orange-100', text: 'text-orange-800', border: 'border-orange-400', progress: 'bg-orange-500' },
            pink: { bg: 'bg-pink-100', text: 'text-pink-800', border: 'border-pink-400', progress: 'bg-pink-500' },
            teal: { bg: 'bg-teal-100', text: 'text-teal-800', border: 'border-teal-400', progress: 'bg-teal-500' },
            fuchsia: { bg: 'bg-fuchsia-100', text: 'text-fuchsia-800', border: 'border-fuchsia-400', progress: 'bg-fuchsia-500' },
        };

        // --- Fungsi-fungsi Aplikasi ---

        function createNewUser(name, avatarId) {
            const starterAvatars = Object.keys(avatarData).filter(id => avatarData[id].isStarter);
            const defaultTheme = Object.keys(shopData.customization.items).find(id => shopData.customization.items[id].isDefault);
            const u = {
                id: Date.now(),
                name: name, avatarId: avatarId, jenjang: null, points: 0,
                progress: {}, badges: {}, dailyMission: {}, lastLogin: null, loginStreak: 0,
                unlockedAvatars: starterAvatars,
                inventory: defaultTheme ? [defaultTheme] : [],
                favorites: [],
                stats: { correctAnswers: 0, wrongAnswers: 0, quizzesCompleted: 0 },
                settings: { soundOn: true, theme: 'light', musicOn: false, zenMode: false },
            };
            userProfiles.push(u);
            currentUserIndex = userProfiles.length - 1;
            activeUser = u;
            saveData();
            domElements.jenjangPromptName.textContent = `Hai ${activeUser.name}, ayo pilih jenjangmu!`;
            switchScreen('jenjang-screen');
        }
        
        function initializeProgressForJenjang(jenjang) {
            if (!edukasiData[jenjang] || !activeUser) return;
            if (!activeUser.progress) activeUser.progress = {};
            if (!activeUser.badges) activeUser.badges = {};
            if (activeUser.progress[jenjang]) return;
            activeUser.progress[jenjang] = {};
            activeUser.badges[jenjang] = [];
            for (const duniaId in edukasiData[jenjang].dunia) {
                activeUser.progress[jenjang][duniaId] = {};
                for (const submateriId in edukasiData[jenjang].dunia[duniaId].subMateri) {
                    activeUser.progress[jenjang][duniaId][submateriId] = { done: false };
                }
            }
            saveData();
        }

        function checkDailyLogin() {
            const today = new Date().toDateString();
            if (activeUser.lastLogin === today) return;
            const yesterday = new Date();
            yesterday.setDate(yesterday.getDate() - 1);
            if (activeUser.lastLogin === yesterday.toDateString()) activeUser.loginStreak++;
            else activeUser.loginStreak = 1;
            const baseBonus = 50;
            const streakBonus = activeUser.loginStreak * 10;
            const totalBonus = baseBonus + streakBonus;
            activeUser.lastLogin = today;
            addPoints(totalBonus, null, false);
            domElements.dailyBonusAmount.textContent = `${totalBonus} Poin`;
            domElements.dailyStreakBonusText.textContent = activeUser.loginStreak > 1 ? `Bonus beruntun ${activeUser.loginStreak} hari: +${streakBonus} poin!` : "Kembali besok untuk bonus lebih besar!";
            showModal('daily-bonus-modal');
            saveData();
            updateUI();
        }

        function updateUI() {
            if (!activeUser) return;
            document.body.classList.toggle('zen-mode', activeUser.settings.zenMode);
            domElements.welcomeMessage.textContent = `Halo, ${activeUser.name}!`;
            domElements.userAvatarHeader.innerHTML = avatarData[activeUser.avatarId].svg;
            domElements.streakDisplay.innerHTML = activeUser.loginStreak > 1 ? `🔥 ${activeUser.loginStreak}` : '';
            domElements.pointsDisplay.textContent = `💰 Poin: ${activeUser.points}`;
        }
        
        function showAnimation(text, type = 'point') {
            const animEl = document.createElement('div');
            animEl.className = 'point-animation';
            animEl.textContent = text;
            domElements.animationContainer.appendChild(animEl);
            setTimeout(() => animEl.remove(), 1500);
        }

        function addPoints(amount, duniaId = null, withAnimation = true) {
            if (!activeUser || activeUser.settings.zenMode) return;
            activeUser.points += amount;
            if(withAnimation && amount > 0) showAnimation(`+${amount}`, 'point');
            saveData();
            updateUI();
        }

        function handleQuizAnswer(element, answer, duniaId, submateriId, type, hintUsed) {
            const feedbackEl = domElements.materiContent.querySelector('#quiz-feedback');
            const isCompleted = activeUser.progress[activeUser.jenjang]?.[duniaId]?.[submateriId]?.done;
            const userAnswer = (type === 'isi-jawaban') ? element.value.trim() : element.textContent.trim();
            const isCorrect = userAnswer.toLowerCase() === answer.toLowerCase();

            if (isCorrect) {
                playSound('correct');
                feedbackEl.textContent = 'Jawaban Benar! Kamu Hebat!';
                feedbackEl.className = 'mt-4 text-lg font-bold text-green-600';
                if (!isCompleted) {
                    showAnimation('⭐+10', 'point');
                    addPoints(10, duniaId, false);
                    activeUser.progress[activeUser.jenjang][duniaId][submateriId] = { done: true };
                    saveData();
                }
                setTimeout(() => {
                    const materi = edukasiData[activeUser.jenjang].dunia[duniaId].subMateri[submateriId];
                    document.getElementById('mascot-container').innerHTML = mascotSVG;
                    domElements.funFactText.textContent = materi.funFact;
                    showModal('fun-fact-modal');
                }, 1000);
            } else {
                playSound('wrong');
                feedbackEl.textContent = 'Jawaban kurang tepat, coba lagi!';
                feedbackEl.className = 'mt-4 text-lg font-bold text-red-600';
                if (element.classList) {
                    element.classList.add('animate-shake');
                    setTimeout(() => element.classList.remove('animate-shake'), 500);
                }
            }
            domElements.materiContent.querySelectorAll('button, input').forEach(btn => btn.disabled = true);
        }
        
        function renderDuniaMap() {
            const jenjang = activeUser.jenjang;
            const dataDunia = edukasiData[jenjang].dunia;
            domElements.duniaContainer.innerHTML = '';
            for (const duniaId in dataDunia) {
                const dunia = dataDunia[duniaId];
                const c = colorMapping[dunia.warna] || colorMapping.blue;
                const progress = activeUser.progress[jenjang]?.[duniaId] || {};
                const total = Object.keys(dunia.subMateri).length;
                const completed = Object.values(progress).filter(p => p.done).length;
                const percentage = total > 0 ? (completed / total) * 100 : 0;
                const card = document.createElement('div');
                card.className = `p-6 rounded-2xl shadow-lg cursor-pointer card-hover border-4 ${c.border} flex flex-col`;
                card.style.backgroundColor = `var(--card-bg-color)`;
                card.innerHTML = `<div class="text-5xl text-center mb-4">${dunia.icon}</div><h3 class="font-brand text-2xl text-center ${c.text}">${dunia.namaDunia}</h3><p class="text-sm mt-2 text-center flex-grow">${dunia.deskripsi}</p><div class="mt-4"><div class="text-xs font-semibold text-center mb-1">${completed} / ${total} Selesai</div><div class="w-full bg-gray-200 rounded-full h-2.5"><div class="${c.progress} h-2.5 rounded-full" style="width: ${percentage}%;"></div></div></div>`;
                card.addEventListener('click', () => {
                    playSound('click');
                    currentDuniaId = duniaId;
                    renderSubMateri(duniaId);
                    switchScreen('submateri-screen');
                });
                domElements.duniaContainer.appendChild(card);
            }
        }
        
        function renderSubMateri(duniaId) { 
            const dunia = edukasiData[activeUser.jenjang].dunia[duniaId];
            const useTreeView = domElements.progressTreeToggle.checked;
            const colors = colorMapping[dunia.warna] || colorMapping.blue;
            domElements.submateriTitle.textContent = dunia.namaDunia;
            domElements.submateriTitle.className = `font-brand text-4xl md:text-5xl text-center ${colors.text}`;
            domElements.submateriContainer.innerHTML = '';
            let prevSubmateriId = null; 
            for (const submateriId in dunia.subMateri) {
                const submateri = dunia.subMateri[submateriId];
                const isCompleted = activeUser.progress[activeUser.jenjang]?.[duniaId]?.[submateriId]?.done;
                let isLocked = false;
                if(useTreeView) {
                    const prevIsCompleted = prevSubmateriId ? activeUser.progress[activeUser.jenjang]?.[duniaId]?.[prevSubmateriId]?.done : true;
                    if(!prevIsCompleted) isLocked = true;
                }
                const card = document.createElement('div');
                card.className = `p-5 rounded-xl shadow-md flex items-center justify-between border-2 ${colors.border} ${isLocked ? 'opacity-50 cursor-not-allowed' : 'cursor-pointer card-hover'}`;
                card.innerHTML = `<span class="font-semibold ${colors.text}">${submateri.judul}</span> ${isCompleted ? `<span class="text-2xl text-yellow-500 star-animation">⭐</span>` : (isLocked ? `<span>🔒</span>` : `<span class="w-6 h-6 rounded-full border-2 ${colors.border}"></span>`)}`; 
                if(!isLocked) {
                    card.addEventListener('click', () => { 
                        playSound('click'); 
                        currentSubmateriId = submateriId; 
                        renderMateri(duniaId, submateriId); 
                        switchScreen('materi-screen'); 
                    });
                }
                domElements.submateriContainer.appendChild(card);
                prevSubmateriId = submateriId;
            }
        }

        function renderMateri(duniaId, submateriId) { 
            const materi = edukasiData[activeUser.jenjang].dunia[duniaId].subMateri[submateriId];
            const quiz = materi.kuis[0];
            const isFavorited = activeUser.favorites.some(fav => fav.duniaId === duniaId && fav.submateriId === submateriId);
            let optionsHTML = '';
            if (quiz.type === 'pilihan-ganda') { 
                [...quiz.pilihan].sort(() => .5 - Math.random()).forEach(o => { optionsHTML += `<button class="quiz-option w-full text-left p-4 my-2 border-2 rounded-lg font-semibold transition-colors hover:bg-gray-100">${o}</button>`; }); 
            } else {
                optionsHTML = `<div class="flex gap-2 items-center"><input type="text" id="quiz-input-text" class="w-full p-3 border-2 rounded-lg"><button id="quiz-submit-btn" class="bg-blue-500 text-white font-bold py-3 px-5 rounded-lg">Jawab</button></div>`; 
            }

            const favoriteIconSVG = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"></path></svg>`;
            
            domElements.materiContent.innerHTML = `
                <div class="flex justify-between items-start">
                    <h2 class="font-brand text-3xl mb-4">${materi.judul}</h2>
                    <button class="favorite-btn p-2 rounded-full transition-colors hover:bg-yellow-100 ${isFavorited ? 'favorited' : ''}" title="Tambahkan ke Favorit" data-dunia-id="${duniaId}" data-submateri-id="${submateriId}">${favoriteIconSVG}</button>
                </div>
                <div class="prose max-w-none">${materi.konten}</div>
                <hr class="my-6">
                <h3 class="font-bold text-xl mb-3">Tantangan Cepat!</h3>
                <p class="mb-4 text-lg">${quiz.pertanyaan}</p>
                <div>${optionsHTML}</div>
                <div id="quiz-feedback" class="mt-4 text-lg font-bold"></div>`;

            if(quiz.type === 'isi-jawaban'){ document.getElementById('quiz-submit-btn').addEventListener('click', () => handleQuizAnswer(document.getElementById('quiz-input-text'), quiz.jawaban, duniaId, submateriId, quiz.type, false)); } else { domElements.materiContent.querySelectorAll('.quiz-option').forEach(b => b.addEventListener('click', (e) => handleQuizAnswer(e.target, quiz.jawaban, duniaId, submateriId, quiz.type, false))); }
            domElements.materiContent.querySelector('.favorite-btn').addEventListener('click', toggleFavorite);
        }

        function toggleFavorite(event) {
            const btn = event.currentTarget;
            const { duniaId, submateriId } = btn.dataset;
            const favoriteIndex = activeUser.favorites.findIndex(fav => fav.duniaId === duniaId && fav.submateriId === submateriId);

            if (favoriteIndex > -1) {
                activeUser.favorites.splice(favoriteIndex, 1);
                btn.classList.remove('favorited');
                showMascotTip("Dihapus dari favorit.");
            } else {
                activeUser.favorites.push({ duniaId, submateriId });
                btn.classList.add('favorited');
                showMascotTip("Ditambahkan ke favorit!");
            }
            playSound('click');
            saveData();
        }

        function renderFavorites() {
            domElements.favoritesList.innerHTML = '';
            if (activeUser.favorites.length === 0) {
                domElements.favoritesList.innerHTML = `<p class="text-center text-gray-500">Kamu belum punya kuis favorit. Tandai kuis dengan ikon bintang untuk berlatih lagi di sini!</p>`;
                return;
            }
            activeUser.favorites.forEach(fav => {
                const dunia = edukasiData[activeUser.jenjang].dunia[fav.duniaId];
                const submateri = dunia.subMateri[fav.submateriId];
                const colors = colorMapping[dunia.warna];
                const itemEl = document.createElement('div');
                itemEl.className = `p-4 rounded-lg flex justify-between items-center cursor-pointer hover:bg-gray-100 border-2 ${colors.border}`;
                itemEl.innerHTML = `
                    <div>
                        <span class="font-bold ${colors.text}">${submateri.judul}</span>
                        <p class="text-sm text-gray-500">${dunia.namaDunia}</p>
                    </div>
                    <span class="text-2xl">${dunia.icon}</span>`;
                itemEl.addEventListener('click', () => {
                    hideModals();
                    renderMateri(fav.duniaId, fav.submateriId);
                    switchScreen('materi-screen');
                });
                domElements.favoritesList.appendChild(itemEl);
            });
        }
        
        function setupNewUserScreen() {
            domElements.avatarSelectionContainer.innerHTML = '';
            Object.keys(avatarData).filter(id => avatarData[id].isStarter).forEach(avatarId => {
                const avatarEl = document.createElement('div');
                avatarEl.className = 'avatar-selection w-20 h-20 p-1';
                avatarEl.dataset.avatarId = avatarId;
                avatarEl.innerHTML = avatarData[avatarId].svg;
                avatarEl.addEventListener('click', () => {
                    document.querySelectorAll('.avatar-selection').forEach(el => el.classList.remove('selected'));
                    avatarEl.classList.add('selected');
                    selectedAvatarId = avatarId;
                    domElements.nextToLevelBtn.disabled = !domElements.playerNameInput.value.trim();
                });
                domElements.avatarSelectionContainer.appendChild(avatarEl);
            });
        }
        
        function startSession() {
            checkDailyLogin();
            updateUI();
            switchScreen('map-screen');
            renderDuniaMap();
        }

        function renderLeaderboard() {
            domElements.leaderboardList.innerHTML = '';
            const sortedUsers = [...userProfiles].sort((a, b) => b.points - a.points);
            sortedUsers.forEach((user, index) => {
                const rank = index + 1;
                const medal = rank === 1 ? '🥇' : rank === 2 ? '🥈' : rank === 3 ? '🥉' : `#${rank}`;
                const isCurrentUser = user.id === activeUser.id;
                const row = document.createElement('div');
                row.className = `flex items-center justify-between p-3 rounded-lg cursor-pointer hover:bg-gray-100 ${isCurrentUser ? 'bg-blue-100 border-2 border-blue-400' : ''}`;
                row.style.backgroundColor = isCurrentUser ? '' : 'var(--bg-color)';
                row.innerHTML = `<div class="flex items-center gap-3"><span class="font-bold text-lg w-8 text-center">${medal}</span><span class="font-semibold">${user.name}</span></div><span class="font-bold text-amber-600">${user.points} Poin</span>`;
                row.addEventListener('click', () => {
                    viewedUser = user;
                    renderStatsPage(user);
                });
                domElements.leaderboardList.appendChild(row);
            });
        }
        
        function renderStatsPage(user) {
            hideModals();
            domElements.statsUsername.textContent = `Statistik ${user.name}`;
            const jenjang = user.jenjang;
            const badges = jenjang ? edukasiData[jenjang].badges : {};
            const userBadges = user.badges && user.badges[jenjang] ? user.badges[jenjang] : [];
            domElements.statsContent.innerHTML = `
                <div class="p-3 rounded-lg flex justify-between items-center" style="background-color: var(--bg-color);"><strong>Poin:</strong> <span class="font-bold text-amber-700">${user.points}</span></div>
                <div class="p-3 rounded-lg flex justify-between items-center" style="background-color: var(--bg-color);"><strong>Kuis Selesai:</strong> <span class="font-bold text-green-700">${user.stats.quizzesCompleted || 0}</span></div>
                <div class="p-3 rounded-lg flex justify-between items-center" style="background-color: var(--bg-color);"><strong>Lencana:</strong> <span class="font-bold text-sky-700">${userBadges.length} / ${Object.keys(badges).length}</span></div>
                <div class="p-3 rounded-lg flex justify-between items-center" style="background-color: var(--bg-color);"><strong>Login Beruntun:</strong> <span class="font-bold text-red-700">${user.loginStreak || 0} Hari</span></div>
            `;
            showModal('stats-modal');
        }
        
        function initializeApp() {
            setTimeout(() => {
                if (loadData() && userProfiles.length > 0) { 
                    renderUserSelectionScreen();
                } else { 
                    setupNewUserScreen();
                    switchScreen('name-entry-screen');
                }
            }, 500);
        }

        function renderUserSelectionScreen() {
            domElements.userListContainer.innerHTML = ''; 
            userProfiles.forEach((user, index) => {
                const card = document.createElement('div');
                card.className = 'user-card p-4 rounded-2xl shadow-lg text-center cursor-pointer card-hover';
                card.style.backgroundColor = 'var(--card-bg-color)';
                card.innerHTML = `${avatarData[user.avatarId]?.svg || ''}<h3 class="font-bold text-xl">${user.name}</h3>`;
                card.addEventListener('click', () => { 
                    playSound('click'); 
                    currentUserIndex = index; 
                    activeUser = userProfiles[index];
                    if (!activeUser.jenjang) {
                        domElements.jenjangPromptName.textContent = `Hai ${activeUser.name}, ayo pilih jenjangmu!`;
                        switchScreen('jenjang-screen');
                    } else {
                        applySettings();
                        startSession();
                    }
                });
                domElements.userListContainer.appendChild(card);
            });
            switchScreen('user-selection-screen');
        }

        // --- Inisialisasi & Helper Functions ---
        function playSound(type) { if(!activeUser?.settings?.soundOn) return; try { Tone.start(); if (type === 'correct') sounds.correct.triggerAttackRelease("C5", "8n"); else if (type === 'wrong') sounds.wrong.triggerAttackRelease("C3", "8n"); else if (type === 'badge') { sounds.badge.triggerAttackRelease("G4", "8n", Tone.now()); sounds.badge.triggerAttackRelease("C5", "8n", Tone.now() + 0.2); } else sounds.click.triggerAttackRelease("C4", "8n"); } catch (e) {} }
        function saveData() { if (currentUserIndex > -1 && activeUser) { userProfiles[currentUserIndex] = activeUser; } localStorage.setItem('petualanganPengetahuanV4', JSON.stringify(userProfiles)); }
        function loadData() { const d = localStorage.getItem('petualanganPengetahuanV4'); if (d) { userProfiles = JSON.parse(d); return true; } return false; }
        function switchScreen(id) { domElements.screens.forEach(s => s.classList.remove('active')); const screen = document.getElementById(id); if (screen) screen.classList.add('active'); }
        function showModal(id) { playSound('open'); const modal = document.getElementById(id); if (modal) modal.classList.add('active'); }
        function hideModals() { domElements.modals.forEach(m => m.classList.remove('active')); }
        function applySettings() { document.body.className = ''; document.body.classList.add(activeUser.settings.theme); toggleMusic(activeUser.settings.musicOn); }
        function toggleMusic(forceState) { let musicOn = forceState ?? !activeUser.settings.musicOn; if(musicOn){ domElements.backgroundMusic.play().catch(e=>{}); domElements.musicToggleBtn.textContent = '🎵'; } else { domElements.backgroundMusic.pause(); domElements.musicToggleBtn.textContent = '🎶'; } activeUser.settings.musicOn = musicOn; saveData(); }
        function showMascotTip(message) { domElements.mascotTipContainer.innerHTML = ''; const tipEl = document.createElement('div'); tipEl.className = 'mascot-tip'; tipEl.innerHTML = `<div class="w-12 h-12 mr-3">${mascotSVG}</div><p class="text-sm">${message}</p>`; domElements.mascotTipContainer.appendChild(tipEl); setTimeout(() => { tipEl.remove(); }, 6000); }


        // --- Event Listeners ---
        domElements.addNewUserBtn.addEventListener('click', () => { playSound('click'); setupNewUserScreen(); switchScreen('name-entry-screen'); });
        domElements.cancelNewUserBtn.addEventListener('click', () => { playSound('click'); initializeApp(); });
        domElements.nextToLevelBtn.addEventListener('click', () => { createNewUser(domElements.playerNameInput.value.trim(), selectedAvatarId); });
        domElements.playerNameInput.addEventListener('input', () => { domElements.nextToLevelBtn.disabled = !(domElements.playerNameInput.value.trim() && selectedAvatarId); });
        document.querySelectorAll('.jenjang-btn').forEach(b => b.addEventListener('click', (e) => { activeUser.jenjang = e.currentTarget.dataset.jenjang; initializeProgressForJenjang(activeUser.jenjang); saveData(); startSession(); }));
        domElements.settingsBtn.addEventListener('click', () => { domElements.zenModeToggle.checked = activeUser.settings.zenMode; domElements.soundToggleBtn.textContent = activeUser.settings.soundOn ? '🔊' : '🔇'; domElements.musicToggleBtn.textContent = activeUser.settings.musicOn ? '🎵' : '🎶'; showModal('settings-modal'); });
        document.querySelectorAll('.settings-tab').forEach(tab => {
            tab.addEventListener('click', () => {
                document.querySelectorAll('.settings-tab').forEach(t => t.classList.remove('border-sky-500', 'text-sky-600'));
                tab.classList.add('border-sky-500', 'text-sky-600');
                document.querySelectorAll('.settings-tab-pane').forEach(pane => pane.style.display = 'none');
                document.getElementById('tab-' + tab.dataset.tab).style.display = 'block';
            });
        });
        domElements.closeSettingsBtn.addEventListener('click', hideModals);
        domElements.achievementsBtn.addEventListener('click', () => showModal('achievements-modal'));
        domElements.closeAchievementsBtn.addEventListener('click', hideModals);
        domElements.closeFunFactBtn.addEventListener('click', () => { hideModals(); renderSubMateri(currentDuniaId); switchScreen('submateri-screen'); });
        domElements.closeDailyBonusBtn.addEventListener('click', hideModals);
        domElements.backToWorldsBtn.addEventListener('click', () => { renderDuniaMap(); switchScreen('map-screen'); });
        domElements.backToSubmateriBtn.addEventListener('click', () => { renderSubMateri(currentDuniaId); switchScreen('submateri-screen'); });
        domElements.progressTreeToggle.addEventListener('change', () => renderSubMateri(currentDuniaId));
        domElements.zenModeToggle.addEventListener('change', (e) => { activeUser.settings.zenMode = e.target.checked; saveData(); updateUI(); });
        domElements.soundToggleBtn.addEventListener('click', () => { activeUser.settings.soundOn = !activeUser.settings.soundOn; domElements.soundToggleBtn.textContent = activeUser.settings.soundOn ? '🔊' : '🔇'; saveData(); });
        domElements.musicToggleBtn.addEventListener('click', () => toggleMusic());
        domElements.reviewModeBtn.addEventListener('click', () => { renderFavorites(); showModal('favorites-modal'); });
        domElements.closeFavoritesBtn.addEventListener('click', hideModals);
        domElements.leaderboardBtn.addEventListener('click', () => { renderLeaderboard(); showModal('leaderboard-modal'); });
        domElements.closeLeaderboardBtn.addEventListener('click', hideModals);
        domElements.dailyMissionBtn.addEventListener('click', () => { /* Logic Misi Harian */ showModal('daily-mission-modal'); });
        domElements.closeDailyMissionBtn.addEventListener('click', hideModals);
        domElements.timedChallengeBtn.addEventListener('click', () => { /* Logic Tantangan Waktu */ showModal('timed-challenge-modal'); });
        domElements.closeTimedChallengeBtn.addEventListener('click', hideModals);
        document.getElementById('shop-hub-btn').addEventListener('click', () => showModal('shop-hub-modal'));
        document.getElementById('close-shop-hub-btn').addEventListener('click', hideModals);
        document.getElementById('open-avatar-shop').addEventListener('click', () => { hideModals(); showModal('avatar-shop-modal'); });
        document.getElementById('open-customization-shop').addEventListener('click', () => { hideModals(); /* Buka toko kustomisasi */ });
        domElements.closeAvatarShopBtn.addEventListener('click', hideModals);
        domElements.saveNameBtn.addEventListener('click', () => { activeUser.name = domElements.editNameInput.value.trim(); saveData(); updateUI(); });
        domElements.changeJenjangSelect.addEventListener('change', (e) => { activeUser.jenjang = e.target.value; initializeProgressForJenjang(activeUser.jenjang); saveData(); renderDuniaMap(); });
        domElements.resetProgressBtn.addEventListener('click', () => { showModal('confirm-reset-modal'); });
        domElements.cancelResetBtn.addEventListener('click', () => { hideModals(); showModal('settings-modal'); });
        domElements.confirmResetBtn.addEventListener('click', () => { activeUser.progress[activeUser.jenjang] = {}; activeUser.points = 0; saveData(); hideModals(); renderDuniaMap(); });
        domElements.closeStatsBtn.addEventListener('click', () => { hideModals(); showModal('leaderboard-modal'); });
        
        initializeApp();
    </script>
</body>
</html>
